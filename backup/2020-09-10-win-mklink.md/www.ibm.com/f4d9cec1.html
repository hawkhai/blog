<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" style="" class="no-applicationcache geolocation history postmessage svg websockets localstorage sessionstorage websqldatabase webworkers hashchange pointerevents canvas audio canvastext video webgl cssgradients multiplebgs opacity rgba inlinesvg hsla supports svgclippaths smil no-touchevents fontface generatedcontent textshadow cssanimations backgroundsize borderimage borderradius boxshadow csscolumns csscolumns-width csscolumns-span csscolumns-fill csscolumns-gap csscolumns-rule csscolumns-rulecolor csscolumns-rulestyle csscolumns-rulewidth csscolumns-breakbefore csscolumns-breakafter csscolumns-breakinside flexbox flexboxlegacy cssreflections csstransforms csstransforms3d csstransitions indexeddb indexeddb-deletedatabase js ibm-v18 ibm-cxtype-4g no-hires win chrome chrome8 webkit webkit5 ibm-grid-medium greater-china-imt"><head>
<meta charset="UTF-8" />	
<meta name="viewport" content="width=device-width, initial-scale=1" />      
<link rel="icon" href="//www.ibm.com/favicon.ico" />
<link rel="canonical" href="http://www.ibm.com/developerworks/cn/linux/l-cn-hardandsymb-links/index.html" />
<meta name="geo.country" content="CN" />
<meta name="dcterms.rights" content="© Copyright IBM Corporation 2012" />
<meta name="dcterms.date" content="2012-12-20" />
<meta name="description" content="硬链接与软链接是 Linux 文件系统中的一个重要概念，其涉及文件系统中的索引节点 (index node 又称 inode)，而索引节点对象是 Linux 虚拟文件系统 (VFS) 的四个基本概念之一。通过剖析硬链接与软链接的联系与区别，我们可更好的了解 Linux 中 VFS 这一通用文件模型。并让 Linux 普通用户和系统管理员正确使用硬链接与软链接，帮助文件系统开发者获取 inode 的相关知识。" />	
<meta name="keywords" content="hard link, symbolic link, inode, tttlca" />
<meta name="robots" content="index,follow" />
<title>理解 Linux 的硬链接与软链接</title>
    
<iframe height="0" width="0" src="javascript:'&lt;script&gt;function i(a){new Image().src = a};i(&quot;https://cm.pos.baidu.com/pixel?dspid=6418041&amp;ext_data=200020104&quot;);i(&quot;https://cm.g.doubleclick.net/pixel?google_nid=ipy&amp;google_cm&amp;ext_data=200020104&quot;);i(&quot;https://cyes.youku.com/cm.gif?dspid=11112&amp;s=1&amp;ext_data=200020104&quot;);i(&quot;https://ckm.iqiyi.com/pixel?qiyi_nid=71000015&amp;qiyi_sc&amp;ext_data=200020104&quot;);i(&quot;https://ckm.aty.sohu.com/cm.gif?ver=1&amp;mid=10012&amp;ext_data=200020104&quot;);i(&quot;https://cm.l.qq.com/?dspid=10016&amp;dspuid=G1LIOs21cjIy&amp;gettuid=1&amp;ext_data=200020104&quot;);&lt;/script&gt;'" name="_pycmifr" style="display: none; visibility: hidden;"></iframe><script type="text/javascript" async="" src="https://stats.ipinyou.com/adv?a=Ass8T..UDQx6B7nbteTOqFn_n9jmP&amp;u=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Flinux%2Fl-cn-hardandsymb-links%2F&amp;rd=1608275839784&amp;v=2&amp;e=sr%3D1920x1080%26sc%3D24-bit%26je%3Dfalse%26lg%3Dzh-cn%26vb%3D1%26did%3D%26dt%3D%26ps%3D912x13333%26vp%3D912x889%26ec%3DUTF-8%26vbt%3D1183%26sp%3D0%26ur%3D%26st%3D%26ev%3Dvg%26ep%3D%257B%2522utid%2522%253A%2522%255B%257B%2522ut10%2522%253A%2522G0000%2522%252C%2522unifiedTaxonomyL10%2522%253A%2522Global%2520Cross-BU%2522%257D%252C%257B%2522ut15%2522%253A%2522G1500%2522%252C%2522unifiedTaxonomyL15%2522%253A%2522Global%2520Minor%2522%257D%252C%257B%2522ut17%2522%253A%2522G17DW%2522%252C%2522unifiedTaxonomyL17%2522%253A%2522developerWorks%2522%257D%255D%2522%257D"></script><script type="text/javascript" async="" src="https://mdi.ipinyou.com/adv?a=Ass8T..UDQx6B7nbteTOqFn_n9jmP&amp;u=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Flinux%2Fl-cn-hardandsymb-links%2F&amp;rd=1608275839784&amp;v=2&amp;e=sr%3D1920x1080%26sc%3D24-bit%26je%3Dfalse%26lg%3Dzh-cn%26vb%3D1%26did%3D%26dt%3D%26ps%3D912x13333%26vp%3D912x889%26ec%3DUTF-8%26vbt%3D1183%26sp%3D0%26ur%3D%26st%3D%26ev%3Dvg%26ep%3D%257B%2522utid%2522%253A%2522%255B%257B%2522ut10%2522%253A%2522G0000%2522%252C%2522unifiedTaxonomyL10%2522%253A%2522Global%2520Cross-BU%2522%257D%252C%257B%2522ut15%2522%253A%2522G1500%2522%252C%2522unifiedTaxonomyL15%2522%253A%2522Global%2520Minor%2522%257D%252C%257B%2522ut17%2522%253A%2522G17DW%2522%252C%2522unifiedTaxonomyL17%2522%253A%2522developerWorks%2522%257D%255D%2522%257D"></script><script id="loadedViaBxAnalytics-HU3dbkAG5wE0F1IkRf9S1RexlAqo3jby" src="https://cdn.segment.com/analytics.js/v1/HU3dbkAG5wE0F1IkRf9S1RexlAqo3jby/analytics.min.js" type="text/javascript" async=""></script><script type="text/javascript" async="" src="https://stats.ipinyou.com/presadv?a=Ass8T..UDQx6B7nbteTOqFn_n9jmP&amp;cb=py.cb"></script><script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_178" src="//pixel.mathtag.com/sync/js?cs_jsonp=mmUuidSync&amp;mt_nsync=1"></script><script async="" src="//fm.ipinyou.com/j/a.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_21" src="//bat.bing.com/bat.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_19" src="//static.hotjar.com/c/hotjar-42920.js?sv=5"></script><script type="text/javascript" async="" charset="utf-8" id="utag_136" src="//1.www.s81c.com/common/stats/survey.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_16" src="//www.googleadservices.com/pagead/conversion_async.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_182" src="//cloud.ibm.com/analytics/build/bluemix-analytics.min.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_53" src="//pixel.mathtag.com/event/js?mt_pp=1"></script><script type="text/javascript" async="" charset="utf-8" id="demandbase_js_lib" src="//scripts.demandbase.com/ab057a07.min.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_162" src="https://www.googletagmanager.com/gtag/js?id=UA-143580012-4"></script><script type="text/javascript" async="" charset="utf-8" id="tealium_cormetrics2" src="//libs.coremetrics.com/eluminate.js"></script><script src="https://tags.tiqcdn.com/utag/ibm/web/prod/utag.js" type="application/javascript" async=""></script><script src="https://www-api.ibm.com/dbdm/tag/sync?callback=_dl.fn.dataSync.callback" type="application/javascript" async=""></script><script src="https://tags.crwdcntrl.net/lt/c/10026/lt.min.js" type="application/javascript" async=""></script><script src="https://tags.tiqcdn.com/dle/ibm/web/p_268cc000ea63c87372e69f8e87d8d97ab64924d8930871427524645bf60bf188.js" type="application/javascript" async=""></script><script> 
    digitalData = {
        "page":{
            "category":{
                "primaryCategory":"SOFDCLNXCN"
            },
            "pageInfo":{
                "effectiveDate":"2012-12-20",
                "language":"zh-CN",
                "publishDate":"2012-12-20",
                "publisher":"IBM Corporation",
                "version":"v18",
                "ibm":{ 
                    "contentDelivery":"IBM developerWorks template",
                    "contentProducer":"IBM developerWorks",
                    "country":"CN",
                    "owner":"developerWorks/China/IBM",
                    "siteID":"DEVWRKS",
                    "subject":"SWGC0",
                    "type":"CT316",
                    "topic":"管理,存储",
                    "topicId":"370,90",
                    "contentArea":"linux",
                    "contentAreaId":"2",
                    "contentType":"article",
                    "contentId":"852952",
                },
                "keywords":"hard link, symbolic link, inode, tttlca",
                "description":"硬链接与软链接是 Linux 文件系统中的一个重要概念，其涉及文件系统中的索引节点 (index node 又称 inode)，而索引节点对象是 Linux 虚拟文件系统 (VFS) 的四个基本概念之一。通过剖析硬链接与软链接的联系与区别，我们可更好的了解 Linux 中 VFS 这一通用文件模型。并让 Linux 普通用户和系统管理员正确使用硬链接与软链接，帮助文件系统开发者获取 inode 的相关知识。"
            }
        }
    };
    window._analytics = {
        "coremetrics": false,
        "optimizely": false,
        "googleAddServices": false,
        "addRoll": false,
        "intercom": false,
        "fullStory": false,
        "hotjar": false,
        "tealeaf": false,
        "nps": false,
        "segment_key": 'HU3dbkAG5wE0F1IkRf9S1RexlAqo3jby'
    };
</script>
	
    <meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@developerworks" />
<meta property="og:title" content="理解 Linux 的硬链接与软链接" />
<meta property="og:description" content="硬链接与软链接是 Linux 文件系统中的一个重要概念，其涉及文件系统中的索引节点 (index node 又称 inode)，而索引节点对象是 Linux 虚拟文件系统 (VFS) 的四个基本概念之一。通过剖析硬链接与软链接的联系与区别，我们可更好的了解 Linux 中 VFS 这一通用文件模型。并让 Linux 普通用户和系统管理员正确使用硬链接与软链接，帮助文件系统开发者获取 inode 的相关知识。" />
    <meta property="og:image" content="http://www.ibm.com/developerworks/i/dw-social-201508.png" />
<!-- Segment meta tag -->
<meta name="segment" property="developerWorks (developerWorks)" producttitle="developerWorks" value="Linux Chinese (developerWorks)" />      
<!-- SITE MON : START (DO NOT DELETE) -->
<!-- developerWorks monitoring token -->
<!-- SITE MON : END (DO NOT DELETE) -->

<!-- HEADER_SCRIPTS_AND_CSS_INCLUDE -->
<!-- <script src="//cdn.optimizely.com/js/5399420604.js"></script> -->
<!-- BEGIN: Use this section to set page specific variables for the Page Tag -->
<script language="JavaScript">var NTPT_PGEXTRA="ibmSkillLevel=1&amp;ibmCmaId=852952&amp;ibmContentAreas=linux";</script>
<!--END -->
<script src="//1.www.s81c.com/common/stats/ida_stats.js"></script><meta property="og:type" content="website" /><meta property="og:url" content="http://www.ibm.com/developerworks/cn/linux/l-cn-hardandsymb-links/index.html" /><meta property="og:locale" content="zh-CN" /><meta property="og:published_time" content="2012-12-20" /><meta property="article:published_time" content="2012-12-20" />
<link href="//1.www.s81c.com/common/v18/css/www.css" rel="stylesheet" />
<link href="//1.www.s81c.com/common/v18/css/syntaxhighlighter.css" rel="stylesheet" />
<script src="//1.www.s81c.com/common/v18/js/www.js"></script><style></style>
<script src="//1.www.s81c.com/common/v18/js/syntaxhighlighter.js"></script>    
<link href="//1.www.s81c.com/common/v18/css/tables.css" rel="stylesheet" />
<script src="//1.www.s81c.com/common/v18/js/tables.js"></script>   
<!--  Masthead/footer  -->
<link href="//dw1.s81c.com/developerworks/css/dw-mf/v18/dw-mf-v18.css?v=111618" rel="stylesheet" />
<!-- <link href="//dw1.s81c.com/developerworks/css/dw-mf/v18/alt-signedin-ux.css" rel="stylesheet" /> -->   
<!--[if lt IE 9]>
    <link href="//dw1.s81c.com/developerworks/css/dw-mf/v18/dw-mf-ie8fix.css?v=022216" rel="stylesheet" />
<![endif]-->
<link href="//dw1.s81c.com/developerworks/css/v18/dw-article.css" rel="stylesheet" />
<script src="//dw1.s81c.com/developerworks/js/v18/dw-auth-properties.js?v=041017"></script>
<script src="//dw1.s81c.com/developerworks/js/v18/dw-auth.js?v=031119"></script>
<script src="//dw1.s81c.com/developerworks/js/dw-mf/v18/dw-mf.js?v=050618"></script>
<script src="//dw1.s81c.com/developerworks/js/v18/dw-include.js"></script>     
<script src="//dw1.s81c.com/developerworks/js/v18/dw-article.js?v=050818"></script>
<script src="//dw1.s81c.com/developerworks/js/v18/dw-auto-links.js?v=121217"></script>     
<script src="//www.ibm.com/software/info/js/tactic.js"></script>
<script src="//www.ibm.com/software/info/js/tacticbindlinks.js"></script>

<!-- 
<PageMap>
    <DataObject type="document">
        <Attribute name="topic">管理,存储</Attribute>
        <Attribute name="topicId">370,90</Attribute>
        <Attribute name="contentArea">linux</Attribute>
        <Attribute name="contentAreaId">2</Attribute>
        <Attribute name="abstract">硬链接与软链接是 Linux 文件系统中的一个重要概念，其涉及文件系统中的索引节点 (index node 又称 inode)，而索引节点对象是 Linux 虚拟文件系统 (VFS) 的四个基本概念之一。通过剖析硬链接与软链接的联系与区别，我们可更好的了解 Linux 中 VFS 这一通用文件模型。并让 Linux 普通用户和系统管理员正确使用硬链接与软链接，帮助文件系统开发者获取 inode 的相关知识。</Attribute>
        <Attribute name="pub.date">2012-12-20</Attribute>
        <Attribute name="contentType">article</Attribute>
    </DataObject>
</PageMap>
-->        

<style id="ibm-masthead-hidelinks">@media screen and (max-width: 457px) { .ibm-masthead-categories,#ibm-megamenu-sections{display:none} }</style><style id="ibm-sitenav-menu-hidelinks">@media screen and (max-width: 437.75px) {.ibm-sitenav-menu-container .ibm-sitenav-menu-list &gt; ul &gt; li {display:none}}@media screen and (min-width: 438.75px) {.ibm-mobilemenu-sitenavmenu &gt; ul &gt; li {display:none}}</style><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_24" src="//tags.tiqcdn.com/utag/ibm/web/prod/utag.24.js?utv=ut4.46.202004021713"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_28" src="//tags.tiqcdn.com/utag/ibm/web/prod/utag.28.js?utv=ut4.46.201803300231"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_53" src="//tags.tiqcdn.com/utag/ibm/web/prod/utag.53.js?utv=ut4.46.201706292022"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_182" src="//tags.tiqcdn.com/utag/ibm/web/prod/utag.182.js?utv=ut4.46.202010170242"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_16" src="//tags.tiqcdn.com/utag/ibm/web/prod/utag.16.js?utv=ut4.46.201805232100"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_136" src="//tags.tiqcdn.com/utag/ibm/web/prod/utag.136.js?utv=ut4.46.201808201700"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_19" src="//tags.tiqcdn.com/utag/ibm/web/prod/utag.19.js?utv=ut4.46.201912102104"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_21" src="//tags.tiqcdn.com/utag/ibm/web/prod/utag.21.js?utv=ut4.46.201807131550"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_94" src="//tags.tiqcdn.com/utag/ibm/web/prod/utag.94.js?utv=ut4.46.201803300324"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_143" src="//tags.tiqcdn.com/utag/ibm/web/prod/utag.143.js?utv=ut4.46.201808292108"></script><script type="text/javascript" async="" charset="utf-8" id="utag_ibm.web_178" src="//tags.tiqcdn.com/utag/ibm/web/prod/utag.178.js?utv=ut4.46.202008241237"></script><script type="text/javascript" async="" charset="utf-8" id="tiqapp" src="//tags.tiqcdn.com/utag/tiqapp/utag.v.js?a=ibm/web/202012161336&amp;cb=1608275837041"></script><script type="text/javascript" async="" charset="utf-8" id="tealium_visitor_service_184main_1" src="https://visitor-service-ap-northeast-1.tealiumiq.com/ibm/main/0176741c7ab900025c983a116dca03072004306a00bd0?callback=utag.ut%5B%22writevamain%22%5D&amp;rnd=1608275837778"></script><script src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/1069499076/?random=1608275838336&amp;cv=9&amp;fst=1608275838336&amp;num=1&amp;guid=ON&amp;resp=GooglemKTybQhCsO&amp;u_h=1080&amp;u_w=1920&amp;u_ah=1040&amp;u_aw=1920&amp;u_cd=24&amp;u_his=2&amp;u_tz=480&amp;u_java=false&amp;u_nplug=3&amp;u_nmime=4&amp;sendb=1&amp;ig=1&amp;frm=0&amp;url=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Flinux%2Fl-cn-hardandsymb-links%2F&amp;tiba=%E7%90%86%E8%A7%A3%20Linux%20%E7%9A%84%E7%A1%AC%E9%93%BE%E6%8E%A5%E4%B8%8E%E8%BD%AF%E9%93%BE%E6%8E%A5&amp;hn=www.googleadservices.com&amp;async=1&amp;rfmt=3&amp;fmt=4"></script><script type="text/javascript" async="" charset="utf-8" id="tealium_visitor_service_184main_2" src="https://visitor-service-ap-northeast-1.tealiumiq.com/ibm/main/0176741c7ab900025c983a116dca03072004306a00bd0?callback=utag.ut%5B%22writevamain%22%5D&amp;rnd=1608275838395"></script><script language="javascript" type="text/javascript" src="https://libs.coremetrics.com/configs/50200000.js"></script><script type="text/javascript" async="" charset="utf-8" id="tealium_visitor_service_184main_3" src="https://visitor-service-ap-northeast-1.tealiumiq.com/ibm/main/0176741c7ab900025c983a116dca03072004306a00bd0?callback=utag.ut%5B%22writevamain%22%5D&amp;rnd=1608275838982"></script><script async="" src="https://script.hotjar.com/modules.5d1cad31427a09b055ed.js" charset="utf-8"></script><style type="text/css">iframe#_hjRemoteVarsFrame {display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;}</style><style type="text/css">@media only screen and (max-width:480px){.truste_box_overlay{width: 100%!important;margin: 0px!important;max-width: 90%!important;border-radius:0px!important;padding:20px!important;background:none!important;}.truste_box_overlay_inner{box-shadow: rgb(0, 0, 0, 0.2) 0px 0px 16px 2px!important;}}@media only screen and (min-width:481px){.truste_box_overlay{width: 80%!important;margin: 20px auto!important;max-width: 800px!important;border-radius:0px!important;padding:20px!important;background:none!important;}.truste_box_overlay_inner{box-shadow: rgb(0, 0, 0, 0.2) 0px 0px 16px 2px!important;}}</style><style type="text/css">.truste_cookie_prefs,#teconsent{display:none !important}</style><script type="text/javascript" async="" charset="utf-8" id="tealium_visitor_service_184main_4" src="https://visitor-service-ap-northeast-1.tealiumiq.com/ibm/main/0176741c7ab900025c983a116dca03072004306a00bd0?callback=utag.ut%5B%22writevamain%22%5D&amp;rnd=1608275839483"></script><script language="javascript" type="text/javascript" src="https://data.cmcore.com/cookie-id.js?fn=cmSetAvid"></script><script language="javascript" type="text/javascript" src="https://tmscdn.coremetrics.com/tms/dispatcher-v3.js"></script><script src="https://libs.coremetrics.com/ddxlibs/yahoo-min.js" type="text/javascript"></script><script src="//tmscdn.coremetrics.com/tms/50200000/cp-v3.js?__t=20201218151720846" type="text/javascript"></script><script src="https://libs.coremetrics.com/ddxlibs/json-min.js" type="text/javascript"></script></head>
<body id="ibm-com" class="ibm-type ibm-sitenav-menu dw-mast-banner">
	
<div id="ibm-top" class="ibm-landing-page">

<!-- MASTHEAD_BEGIN -->
<div id="ibm-masthead" role="banner" aria-label="IBM" class="ibm-mhtype-minimal">
    <div id="ibm-universal-nav" class="">    
  
        <nav role="navigation" aria-label="IBM">
            <div id="ibm-home"><a href="https://www.ibm.com/cn/zh/?lnk=m">IBM®</a></div>
            <ul id="ibm-menu-links" role="toolbar" aria-label="站点地图" class="ibm-hide">
                <li><a href="https://www.ibm.com/sitemap/cn/zh/">站点地图</a></li>
            </ul><div class="ibm-masthead-rightside"><div id="ibm-search-module" role="search" aria-labelledby="ibm-masthead">
            <div class="ibm-masthead-search-close"><p class="ibm-ind-link ibm-icononly ibm-padding-bottom-0"><a href="#" class="ibm-close-link ibm-nospacing">关闭</a></p></div><form id="ibm-search-form" action="https://www.ibm.com/Search/" method="get" aria-labelledby="ibm-masthead">
                <p>
                    <label for="q">IBM</label>
                    <input type="text" maxlength="100" value="" placeholder="搜索" name="q" id="q" aria-label="搜索 IBM Developer" autocomplete="off" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-owns="ibm-search-typeahead-container" /><input name="lnk" type="hidden" value="mhsrch" />
                    <input type="hidden" value="utf" name="en" />
                    <input type="hidden" value="zh" name="lang" />
                    <input type="hidden" value="cn" name="cc" />
                    <input type="hidden" value="20" name="nr" />
                    <input type="hidden" value="For developers" name="tabType[0]" />
                    <button role="button" type="submit" id="ibm-search" class="ibm-search-link" value="提交"><span class="ibm-access">提交</span></button>
                </p>
            </form><form class="ibm-hide" id="ibm-default-scope-form" action="https://www.ibm.com/search" method="get"><input name="lang" type="hidden" value="zh" /><input name="cc" type="hidden" value="cn" /><input name="tabType[0]" type="hidden" value="Products" /><input name="q" type="text" value="" /><input name="lnk" type="hidden" value="mhmpsrch" /></form>
        </div><div id="ibm-search-typeahead-container" aria-expanded="false" class="ibm-search-typeahead-container"></div><ul aria-label="Tools" role="menubar" class="ibm-masthead-iconsonly"><li role="presentation" class="ibm-masthead-item-signin"><button role="button" aria-haspopup="true" aria-owns="ibm-signin-minimenu-container" class="ibm-profile-link">我的 IBM</button><ul id="ibm-signin-minimenu-container" role="menu" aria-label="Profile" class="ibm-dropdown-menu">    <li class="ibm-dropdown-menu-primary" role="presentation" data-linktype="notifications">       <a class="" href="https://myibm.ibm.com/dashboard/?lnk=mmi" tabindex="0">我的 IBM</a>     </li>    <li class="ibm-dropdown-menu-primary menu-heading" role="presentation">       <span tabindex="0">IBM Developer</span>     </li>   <li class="ibm-dropdown-menu-primary ibm-signin-alt" role="presentation">     <a href="/developerworks/dwwi/jsp/ssologin.jsp?d=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Flinux%2Fl-cn-hardandsymb-links%2F&amp;lang=zh&amp;a=dwmav" role="menuitem">登录</a>   </li>   <li class="ibm-dropdown-menu-primary dw-register-alt" role="presentation">     <a href="/developerworks/dwwi/jsp/ssoregister.jsp?d=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Flinux%2Fl-cn-hardandsymb-links%2F&amp;lang=zh&amp;a=dwmav" role="menuitem">注册</a>   </li></ul></li><li role="presentation" class="ibm-masthead-item-menu"><button role="button" aria-haspopup="true" aria-owns="ibm-burger-menu-container" class="ibm-menu-link">站点导航</button></li></ul></div> 
        </nav>
  
        
       
    </div>
</div><div class="ibm-mobilemenu ibm-hide" id="ibm-burger-menu-container" aria-labelledby="ibm-burgermenu-a11y" role="dialog" tabindex="0"><p class="ibm-hide" id="ibm-burgermenu-a11y">站点导航</p><div class="ibm-mobilemenu-close"><p class="ibm-icononly ibm-fright ibm-ind-link ibm-nospacing"><a class="ibm-close-link" href="?lnk=hm#">关闭</a></p></div><div class="ibm-mobilemenu-section ibm-mobilemenu-sitenavmenu"><ul role="menubar"><li class="ibm-mobile-section-heading ibm-mobile-sitename">
        <a href="//www.ibm.com/developerworks/cn/?lnk=hm">IBM Developer</a>
    </li>
            <li role="presentation">
                <a href="//www.ibm.com/developerworks/cn/topics/?lnk=hm" role="menuitem" tabindex="0">学习</a>
            </li>
            <li role="presentation">
                <a href="//www.ibm.com/developerworks/cn/downloads/?lnk=hm" role="menuitem" tabindex="-1">开发</a>
            </li>
            <li role="presentation">
                <!-- <a href="//www.ibm.com/developerworks/cn/community/" role="menuitem">社区</a> -->
                <a href="//www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=3302cc3b-074e-44da-90b1-5055f1dc0d9c&amp;lnk=hm" role="menuitem" tabindex="-1">社区</a>
            </li>
            <li class="ibm-sitenav-menu-item-right">
                <a href="//www.ibm.com/ibm/cn/partners/start/?lnk=hm" role="menuitem" tabindex="-1">合作</a>
            </li>
        </ul></div><div class="ibm-mobilemenu-section"><ul class="ibm-mobilemenu-mhlinks" aria-label="Discover IBM"><li><div data-widget="showhide" data-type="panel" class="ibm-show-hide ibm-widget-processed"><h2><a href="javascript:void();">产品和解决方案</a></h2><div class="ibm-container-body" style="display: none;"><ul><li><a href="https://www.ibm.com/cn-zh/products?lnk=hmhpmps_bupr_cnzh&amp;lnk2=link"><span>产品和平台</span></a></li><li><a href="https://www.ibm.com/cn-zh/industries?lnk=hmhpmps_buin_cnzh&amp;lnk2=link"><span>行业解决方案</span></a></li><li><a href="https://www.ibm.com/cn-zh/artificial-intelligence?lnk=hmhpmps_buai_cnzh&amp;lnk2=link"><span>人工智能(AI)</span></a></li><li><a href="https://www.ibm.com/cn-zh/automation?lnk=hmhpmps_buau_cnzh&amp;lnk2=link"><span>自动化</span></a></li><li><a href="https://www.ibm.com/cn-zh/blockchain?lnk=hmhpmps_bubc_cnzh&amp;lnk2=link"><span>区块链</span></a></li><li><a href="https://www.ibm.com/cn-zh/business-operations?lnk=hmhpmps_buop_cnzh&amp;lnk2=link"><span>业务运营</span></a></li><li><a href="https://www.ibm.com/cn-zh/cloud?lnk=hmhpmps_bucl_cnzh&amp;lnk2=link"><span>云计算</span></a></li><li><a href="https://www.ibm.com/cn-zh/analytics?lnk=hmhpmps_buda_cnzh&amp;lnk2=link"><span>大数据与人工智能</span></a></li><li><a href="https://www.ibm.com/cn-zh/it-infrastructure?lnk=hmhpmps_buit_cnzh&amp;lnk2=link"><span>IT 基础架构</span></a></li><li><a href="https://www.ibm.com/cn-zh/security?lnk=hmhpmps_buse_cnzh&amp;lnk2=link"><span>安全</span></a></li><li><a href="https://www.ibm.com/cn-zh/supply-chain?lnk=hmhpmps_busc_cnzh&amp;lnk2=link"><span>供应链</span></a></li><li><a href="https://www.ibm.com/cn-zh/financing?lnk=hmhpmps_bufi_cnzh&amp;lnk2=link"><span>融资</span></a></li><li><a href="https://www.ibm.com/cn-zh/products?lnk=hmhpmps_buall_cnzh&amp;lnk2=link"><span>查看所有产品</span></a></li></ul></div></div></li><li><div data-widget="showhide" data-type="panel" class="ibm-show-hide ibm-widget-processed"><h2><a href="javascript:void();">服务与咨询</a></h2><div class="ibm-container-body" style="display: none;"><ul><li><a href="https://www.ibm.com/cn-zh/services/process?lnk=hmhpmsc_bups_cnzh&amp;lnk2=link"><span>业务流程服务</span></a></li><li><a href="https://www.ibm.com/services/ibmix/?lnk=hmhpmsc_budbs_cnzh&amp;lnk2=link"><span>业务战略与设计</span></a></li><li><a href="https://www.ibm.com/cn-zh/services/cloud?lnk=hmhpmsc_buhs?lnk"><span>混合多云服务</span></a></li><li><a href="https://www.ibm.com/cn-zh/talent-management?lnk=hmhpmsc_buta_cnzh&amp;lnk2=link"><span>Watson 人才资源管理</span></a></li><li><a href="https://www.ibm.com/cn-zh/services/applications?lnk=hmhpmsc_buas_cnzh&amp;lnk2=link"><span>应用服务</span></a></li><li><a href="https://www.ibm.com/cn-zh/security/services?lnk=hmhpmsc_buse_cnzh&amp;lnk2=link"><span>安全服务</span></a></li><li><a href="https://www.ibm.com/cn-zh/services/technology-support?lnk=hmhpmsc_busv_cnzh&amp;lnk2=link"><span>技术支持服务</span></a></li><li><a href="https://www.ibm.com/cn-zh/financing/solutions/it-services-financing?lnk=hmhpmsc_bufi_cnzh&amp;lnk2=link"><span>服务和咨询的付款计划</span></a></li><li><a href="https://www.ibm.com/cn-zh/services?lnk=hmhpmsc_buall_cnzh&amp;lnk2=link"><span>查看所有服务</span></a></li></ul></div></div></li><li><div data-widget="showhide" data-type="panel" class="ibm-show-hide ibm-widget-processed"><h2><a href="javascript:void();">学习和支持</a></h2><div class="ibm-container-body" style="display: none;"><ul><li><a href="https://www.ibm.com/support/cn/zh/?lnk=hmhpmls_busu_cnzh&amp;lnk2=link"><span>支持</span></a></li><li><a href="https://www.ibm.com/support/knowledgecenter/?lnk=hmhpmls_budc_cnzh&amp;lnk2=link"><span>文档</span></a></li><li><a href="https://developer.ibm.com/zh/?lnk=hmhpmls_bude_cnzh&amp;lnk2=link"><span>开发者教育</span></a></li><li><a href="https://www.ibm.com/training/?lnk=hmhpmls_butr_cnzh&amp;lnk2=link"><span>培训</span></a></li><li><a href="https://www.ibm.com/blogs/?lnk=hmhpmls_bure_cnzh&amp;lnk2=link"><span>资源</span></a></li><li><a href="https://www.ibm.com/cloud/learn?lnk=hmhpmls_buwi_cnzh&amp;lnk2=link"><span>了解</span></a></li></ul></div></div></li><li><div data-widget="showhide" data-type="panel" class="ibm-show-hide ibm-widget-processed"><h2><a href="javascript:void();">探索更多</a></h2><div class="ibm-container-body" style="display: none;"><ul><li><a href="https://www.ibm.com/cn-zh/partnerworld/public?lnk=hmhpmex_bupa_cnzh&amp;lnk2=link"><span>合作伙伴</span></a></li><li><a href="https://www.research.ibm.com/?lnk=hmhpmex_bure_cnzh&amp;lnk2=link"><span>IBM研究所</span></a></li><li><a href="https://www.ibm.com/cn-zh/about?lnk=hmhpmex_buab_cnzh&amp;lnk2=link"><span>关于 IBM</span></a></li><li><a href="https://www.ibm.com/cn-zh/impact/covid-19?lnk=hmhpmex_buco_cnzh&amp;lnk2=link"><span>COVID-19</span></a></li></ul></div></div></li></ul></div></div><div class="ibm-hide ibm-mhplaceholder"></div><!-- MASTHEAD_END -->
	    
<!-- LAYOUT -->
<div id="ibm-content-wrapper">
    <!-- LEADSPACE_BEGIN -->
    <header role="banner" aria-labelledby="ibm-pagetitle-h1">
        
        <!-- MASTHEAD_SITENAV_BEGIN -->
        <div class="ibm-sitenav-menu-container" data-widgetprocessed="true">
    <div class="ibm-sitenav-menu-name">
        <a href="//www.ibm.com/developerworks/cn/">IBM Developer</a>
    </div>
    <div class="ibm-sitenav-menu-list">
        <ul role="menubar">
            <li role="presentation">
                <a href="//www.ibm.com/developerworks/cn/topics/" role="menuitem" tabindex="0">学习</a>
            </li>
            <li role="presentation">
                <a href="//www.ibm.com/developerworks/cn/downloads/" role="menuitem" tabindex="-1">开发</a>
            </li>
            <li role="presentation">
                <!-- <a href="//www.ibm.com/developerworks/cn/community/" role="menuitem">社区</a> -->
                <a href="//www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=3302cc3b-074e-44da-90b1-5055f1dc0d9c" role="menuitem" tabindex="-1">社区</a>
            </li>
            <li class="ibm-sitenav-menu-item-right">
                <a href="//www.ibm.com/ibm/cn/partners/start/" role="menuitem" tabindex="-1">合作</a>
            </li>
        </ul>
    </div>
</div>
<!-- BEGIN IBM DEVELOPER BANNER -->
<!-- <style>
    #dw-mast-banner {
        background: #000;
        box-sizing: border-box;
    }
    #dw-mast-banner.ibm-band, #dw-mast-strip.ibm-band { padding: 0; }
    #dw-mast-banner p { color: #ffffff; margin-left: 1rem; display: inline-block; text-decoration: none; font-size: 1.125rem; }
    #dw-mast-banner .dw-mast-banner-cta { padding-left: 10px; color: #ed1c24; }
    #dw-mast-banner .dw-mast-banner-cta::after { content: "\003e"; color: #ed1c24; font-size: 0.875rem; padding-left: 4px; }
    #dw-mast-banner img { display: inline-block; vertical-align: middle; margin-top: -4px; }
    #dw-mast-banner .dw-mast-banner-img { margin-left: 16px; }
    #dw-mast-strip {
        background-color: #e9e9e9;
        box-sizing: border-box;
    }
    #dw-mast-strip p { padding: 10px 20px 10px; margin-left: 2rem; color: #000; display: block; text-decoration: none; font-size: 1rem; }

    @media only screen and (max-width:800px) {
    #dw-mast-banner p { margin-right: 1rem; }
    }
    @media only screen and (max-width:525px) {
    #dw-mast-banner .dw-mast-banner-cta { padding-left: 4px; }
    }
</style>
<div id="dw-mast-banner" class="ibm-band" style="text-align: center">
    <a href="https://www.ibm.com/cn-zh/cloud/redhat">
        <div style="display:inline-block">
            <img src="https://dw1.s81c.com/developerworks/i/dw-ibmred.png" height="60" width="201" alt="IBM and Red Hat logos"/>
            <p class="ibm-plex-sans-semibold">IBM 和 Red Hat - 开放创新的新篇章。 <span class="dw-mast-banner-cta ibm-plex-sans-semibold">了解更多</span></p>
        </div>
    </a>
</div> -->
<!-- <div id="dw-mast-strip" class="ibm-band" style="text-align: center">
    <div>
        <p>developerWorks 中国 正在向 IBM Developer 过渡。 我们将为您呈现一个全新的界面和更新的主题领域，并一如既往地提供您希望获得的精彩内容。</p>
    </div>
</div> -->
<!-- <div class="code_adorn_announcement" id="code_announcement">
  <div class="code_content__wrap">
  <style>
    .dc-announcement{
      background: #e9e9e9;
      min-height: 53px;
      box-sizing: border-box;
      padding-top: 10px;
      padding-bottom: 10px;
      border-bottom: 1px solid #1e1e1e;
    }
    .dc-announcement p{
      text-align: center;
      font-size: 1.125rem;
      line-height: 1.625rem;
      font-weight: 300;
      padding: 0 20px;
    }
    .dc-announcement a p{
      display: table;
      color: #1e1e1e;
      width: auto;
      margin: 0 auto;
    }
    .dc-announcement a {
      text-decoration: none;
      display: block;
      text-align: center;
    }
    .dc-announcement a p strong{
      color: #fff !important;
      padding: 10px 20px !important;
      margin-left: 10px;
      display: inline-block;
      background-color: rgb(0, 98, 255);
      font-weight: 600;
      font-size: 1.2rem;
      margin-top: 10px;
      margin-bottom: 10px;
    }
    .dc-announcement a p span{
      font-weight: 600;
    }
  </style>
  <div class="dc-announcement">
    <a href="https://developer.ibm.com/cn/digitalconference/">
      <p><span>Digital Developer Conference:</span> 专注于云计算和人工智能的免费半天在线会议：欧洲，11 月 14 日 亚洲，11 月 23 日 <strong>立即注册</strong></p>
    </a>
  </div>
</div>
</div> -->
 <style>
    #dw-mast-banner {
        background-color: #000;
        /* min-height: 75px; */
    }
    #dw-mast-banner.ibm-band { padding: 0; position: static; animation: none; }
    #dw-mast-banner .ibm-columns { padding: 0; min-height: 100px; }
    #dw-mast-banner .dw-mast-banner-txt { padding: 15px 20px 0; color: #4ca7a5; display: inline; }
    #dw-mast-banner .dw-mast-banner-cta { padding: 14px 0 0 20px; margin-right: 2rem; color: #4ca7a5; display: inline; }
    #dw-mast-banner .dw-mast-banner-txt p.ibm-h4 { font-size: 1.125rem; }
    #dw-mast-banner .dw-mast-banner-txt span { white-space: nowrap; }
    #dw-mast-banner .ibm-btn-pri {
        background-color: #000;
        border: 1px solid #4ca7a5;
        color: #4ca7a5;
    }
    #dw-mast-banner .ibm-btn-pri:hover {
        background-color: #4ca7a5;
        color: #fff;
    }
    @media only screen and (max-width:1100px) {
        #dw-mast-banner .dw-mast-banner-cta { padding: 10px 0 0 20px; }
        #dw-mast-banner .dw-mast-banner-txt p.ibm-h4 { font-size: 1.0rem; }
    }
    @media only screen and (max-width:999px) {
        #dw-mast-banner .dw-mast-banner-txt { margin-left: 0.5rem; }
        #dw-mast-banner .dw-mast-banner-cta { margin-right: 0.5rem; }
    }
    @media only screen and (max-width:959px) {
        #dw-mast-banner .dw-mast-banner-txt { margin-left: 2rem; }
        #dw-mast-banner .dw-mast-banner-cta { margin-right: 2rem; }
        #dw-mast-banner .ibm-btn-pri { white-space: nowrap; font-size: .875rem; }
        #dw-mast-banner .dw-mast-banner-txt p.ibm-h4 {
            font-size: .9375rem;
            text-align: center;
            font-weight: 400;
        }
    }
    @media only screen and (max-width:600px) {
        #dw-mast-banner .dw-mast-banner-txt { margin-left: 1rem; }
        #dw-mast-banner .dw-mast-banner-cta { margin-right: 1rem; }
    }
    @media only screen and (max-width:579px) {
        #dw-mast-banner .dw-mast-banner-txt, #dw-mast-banner .dw-mast-banner-cta { display: block; }
        #dw-mast-banner .dw-mast-banner-txt { margin-left: 1rem; margin-right: 1rem; }
        #dw-mast-banner .dw-mast-banner-cta { margin-right: 0; text-align: center; }
        #dw-mast-banner .dw-mast-banner-txt p.ibm-h4 { padding: 0; }
        #dw-mast-banner .dw-mast-banner-cta { padding: 10px 0 0 0; }
    }
</style>
<div id="dw-mast-banner" class="ibm-band">
    <div class="ibm-vertical-center">
        <div class="ibm-center-block ibm-vertical-center">
            <div class="dw-mast-banner-txt ibm-plex-sans-regular">
                <p class="ibm-h4">developerWorks 中国 正在向 IBM Developer 过渡。 我们将为您呈现一个全新的界面和更新的主题领域，并一如既往地提供您希望获得的精彩内容。</p>
            </div>
        </div>
    </div>
</div>
        <!-- MASTHEAD_SITENAV_END -->
        
        <!-- NAVIGATION_TRAIL_BEGIN -->
        <div id="ibm-leadspace-head" class="ibm-alternate">
            <div id="ibm-leadspace-body">
                <nav aria-label="Breadcrumb" role="navigation">                     
                            <ul id="dw-navigation-trail" itemscope="" itemtype="http://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="https://www.ibm.com/developerworks/cn/topics/"><span itemprop="name">学习</span></a><meta itemprop="position" content="1" /></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="https://www.ibm.com/developerworks/cn/linux/"><span itemprop="name">Linux</span></a><meta itemprop="position" content="2" /></li></ul>
                </nav>
            </div>
        </div>
        <!-- NAVIGATION_TRAIL_END -->
        
    </header>
    <!-- LEADSPACE_END -->
    
    <!-- MAIN_CONTENT_BEGIN -->
    <main role="main" aria-label=""> 
        <div id="ibm-pcon">
            <!-- BEGIN_IBM-CONTENT -->
            <div id="ibm-content">
                <!-- BEGIN_IBM-CONTENT-BODY -->
                <div id="ibm-content-body">
                    <!-- BEGIN_IBM-CONTENT-MAIN -->
                    <div id="ibm-content-main" class="dw-article">                        
                        <!-- BEGIN_INTERIOR-COLUMNS -->
                                <div class="ibm-columns dw-article-toc">
                                    <!-- LEFT_6_2_CONTENT_COLUMN_BEGIN -->  
                                    <div id="dw-article-toc-container" class="ibm-col-6-2">
                                        <div id="dw-article-toc-body" style="width: 220px; height: 597px;" data-widget="scrollable" data-height="597" class="nano has-scrollbar ibm-widget-processed"><div class="nano-content" tabindex="-1" style="right: -17px;">
                                            <h2>内容</h2><div class="ibm-alternate-rule"><hr /></div><ul role="directory" aria-label="内容" class="ibm-plain-list"><li class="dw-highlight"><a onclick="tocLink('#ibm-pagetitle-h1')" role="link" tabindex="0">概览</a></li><li><a onclick="tocLink('#major1')" role="link" tabindex="0">Linux 的文件与目录</a></li><li><a onclick="tocLink('#major2')" role="link" tabindex="0">硬链接与软链接的联系与区别</a></li><li><a onclick="tocLink('#major3')" role="link" tabindex="0">链接相关命令</a></li><li><a onclick="tocLink('#major4')" role="link" tabindex="0">Linux VFS</a></li><li><a onclick="tocLink('#major5')" role="link" tabindex="0">Linux 文件系统中的 inode</a></li><li><a onclick="tocLink('#major6')" role="link" tabindex="0">结束语</a></li><li><a onclick="tocLink('#artrelatedtopics')" role="link" tabindex="0">相关主题</a></li><li><a onclick="tocLink('#icomments')" role="link" tabindex="0">评论</a></li></ul>
                                        </div><div class="nano-pane" style="opacity: 1; visibility: visible; display: none;"><div class="nano-slider" style="height: 580px; transform: translate(0px, 0px);"></div></div></div>
                                    </div>
                                    <!-- LEFT_6_2_CONTENT_COLUMN_END -->
                                    
                                    <!-- CENTER_6_4_CONTENT_COLUMN_BEGIN -->
                                    <div class="ibm-col-6-4">
                                        <h1 id="ibm-pagetitle-h1" class="ibm-h1">理解 Linux 的硬链接与软链接</h1><p class="dw-article-subhead">从 inode 了解 Linux 文件系统</p>
                                        <!-- Article Top Bar -->
                                                <div class="ibm-columns dw-article-topbar">
                                                    <!-- Author and article info. -->
                                                    <div class="ibm-col-6-2 ibm-col-medium-6-4 dw-article-metadata">
                                                        <div class="dw-article-avatar"><img width="42" height="42" src="//dw1.s81c.com/developerworks/i/v18/article/dw-author.png" alt="" /></div><div class="dw-article-authordate">王 华东<br /><span class="dw-article-pubdate">2012 年 12 月 20 日发布</span></div>
                                                    </div>
                                                    <!-- Social -->
                                                    <div class="ibm-col-6-2 ibm-col-medium-6-4 ibm-col-small-6-2 dw-article-social">
                                                        <!-- Sharing links -->
                                                        <!--<div id="dw-article-share-inline">
                                                            <div class="dw-article-sharelink-inline">
                                                                <div class="ibm-sharethispage"></div>
                                                            </div>
                                                        </div>-->
                                                        <!-- Number of comments and link to comments -->
                                                        <!-- <div id="dw-article-cmts">
                                                            <div class="dw-article-cmtslink">
                                                                <a onclick="tocLink('#icomments')" href="#icomments" role="link" tabindex="0" aria-label="Comments">
                                                                    <img src="//dw1.s81c.com/developerworks/i/v18/article/dw-article-cmt-icon.png" width="29" height="29" alt="Comments"/>
                                                                </a>
                                                            </div>
                                                            <div class="dw-article-cmtslink">
                                                                <a onclick="tocLink('#icomments')" href="#icomments" role="link" tabindex="0">
                                                                    <div id="nCmts"></div>
                                                                </a>
                                                            </div>
                                                        </div> -->
                                                    </div>
                                                </div>

                                        <!-- Article Body -->
                                        
                                        <h2 id="major1" class="ibm-h2">Linux 的文件与目录</h2><p>现代操作系统为解决信息能独立于进程之外被长期存储引入了文件，文件作为进程创建信息的逻辑单元可被多个进程并发使用。在 UNIX 系统中，操作系统为磁盘上的文本与图像、鼠标与键盘等输入设备及网络交互等 I/O 操作设计了一组通用 API，使他们被处理时均可统一使用字节流方式。换言之，UNIX 系统中除进程之外的一切皆是文件，而 Linux 保持了这一特性。为了便于文件的管理，Linux 还引入了目录（有时亦被称为文件夹）这一概念。目录使文件可被分类管理，且目录的引入使 Linux 的文件系统形成一个层级结构的目录树。<a href="#listing1">清单 1.</a>所示的是普通 Linux 系统的顶层目录结构，其中 /dev 是存放了设备相关文件的目录。</p><h5 id="listing1" class="ibm-h5">清单 1. Linux 系统的顶层目录结构</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_405945" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">/              根目录</code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">├── bin     存放用户二进制文件</code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">├── boot    存放内核引导配置文件</code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">├── dev     存放设备文件</code></div><div class="line number5 index4 alt2"><code class="htmlscript plain">├── etc     存放系统配置文件</code></div><div class="line number6 index5 alt1"><code class="htmlscript plain">├── home    用户主目录</code></div><div class="line number7 index6 alt2"><code class="htmlscript plain">├── lib     动态共享库</code></div><div class="line number8 index7 alt1"><code class="htmlscript plain">├── lost+found  文件系统恢复时的恢复文件</code></div><div class="line number9 index8 alt2"><code class="htmlscript plain">├── media   可卸载存储介质挂载点</code></div><div class="line number10 index9 alt1"><code class="htmlscript plain">├── mnt     文件系统临时挂载点</code></div><div class="line number11 index10 alt2"><code class="htmlscript plain">├── opt     附加的应用程序包</code></div><div class="line number12 index11 alt1"><code class="htmlscript plain">├── proc    系统内存的映射目录，提供内核与进程信息</code></div><div class="line number13 index12 alt2"><code class="htmlscript plain">├── root    root 用户主目录</code></div><div class="line number14 index13 alt1"><code class="htmlscript plain">├── sbin    存放系统二进制文件</code></div><div class="line number15 index14 alt2"><code class="htmlscript plain">├── srv     存放服务相关数据</code></div><div class="line number16 index15 alt1"><code class="htmlscript plain">├── sys     sys 虚拟文件系统挂载点</code></div><div class="line number17 index16 alt2"><code class="htmlscript plain">├── tmp     存放临时文件</code></div><div class="line number18 index17 alt1"><code class="htmlscript plain">├── usr     存放用户应用程序</code></div><div class="line number19 index18 alt2"><code class="htmlscript plain">└── var     存放邮件、系统日志等变化文件</code></div></div></td></tr></tbody></table></div></div></div></span><p>Linux 与其他类 UNIX 系统一样并不区分文件与目录：目录是记录了其他文件名的文件。使用命令 mkdir 创建目录时，若期望创建的目录的名称与现有的文件名（或目录名）重复，则会创建失败。</p><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_443191" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain"># ls -F /usr/bin/zi* </code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">/usr/bin/zip*       /usr/bin/zipgrep*  /usr/bin/zipnote* </code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">/usr/bin/zipcloak*  /usr/bin/zipinfo*  /usr/bin/zipsplit* </code></div><div class="line number4 index3 alt1"> </div><div class="line number5 index4 alt2"><code class="htmlscript plain"># mkdir -p /usr/bin/zip </code></div><div class="line number6 index5 alt1"><code class="htmlscript plain">mkdir: cannot create directory `/usr/bin/zip': File exists</code></div></div></td></tr></tbody></table></div></div></div></span><p>Linux 将设备当做文件进行处理，<a href="#listing2">清单 2.</a>展示了如何打开设备文件 /dev/input/event5 并读取文件内容。文件 event5 表示一种输入设备，其可能是鼠标或键盘等。查看文件 /proc/bus/input/devices 可知 event5 对应设备的类型。设备文件 /dev/input/event5 使用 read() 以字符流的方式被读取。结构体 input_event 被定义在内核头文件 linux/input.h 中。</p><h5 id="listing2" class="ibm-h5">清单 2. 打开并读取设备文件</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_267425" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">int fd; </code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">struct input_event ie; </code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">fd = open("/dev/input/event5", O_RDONLY); </code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">read(fd, &amp;ie, sizeof(struct input_event)); </code></div><div class="line number5 index4 alt2"><code class="htmlscript plain">printf("type = %d  code = %d  value = %d\n", </code></div><div class="line number6 index5 alt1"><code class="htmlscript spaces">            </code><code class="htmlscript plain">ie.type, ie.code, ie.value); </code></div><div class="line number7 index6 alt2"><code class="htmlscript plain">close(fd);</code></div></div></td></tr></tbody></table></div></div></div></span><h2 id="major2" class="ibm-h2">硬链接与软链接的联系与区别</h2><p>我们知道文件都有文件名与数据，这在 Linux 上被分成两个部分：用户数据 (user data) 与元数据 (metadata)。用户数据，即文件数据块 (data block)，数据块是记录文件真实内容的地方；而元数据则是文件的附加属性，如文件大小、创建时间、所有者等信息。在 Linux 中，元数据中的 inode 号（inode 是文件元数据的一部分但其并不包含文件名，inode 号即索引节点号）才是文件的唯一标识而非文件名。文件名仅是为了方便人们的记忆和使用，系统或程序通过 inode 号寻找正确的文件数据块。<a href="#fig1">图 1.</a>展示了程序通过文件名获取文件内容的过程。</p><h5 id="fig1" class="ibm-h5">图 1. 通过文件名打开文件</h5><img src="image001.jpg" class="ibm-downsize" alt="图 1. 通过文件名打开文件" height="120" width="320" /><p class="ibm-ind-link ibm-hide"><a class="ibm-popup-link" onclick="IBMCore.common.widget.overlay.show('N1006F');return false;" href="#N1006F">点击查看大图</a></p><h5 id="listing3" class="ibm-h5">清单 3. 移动或重命名文件</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_304142" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain"># stat /home/harris/source/glibc-2.16.0.tar.xz </code></div><div class="line number2 index1 alt1"><code class="htmlscript spaces"> </code><code class="htmlscript plain">File: `/home/harris/source/glibc-2.16.0.tar.xz'</code></div><div class="line number3 index2 alt2"><code class="htmlscript spaces"> </code><code class="htmlscript plain">Size: 9990512      Blocks: 19520      IO Block: 4096   regular file </code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">Device: 807h/2055d      Inode: 2485677     Links: 1 </code></div><div class="line number5 index4 alt2"><code class="htmlscript plain">Access: (0600/-rw-------)  Uid: ( 1000/  harris)   Gid: ( 1000/  harris) </code></div><div class="line number6 index5 alt1"><code class="htmlscript plain">... </code></div><div class="line number7 index6 alt2"><code class="htmlscript plain">... </code></div><div class="line number8 index7 alt1"><code class="htmlscript plain"># mv /home/harris/source/glibc-2.16.0.tar.xz /home/harris/Desktop/glibc.tar.xz </code></div><div class="line number9 index8 alt2"><code class="htmlscript plain"># ls -i -F /home/harris/Desktop/glibc.tar.xz </code></div><div class="line number10 index9 alt1"><code class="htmlscript plain">2485677 /home/harris/Desktop/glibc.tar.xz</code></div></div></td></tr></tbody></table></div></div></div></span><p>在 Linux 系统中查看 inode 号可使用命令 stat 或 ls -i（若是 AIX 系统，则使用命令 istat）。<a href="#listing3">清单 3.</a>中使用命令 mv 移动并重命名文件 glibc-2.16.0.tar.xz，其结果不影响文件的用户数据及 inode 号，文件移动前后 inode 号均为：2485677。</p><p>为解决文件的共享使用，Linux 系统引入了两种链接：硬链接 (hard link) 与软链接（又称符号链接，即 soft link 或 symbolic link）。链接为 Linux 系统解决了文件的共享使用，还带来了隐藏文件路径、增加权限安全及节省存储等好处。若一个 inode 号对应多个文件名，则称这些文件为硬链接。换言之，硬链接就是同一个文件使用了多个别名（见 <a href="#fig2">图 2.</a>hard link 就是 file 的一个别名，他们有共同的 inode）。硬链接可由命令 link 或 ln 创建。如下是对文件 oldfile 创建硬链接。</p><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_161139" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">link oldfile newfile </code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">ln oldfile newfile</code></div></div></td></tr></tbody></table></div></div></div></span><p>由于硬链接是有着相同 inode 号仅文件名不同的文件，因此硬链接存在以下几点特性：</p><ul class="ibm-bullet-list"><li>
文件有相同的 inode 及 data block；</li><li>
只能对已存在的文件进行创建；</li><li>
不能交叉文件系统进行硬链接的创建；</li><li>
不能对目录进行创建，只可对文件创建；</li><li>
删除一个硬链接文件并不影响其他有相同 inode 号的文件。</li></ul><h5 id="listing4" class="ibm-h5">清单 4. 硬链接特性展示</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_751825" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain"># ls -li </code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">total 0 </code></div><div class="line number3 index2 alt2"> </div><div class="line number4 index3 alt1"><code class="htmlscript plain">// 只能对已存在的文件创建硬连接</code></div><div class="line number5 index4 alt2"><code class="htmlscript plain"># link old.file hard.link </code></div><div class="line number6 index5 alt1"><code class="htmlscript plain">link: cannot create link `hard.link' to `old.file': No such file or directory </code></div><div class="line number7 index6 alt2"> </div><div class="line number8 index7 alt1"><code class="htmlscript plain"># echo "This is an original file" &gt; old.file </code></div><div class="line number9 index8 alt2"><code class="htmlscript plain"># cat old.file </code></div><div class="line number10 index9 alt1"><code class="htmlscript plain">This is an original file </code></div><div class="line number11 index10 alt2"><code class="htmlscript plain"># stat old.file </code></div><div class="line number12 index11 alt1"><code class="htmlscript spaces"> </code><code class="htmlscript plain">File: `old.file'</code></div><div class="line number13 index12 alt2"><code class="htmlscript spaces"> </code><code class="htmlscript plain">Size: 25           Blocks: 8          IO Block: 4096   regular file </code></div><div class="line number14 index13 alt1"><code class="htmlscript plain">Device: 807h/2055d      Inode: 660650      Links: 2 </code></div><div class="line number15 index14 alt2"><code class="htmlscript plain">Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root) </code></div><div class="line number16 index15 alt1"><code class="htmlscript plain">... </code></div><div class="line number17 index16 alt2"><code class="htmlscript plain">// 文件有相同的 inode 号以及 data block </code></div><div class="line number18 index17 alt1"><code class="htmlscript plain"># link old.file hard.link | ls -li </code></div><div class="line number19 index18 alt2"><code class="htmlscript plain">total 8 </code></div><div class="line number20 index19 alt1"><code class="htmlscript plain">660650 -rw-r--r-- 2 root root 25 Sep  1 17:44 hard.link </code></div><div class="line number21 index20 alt2"><code class="htmlscript plain">660650 -rw-r--r-- 2 root root 25 Sep  1 17:44 old.file </code></div><div class="line number22 index21 alt1"> </div><div class="line number23 index22 alt2"><code class="htmlscript plain">// 不能交叉文件系统</code></div><div class="line number24 index23 alt1"><code class="htmlscript plain"># ln /dev/input/event5 /root/bfile.txt </code></div><div class="line number25 index24 alt2"><code class="htmlscript plain">ln: failed to create hard link `/root/bfile.txt' =&gt; `/dev/input/event5': </code></div><div class="line number26 index25 alt1"><code class="htmlscript plain">Invalid cross-device link </code></div><div class="line number27 index26 alt2"> </div><div class="line number28 index27 alt1"><code class="htmlscript plain">// 不能对目录进行创建硬连接</code></div><div class="line number29 index28 alt2"><code class="htmlscript plain"># mkdir -p old.dir/test </code></div><div class="line number30 index29 alt1"><code class="htmlscript plain"># ln old.dir/ hardlink.dir </code></div><div class="line number31 index30 alt2"><code class="htmlscript plain">ln: `old.dir/': hard link not allowed for directory </code></div><div class="line number32 index31 alt1"><code class="htmlscript plain"># ls -iF </code></div><div class="line number33 index32 alt2"><code class="htmlscript plain">660650 hard.link  657948 old.dir/  660650 old.file</code></div></div></td></tr></tbody></table></div></div></div></span><p>文件 old.file 与 hard.link 有着相同的 inode 号：660650 及文件权限，inode 是随着文件的存在而存在，因此只有当文件存在时才可创建硬链接，即当 inode 存在且链接计数器（link count）不为 0 时。inode 号仅在各文件系统下是唯一的，当 Linux 挂载多个文件系统后将出现 inode 号重复的现象（如 <a href="#listing5">清单 5.</a>所示，文件 t3.jpg、sync 及 123.txt 并无关联，却有着相同的 inode 号），因此硬链接创建时不可跨文件系统。设备文件目录 /dev 使用的文件系统是 devtmpfs，而 /root（与根目录 / 一致）使用的是磁盘文件系统 ext4。<a href="#listing5">清单 5.</a>展示了使用命令 df 查看当前系统中挂载的文件系统类型、各文件系统 inode 使用情况及文件系统挂载点。</p><h5 id="listing5" class="ibm-h5">清单 5. 查找有相同 inode 号的文件</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_1695" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain"># df -i --print-type </code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">Filesystem     Type       Inodes  IUsed    IFree IUse% Mounted on </code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">/dev/sda7      ext4      3147760 283483  2864277   10% / </code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">udev           devtmpfs   496088    553   495535    1% /dev </code></div><div class="line number5 index4 alt2"><code class="htmlscript plain">tmpfs          tmpfs      499006    491   498515    1% /run </code></div><div class="line number6 index5 alt1"><code class="htmlscript plain">none           tmpfs      499006      3   499003    1% /run/lock </code></div><div class="line number7 index6 alt2"><code class="htmlscript plain">none           tmpfs      499006     15   498991    1% /run/shm </code></div><div class="line number8 index7 alt1"><code class="htmlscript plain">/dev/sda6      fuseblk  74383900   4786 74379114    1% /media/DiskE </code></div><div class="line number9 index8 alt2"><code class="htmlscript plain">/dev/sda8      fuseblk  29524592  19939 29504653    1% /media/DiskF </code></div><div class="line number10 index9 alt1"> </div><div class="line number11 index10 alt2"><code class="htmlscript plain"># find / -inum 1114 </code></div><div class="line number12 index11 alt1"><code class="htmlscript plain">/media/DiskE/Pictures/t3.jpg </code></div><div class="line number13 index12 alt2"><code class="htmlscript plain">/media/DiskF/123.txt </code></div><div class="line number14 index13 alt1"><code class="htmlscript plain">/bin/sync</code></div></div></td></tr></tbody></table></div></div></div></span><p>值得一提的是，Linux 系统存在 inode 号被用完但磁盘空间还有剩余的情况。我们创建一个 5M 大小的 ext4 类型的 mo.img 文件，并将其挂载至目录 /mnt。然后我们使用一个 shell 脚本将挂载在 /mnt 下 ext4 文件系统的 indoe 耗尽（见清单 6.）。</p><h5 id="listing6" class="ibm-h5">清单 6. 测试文件系统 inode 耗尽但仍有磁盘空间的情景</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_693478" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain"># dd if=/dev/zero of=mo.img bs=5120k count=1 </code></div><div class="line number2 index1 alt1"><code class="htmlscript plain"># ls -lh mo.img </code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">-rw-r--r-- 1 root root 5.0M Sep  1 17:54 mo.img </code></div><div class="line number4 index3 alt1"><code class="htmlscript plain"># mkfs -t ext4  -F ./mo.img </code></div><div class="line number5 index4 alt2"><code class="htmlscript plain">... </code></div><div class="line number6 index5 alt1"><code class="htmlscript plain">OS type: Linux </code></div><div class="line number7 index6 alt2"><code class="htmlscript plain">Block size=1024 (log=0) </code></div><div class="line number8 index7 alt1"><code class="htmlscript plain">Fragment size=1024 (log=0) </code></div><div class="line number9 index8 alt2"><code class="htmlscript plain">Stride=0 blocks, Stripe width=0 blocks </code></div><div class="line number10 index9 alt1"><code class="htmlscript plain">1280 inodes, 5120 blocks </code></div><div class="line number11 index10 alt2"><code class="htmlscript plain">256 blocks (5.00%) reserved for the super user </code></div><div class="line number12 index11 alt1"><code class="htmlscript plain">... </code></div><div class="line number13 index12 alt2"><code class="htmlscript plain">... </code></div><div class="line number14 index13 alt1"><code class="htmlscript plain">Writing superblocks and filesystem accounting information: done </code></div><div class="line number15 index14 alt2"> </div><div class="line number16 index15 alt1"><code class="htmlscript plain"># mount -o loop ./mo.img /mnt </code></div><div class="line number17 index16 alt2"><code class="htmlscript plain"># cat /mnt/inode_test.sh </code></div><div class="line number18 index17 alt1"><code class="htmlscript plain">#!/bin/bash </code></div><div class="line number19 index18 alt2"> </div><div class="line number20 index19 alt1"><code class="htmlscript plain">for ((i = 1; ; i++)) </code></div><div class="line number21 index20 alt2"><code class="htmlscript plain">do </code></div><div class="line number22 index21 alt1"><code class="htmlscript spaces">   </code><code class="htmlscript plain">if [ $? -eq 0 ]; then </code></div><div class="line number23 index22 alt2"><code class="htmlscript spaces">       </code><code class="htmlscript plain">echo  "This is file_$i" &gt; file_$i </code></div><div class="line number24 index23 alt1"><code class="htmlscript spaces">   </code><code class="htmlscript plain">else </code></div><div class="line number25 index24 alt2"><code class="htmlscript spaces">       </code><code class="htmlscript plain">exit 0 </code></div><div class="line number26 index25 alt1"><code class="htmlscript spaces">   </code><code class="htmlscript plain">fi </code></div><div class="line number27 index26 alt2"><code class="htmlscript plain">done </code></div><div class="line number28 index27 alt1"> </div><div class="line number29 index28 alt2"><code class="htmlscript plain"># ./inode_test.sh </code></div><div class="line number30 index29 alt1"><code class="htmlscript plain">./inode_test.sh: line 6: file_1269: No space left on device </code></div><div class="line number31 index30 alt2"> </div><div class="line number32 index31 alt1"><code class="htmlscript plain"># df -iT /mnt/; du -sh /mnt/ </code></div><div class="line number33 index32 alt2"><code class="htmlscript plain">Filesystem     Type Inodes IUsed IFree IUse% Mounted on </code></div><div class="line number34 index33 alt1"><code class="htmlscript plain">/dev/loop0     ext4   1280  1280     0  100% /mnt </code></div><div class="line number35 index34 alt2"><code class="htmlscript plain">1.3M    /mnt/</code></div></div></td></tr></tbody></table></div></div></div></span><p>硬链接不能对目录创建是受限于文件系统的设计（见 <a href="#listing4">清单 4.</a>对目录创建硬链接将失败）。现 Linux 文件系统中的目录均隐藏了两个个特殊的目录：当前目录（.）与父目录（..）。查看这两个特殊目录的 inode 号可知其实这两目录就是两个硬链接（注意目录 /mnt/lost+found/ 的 inode 号）。若系统允许对目录创建硬链接，则会产生目录环。</p><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_487537" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain"># ls -aliF /mnt/lost+found </code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">total 44 </code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">11 drwx------ 2 root root 12288 Sep  1 17:54 ./ </code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">2 drwxr-xr-x 3 root root 31744 Sep  1 17:57 ../ </code></div><div class="line number5 index4 alt2"> </div><div class="line number6 index5 alt1"><code class="htmlscript plain"># stat  /mnt/lost+found/ </code></div><div class="line number7 index6 alt2"><code class="htmlscript spaces"> </code><code class="htmlscript plain">File: `/mnt/lost+found/'</code></div><div class="line number8 index7 alt1"><code class="htmlscript spaces"> </code><code class="htmlscript plain">Size: 12288        Blocks: 24         IO Block: 1024   directory </code></div><div class="line number9 index8 alt2"><code class="htmlscript plain">Device: 700h/1792d      Inode: 11          Links: 2 </code></div><div class="line number10 index9 alt1"><code class="htmlscript plain">Access: (0700/drwx------)  Uid: (    0/    root)   Gid: (    0/    root) </code></div><div class="line number11 index10 alt2"><code class="htmlscript plain">Access: 2012-09-01 17:57:17.000000000 +0800 </code></div><div class="line number12 index11 alt1"><code class="htmlscript plain">Modify: 2012-09-01 17:54:49.000000000 +0800 </code></div><div class="line number13 index12 alt2"><code class="htmlscript plain">Change: 2012-09-01 17:54:49.000000000 +0800 </code></div><div class="line number14 index13 alt1"><code class="htmlscript plain">Birth: -</code></div></div></td></tr></tbody></table></div></div></div></span><p>软链接与硬链接不同，若文件用户数据块中存放的内容是另一文件的路径名的指向，则该文件就是软连接。软链接就是一个普通文件，只是数据块内容有点特殊。软链接有着自己的 inode 号以及用户数据块（见 <a href="#fig2">图 2.</a>）。因此软链接的创建与使用没有类似硬链接的诸多限制：</p><ul class="ibm-bullet-list"><li>
软链接有自己的文件属性及权限等；</li><li>
可对不存在的文件或目录创建软链接；</li><li>
软链接可交叉文件系统；</li><li>
软链接可对文件或目录创建；</li><li>
创建软链接时，链接计数 i_nlink 不会增加；</li><li>
删除软链接并不影响被指向的文件，但若被指向的原文件被删除，则相关软连接被称为死链接（即 dangling link，若被指向路径文件被重新创建，死链接可恢复为正常的软链接）。</li></ul><h5 id="fig2" class="ibm-h5">图 2. 软链接的访问</h5><img src="image002.jpg" class="ibm-downsize" alt="图 2. 软链接的访问" height="168" width="224" /><h5 id="listing7" class="ibm-h5">清单 7. 软链接特性展示</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_967286" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain"># ls -li </code></div><div class="line number2 index1 alt1"><code class="htmlscript spaces"> </code><code class="htmlscript plain">total 0 </code></div><div class="line number3 index2 alt2"> </div><div class="line number4 index3 alt1"><code class="htmlscript spaces"> </code><code class="htmlscript plain">// 可对不存在的文件创建软链接</code></div><div class="line number5 index4 alt2"><code class="htmlscript spaces"> </code><code class="htmlscript plain"># ln -s old.file soft.link </code></div><div class="line number6 index5 alt1"><code class="htmlscript spaces"> </code><code class="htmlscript plain"># ls -liF </code></div><div class="line number7 index6 alt2"><code class="htmlscript spaces"> </code><code class="htmlscript plain">total 0 </code></div><div class="line number8 index7 alt1"><code class="htmlscript spaces"> </code><code class="htmlscript plain">789467 lrwxrwxrwx 1 root root 8 Sep  1 18:00 soft.link -&gt; old.file </code></div><div class="line number9 index8 alt2"> </div><div class="line number10 index9 alt1"><code class="htmlscript spaces"> </code><code class="htmlscript plain">// 由于被指向的文件不存在，此时的软链接 soft.link 就是死链接</code></div><div class="line number11 index10 alt2"><code class="htmlscript spaces"> </code><code class="htmlscript plain"># cat soft.link </code></div><div class="line number12 index11 alt1"><code class="htmlscript spaces"> </code><code class="htmlscript plain">cat: soft.link: No such file or directory </code></div><div class="line number13 index12 alt2"> </div><div class="line number14 index13 alt1"><code class="htmlscript spaces"> </code><code class="htmlscript plain">// 创建被指向的文件 old.file，soft.link 恢复成正常的软链接</code></div><div class="line number15 index14 alt2"><code class="htmlscript spaces"> </code><code class="htmlscript plain"># echo "This is an original file_A" &gt;&gt; old.file </code></div><div class="line number16 index15 alt1"><code class="htmlscript spaces"> </code><code class="htmlscript plain"># cat soft.link </code></div><div class="line number17 index16 alt2"><code class="htmlscript spaces"> </code><code class="htmlscript plain">This is an original file_A </code></div><div class="line number18 index17 alt1"> </div><div class="line number19 index18 alt2"><code class="htmlscript spaces"> </code><code class="htmlscript plain">// 对不存在的目录创建软链接</code></div><div class="line number20 index19 alt1"><code class="htmlscript spaces"> </code><code class="htmlscript plain"># ln -s old.dir soft.link.dir </code></div><div class="line number21 index20 alt2"><code class="htmlscript spaces"> </code><code class="htmlscript plain"># mkdir -p old.dir/test </code></div><div class="line number22 index21 alt1"><code class="htmlscript spaces"> </code><code class="htmlscript plain"># tree . -F --inodes </code></div><div class="line number23 index22 alt2"><code class="htmlscript spaces"> </code><code class="htmlscript plain">. </code></div><div class="line number24 index23 alt1"><code class="htmlscript plain">├── [ 789497]  old.dir/ </code></div><div class="line number25 index24 alt2"><code class="htmlscript plain">│   └── [ 789498]  test/ </code></div><div class="line number26 index25 alt1"><code class="htmlscript plain">├── [ 789495]  old.file </code></div><div class="line number27 index26 alt2"><code class="htmlscript plain">├── [ 789495]  soft.link -&gt; old.file </code></div><div class="line number28 index27 alt1"><code class="htmlscript plain">└── [ 789497]  soft.link.dir -&gt; old.dir/</code></div></div></td></tr></tbody></table></div></div></div></span><p>当然软链接的用户数据也可以是另一个软链接的路径，其解析过程是递归的。但需注意：软链接创建时原文件的路径指向使用绝对路径较好。使用相对路径创建的软链接被移动后该软链接文件将成为一个死链接（如下所示的软链接 a 使用了相对路径，因此不宜被移动），因为链接数据块中记录的亦是相对路径指向。</p><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_518185" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">$ ls -li </code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">total 2136 </code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">656627 lrwxrwxrwx 1 harris harris       8 Sep  1 14:37 a -&gt; data.txt</code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">656662 lrwxrwxrwx 1 harris harris       1 Sep  1 14:37 b -&gt; a </code></div><div class="line number5 index4 alt2"><code class="htmlscript plain">656228 -rw------- 1 harris harris 2186738 Sep  1 14:37 data.txt 6</code></div></div></td></tr></tbody></table></div></div></div></span><h2 id="major3" class="ibm-h2">链接相关命令</h2><p>在 Linux 中查看当前系统已挂着的文件系统类型，除上述使用的命令 df，还可使用命令 mount 或查看文件 /proc/mounts。</p><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_762158" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain"># mount </code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">/dev/sda7 on / type ext4 (rw,errors=remount-ro) </code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">proc on /proc type proc (rw,noexec,nosuid,nodev) </code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">sysfs on /sys type sysfs (rw,noexec,nosuid,nodev) </code></div><div class="line number5 index4 alt2"><code class="htmlscript plain">... </code></div><div class="line number6 index5 alt1"><code class="htmlscript plain">... </code></div><div class="line number7 index6 alt2"><code class="htmlscript plain">none on /run/shm type tmpfs (rw,nosuid,nodev)</code></div></div></td></tr></tbody></table></div></div></div></span><p>命令 ls 或 stat 可帮助我们区分软链接与其他文件并查看文件 inode 号，但较好的方式还是使用 find 命令，其不仅可查找某文件的软链接，还可以用于查找相同 inode 的所有硬链接。（见清单 8.）</p><h5 id="listing8" class="ibm-h5">清单 8. 使用命令 find 查找软链接与硬链接</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_309873" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">// 查找在路径 /home 下的文件 data.txt 的软链接</code></div><div class="line number2 index1 alt1"><code class="htmlscript plain"># find /home -lname data.txt </code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">/home/harris/debug/test2/a </code></div><div class="line number4 index3 alt1"> </div><div class="line number5 index4 alt2"><code class="htmlscript plain">// 查看路径 /home 有相同 inode 的所有硬链接</code></div><div class="line number6 index5 alt1"><code class="htmlscript plain"># find /home -samefile /home/harris/debug/test3/old.file </code></div><div class="line number7 index6 alt2"><code class="htmlscript plain">/home/harris/debug/test3/hard.link </code></div><div class="line number8 index7 alt1"><code class="htmlscript plain">/home/harris/debug/test3/old.file </code></div><div class="line number9 index8 alt2"> </div><div class="line number10 index9 alt1"><code class="htmlscript plain"># find /home -inum 660650 </code></div><div class="line number11 index10 alt2"><code class="htmlscript plain">/home/harris/debug/test3/hard.link </code></div><div class="line number12 index11 alt1"><code class="htmlscript plain">/home/harris/debug/test3/old.file </code></div><div class="line number13 index12 alt2"> </div><div class="line number14 index13 alt1"><code class="htmlscript plain">// 列出路径 /home/harris/debug/ 下的所有软链接文件</code></div><div class="line number15 index14 alt2"><code class="htmlscript plain"># find /home/harris/debug/ -type l -ls </code></div><div class="line number16 index15 alt1"><code class="htmlscript plain">656662 0 lrwxrwxrwx 1 harris harris 1 Sep 1 14:37 /home/harris/debug/test2/b -&gt; a</code></div><div class="line number17 index16 alt2"><code class="htmlscript plain">656627 0 lrwxrwxrwx 1 harris harris 8 Sep 1 14:37 /home/harris/debug/test2/a -&gt; </code></div><div class="line number18 index17 alt1"><code class="htmlscript plain">data.txt</code></div><div class="line number19 index18 alt2"><code class="htmlscript plain">789467 0 lrwxrwxrwx 1 root root 8 Sep 1 18:00 /home/harris/debug/test/soft.link -&gt; </code></div><div class="line number20 index19 alt1"><code class="htmlscript plain">old.file </code></div><div class="line number21 index20 alt2"><code class="htmlscript plain">789496    0 lrwxrwxrwx   1 root     root            7 Sep  1 18:01 </code></div><div class="line number22 index21 alt1"><code class="htmlscript plain">/home/harris/debug/test/soft.link.dir -&gt; old.dir</code></div></div></td></tr></tbody></table></div></div></div></span><p>系统根据磁盘的大小默认设定了 inode 的值（见清单 9.），如若必要，可在格式文件系统前对该值进行修改。如键入命令 <code>mkfs -t ext4 -I 512</code><code><code>/</code><code>dev/sda4，</code>将使磁盘设备 /dev/sda4 格式成 inode 大小是 512 字节的 ext4 文件系统。</code></p><h5 id="listing9" class="ibm-h5"><code>清单 9. 查看系统的 inode 值</code></h5><code><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_535761" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">// 查看磁盘分区 /dev/sda7 上的 inode 值</code></div><div class="line number2 index1 alt1"><code class="htmlscript plain"># dumpe2fs -h /dev/sda7 | grep "Inode size"</code></div><div class="line number3 index2 alt2"><code class="htmlscript plain">dumpe2fs 1.42 (29-Nov-2011) </code></div><div class="line number4 index3 alt1"><code class="htmlscript plain">Inode size:              256 </code></div><div class="line number5 index4 alt2"> </div><div class="line number6 index5 alt1"><code class="htmlscript plain"># tune2fs -l /dev/sda7 | grep "Inode size"</code></div><div class="line number7 index6 alt2"><code class="htmlscript plain">Inode size:              256</code></div></div></td></tr></tbody></table></div></div></div></span><h2 id="major4" class="ibm-h2">Linux VFS</h2><p>Linux 有着极其丰富的文件系统，大体上可分如下几类：</p><ol type="1"><li>
网络文件系统，如 nfs、cifs 等；</li><li>
磁盘文件系统，如 ext4、ext3 等；</li><li>
特殊文件系统，如 proc、sysfs、ramfs、tmpfs 等。</li></ol><p>实现以上这些文件系统并在 Linux 下共存的基础就是 Linux VFS（Virtual File System 又称 Virtual Filesystem Switch），即虚拟文件系统。VFS 作为一个通用的文件系统，抽象了文件系统的四个基本概念：文件、目录项 (dentry)、索引节点 (inode) 及挂载点，其在内核中为用户空间层的文件系统提供了相关的接口（见 <a href="#fig3">图 3.</a>所示 VFS 在 Linux 系统的架构）。VFS 实现了 open()、read() 等系统调并使得 cp 等用户空间程序可跨文件系统。VFS 真正实现了上述内容中：在 Linux 中除进程之外一切皆是文件。</p><h5 id="fig3" class="ibm-h5">图 3. VFS 在系统中的架构</h5><img src="image003.jpg" class="ibm-downsize" alt="图 3. VFS 在系统中的架构" height="208" width="280" /><p>Linux VFS 存在四个基本对象：超级块对象 (superblock object)、索引节点对象 (inode object)、目录项对象 (dentry object) 及文件对象 (file object)。超级块对象代表一个已安装的文件系统；索引节点对象代表一个文件；目录项对象代表一个目录项，如设备文件 event5 在路径 /dev/input/event5 中，其存在四个目录项对象：/ 、dev/ 、input/ 及 event5。文件对象代表由进程打开的文件。这四个对象与进程及磁盘文件间的关系如图 4. 所示，其中 d_inode 即为硬链接。为文件路径的快速解析，Linux VFS 设计了目录项缓存（Directory Entry Cache，即 dcache）。</p><h5 id="fig4" class="ibm-h5">图 4. VFS 的对象之间的处理</h5><img src="image004.jpg" class="ibm-downsize" alt="图 4. VFS 的对象之间的处理" height="144" width="360" /><p class="ibm-ind-link ibm-hide"><a class="ibm-popup-link" onclick="IBMCore.common.widget.overlay.show('N1013F');return false;" href="#N1013F">点击查看大图</a></p><a id="_ 代码清单与预格式化文本"></a><h2 id="major5" class="ibm-h2">Linux 文件系统中的 inode</h2><p>在 Linux 中，索引节点结构存在于系统内存及磁盘，其可区分成 VFS inode 与实际文件系统的 inode。VFS inode 作为实际文件系统中 inode 的抽象，定义了结构体 inode 与其相关的操作 inode_operations（见内核源码 include/linux/fs.h）。</p><h5 id="listing10" class="ibm-h5">清单 10. VFS 中的 inode 与 inode_operations 结构体</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_660670" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">struct inode { </code></div><div class="line number2 index1 alt1"><code class="htmlscript spaces">   </code><code class="htmlscript plain">... </code></div><div class="line number3 index2 alt2"><code class="htmlscript spaces">   </code><code class="htmlscript plain">const struct inode_operations   *i_op; // 索引节点操作</code></div><div class="line number4 index3 alt1"><code class="htmlscript spaces">   </code><code class="htmlscript plain">unsigned long           i_ino;      // 索引节点号</code></div><div class="line number5 index4 alt2"><code class="htmlscript spaces">   </code><code class="htmlscript plain">atomic_t                i_count;    // 引用计数器</code></div><div class="line number6 index5 alt1"><code class="htmlscript spaces">   </code><code class="htmlscript plain">unsigned int            i_nlink;    // 硬链接数目</code></div><div class="line number7 index6 alt2"><code class="htmlscript spaces">   </code><code class="htmlscript plain">... </code></div><div class="line number8 index7 alt1"><code class="htmlscript plain">} </code></div><div class="line number9 index8 alt2"> </div><div class="line number10 index9 alt1"><code class="htmlscript plain">struct inode_operations { </code></div><div class="line number11 index10 alt2"><code class="htmlscript spaces">   </code><code class="htmlscript plain">... </code></div><div class="line number12 index11 alt1"><code class="htmlscript spaces">   </code><code class="htmlscript plain">int (*create) (struct inode *,struct dentry *,int, struct nameidata *); </code></div><div class="line number13 index12 alt2"><code class="htmlscript spaces">   </code><code class="htmlscript plain">int (*link) (struct dentry *,struct inode *,struct dentry *); </code></div><div class="line number14 index13 alt1"><code class="htmlscript spaces">   </code><code class="htmlscript plain">int (*unlink) (struct inode *,struct dentry *); </code></div><div class="line number15 index14 alt2"><code class="htmlscript spaces">   </code><code class="htmlscript plain">int (*symlink) (struct inode *,struct dentry *,const char *); </code></div><div class="line number16 index15 alt1"><code class="htmlscript spaces">   </code><code class="htmlscript plain">int (*mkdir) (struct inode *,struct dentry *,int); </code></div><div class="line number17 index16 alt2"><code class="htmlscript spaces">   </code><code class="htmlscript plain">int (*rmdir) (struct inode *,struct dentry *); </code></div><div class="line number18 index17 alt1"><code class="htmlscript spaces">   </code><code class="htmlscript plain">... </code></div><div class="line number19 index18 alt2"><code class="htmlscript plain">}</code></div></div></td></tr></tbody></table></div></div></div></span><p>如清单 10. 所见，每个文件存在两个计数器：i_count 与 i_nlink，即引用计数与硬链接计数。结构体 inode 中的 i_count 用于跟踪文件被访问的数量，而 i_nlink 则是上述使用 ls -l 等命令查看到的文件硬链接数。或者说 i_count 跟踪文件在内存中的情况，而 i_nlink 则是磁盘计数器。当文件被删除时，则 i_nlink 先被设置成 0。文件的这两个计数器使得 Linux 系统升级或程序更新变的容易。系统或程序可在不关闭的情况下（即文件 i_count 不为 0），将新文件以同样的文件名进行替换，新文件有自己的 inode 及 data block，旧文件会在相关进程关闭后被完整的删除。</p><h5 id="listing11" class="ibm-h5">清单 11. 文件系统 ext4 中的 inode</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_240530" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain">struct ext4_inode { </code></div><div class="line number2 index1 alt1"><code class="htmlscript spaces">   </code><code class="htmlscript plain">... </code></div><div class="line number3 index2 alt2"><code class="htmlscript spaces">   </code><code class="htmlscript plain">__le32  i_atime;        // 文件内容最后一次访问时间</code></div><div class="line number4 index3 alt1"><code class="htmlscript spaces">   </code><code class="htmlscript plain">__le32  i_ctime;        // inode 修改时间</code></div><div class="line number5 index4 alt2"><code class="htmlscript spaces">   </code><code class="htmlscript plain">__le32  i_mtime;        // 文件内容最后一次修改时间</code></div><div class="line number6 index5 alt1"><code class="htmlscript spaces">   </code><code class="htmlscript plain">__le16  i_links_count;  // 硬链接计数</code></div><div class="line number7 index6 alt2"><code class="htmlscript spaces">   </code><code class="htmlscript plain">__le32  i_blocks_lo;    // Block 计数</code></div><div class="line number8 index7 alt1"><code class="htmlscript spaces">   </code><code class="htmlscript plain">__le32  i_block[EXT4_N_BLOCKS];  // 指向具体的 block </code></div><div class="line number9 index8 alt2"><code class="htmlscript spaces">   </code><code class="htmlscript plain">... </code></div><div class="line number10 index9 alt1"><code class="htmlscript plain">};</code></div></div></td></tr></tbody></table></div></div></div></span><p>清单 11. 展示的是文件系统 ext4 中对 inode 的定义（见内核源码 fs/ext4/ext4.h）。其中三个时间的定义可对应与命令 stat 中查看到三个时间。i_links_count 不仅用于文件的硬链接计数，也用于目录的子目录数跟踪（目录并不显示硬链接数，命令 ls -ld 查看到的是子目录数）。由于文件系统 ext3 对 i_links_count 有限制，其最大数为：32000（该限制在 ext4 中被取消）。尝试在 ext3 文件系统上验证目录子目录及普通文件硬链接最大数可见 <a href="#listing12">清单 12</a>. 的错误信息。因此实际文件系统的 inode 之间及与 VFS inode 相较是有差异的。</p><h5 id="listing12" class="ibm-h5">清单 12. 文件系统 ext3 中 i_links_count 的限制</h5><span class="dw-code-nohighlight"><div class="ibm-syntax-container"><div><div id="highlighter_829293" class="syntaxhighlighter  htmlscript"><table border="0" cellpadding="0" cellspacing="0" role="none"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="htmlscript plain"># ./dirtest.sh </code></div><div class="line number2 index1 alt1"><code class="htmlscript plain">mkdir: cannot create directory `dir_31999': Too many links </code></div><div class="line number3 index2 alt2"> </div><div class="line number4 index3 alt1"><code class="htmlscript plain"># ./linkcount.sh </code></div><div class="line number5 index4 alt2"><code class="htmlscript plain">ln: failed to create hard link to `old.file': Too many links</code></div></div></td></tr></tbody></table></div></div></div></span><h2 id="major6" class="ibm-h2">结束语</h2><p>本文最初描述了 Linux 系统中文件与目录被引入的原因及 Linux 处理文件的方式，然后我们通过区分硬链接与软链接的不同，了解 Linux 中的索引节点的相关知识，并以此引出了 inode 的结构体。索引节点结构体存在在于 Linux VFS 以及实际文件系统中，VFS 作为通用文件模型是 Linux 中“一切皆是文件”实现的基础。文章并未深入 Linux VFS，也没涉及实际文件系统的实现，文章只是从 inode 了解 Linux 的文件系统的相关内容。若想深入文件系统的内容，查看内核文档 Documentation/filesystems/ 是一个不错的方式。</p><!--CMA ID: 852952--><!--Site ID: 10--><!--XSLT stylesheet used to transform this file: dw-document-html-8.0.xsl-->
                                        <!-- Article Quiz -->
                                        
                                        <!-- Article Resources -->
                                        <div class="ibm-alternate-rule"><hr /></div><h4 id="artrelatedtopics" class="ibm-h4">相关主题</h4><ul><li>查看文章“<a href="http://www.ibm.com/developerworks/cn/linux/l-lpic1-v3-103-3/index.html">学习 Linux，101: 文件和目录管理</a>”，熟悉 Linux 的文件和目录。</li><li>查看文章“<a href="http://www.ibm.com/developerworks/cn/linux/l-lpic1-v3-104-6/">学习 Linux，101: 创建和更改硬链接和符号链接</a>”，掌握与硬链接和软链接相关的命令。</li><li>查看 wiki 上“<a href="http://en.wikipedia.org/wiki/Hard_link">Hard link</a>”、“<a href="http://en.wikipedia.org/wiki/Symbolic_link">Symbolic link</a>”及“<a href="http://en.wikipedia.org/wiki/Inode">inode</a>”等内容。</li><li>查阅 <a href="http://www.kernel.org/doc/man-pages/online/pages/man7/symlink.7.html">symlink(7)</a>的 man 手册，了解 Linux 中的软链接。</li><li>查看文章“<a href="http://linuxgazette.net/105/pitcher.html">Q &amp; A: The difference between hard and soft links</a>”，了解硬链接与软链接的区别。</li><li>查看文章“<a href="http://ph7spot.com/musings/in-unix-everything-is-a-file">In UNIX Everything is a File</a>”，了解 UNIX 中除进程外一切皆是文件。</li><li>查看文章“<a href="http://www.ibm.com/developerworks/cn/linux/l-virtual-filesystem-switch/">Linux 虚拟系统文件交换器剖析</a>”与“<a href="http://www.ibm.com/developerworks/cn/linux/l-linux-filesystem/">Linux 文件系统剖析</a>”，获取 Linux 虚拟文件系统 (Linux VFS) 相关知识。</li><li>查看文章“<a href="http://www.ibm.com/developerworks/cn/linux/l-vfs/">解析 Linux 中的 VFS 文件系统机制</a>”，深入理解实例一个文件系统系统的过程。</li><li>查看文章“<a href="http://www.ibm.com/developerworks/cn/aix/library/au-speakingunix14/">对话 UNIX: 关于 inode</a>”，了解 inode 相关内容。</li><li>查看文章“<a href="http://www.ibm.com/developerworks/cn/linux/l-cn-usagecounter/">Linux 文件系统中元数据使用计数的机制</a>”，了解 Linux 对 dentry 和 inode 的计数操作。</li><li>查看内核源码文件 Documentation/filesystems/ext4.txt，了解文件系统 ext4 的相关内容。</li><li> 在 <a href="http://www.ibm.com/developerworks/cn/linux/"> developerWorks Linux 专区</a> 寻找为 Linux 开发人员（包括 <a href="http://www.ibm.com/developerworks/cn/linux/newto/">Linux 新手入门</a>）准备的更多参考资料，查阅我们 <a href="http://www.ibm.com/developerworks/cn/linux/best2009/index.html">最受欢迎的文章和教程</a>。 </li><li>在 developerWorks 上查阅所有 <a href="http://www.ibm.com/developerworks/cn/views/linux/libraryview.jsp?search_by=Linux+%E6%8A%80%E5%B7%A7"> Linux 技巧</a> 和 <a href="http://www.ibm.com/developerworks/cn/views/linux/libraryview.jsp?type_by=%E6%95%99%E7%A8%8B"> Linux 教程</a>。 </li><li>随时关注 developerWorks <a href="http://www.ibm.com/developerworks/cn/offers/techbriefings/">技术活动</a>和<a href="http://www.ibm.com/developerworks/cn/swi/">网络广播</a>。 </li></ul>
                                        <!-- Commenting -->
<!-- INLINE_COMMENTS_BEGIN:
<div class="ibm-alternate-rule"><hr/></div>
<div id="dw-article-cmts-top" class="ibm-columns">
    <div class="ibm-col-6-2">
        <h4 id="icomments" class="ibm-h4">评论</h4>
        <div id="dw-article-cmts-login">
            <p>添加或订阅评论，请先<a onClick="window.location=userLinks[0].url;" tabindex="0" role="link">登录</a>或<a onClick="window.location=userLinks[1].url;" tabindex="0" role="link">注册</a>。</p>
        </div>
    </div>    
    <div class="ibm-col-6-2" id="dw-notify"> 
        <input type="checkbox" value="1" name="comment_notification" id="comment_notification" disabled="disabled">
        <label for="comment_notification">有新评论时提醒我</label>	   
    </div>
</div>

<div class="dw-article-cmts-container">       
    <div class="ibm-no-print" id="dw-icomments-container">	
        
    </div>
</div>
INLINE_COMMENTS_END -->                                        <!-- CENTER_6_4_CONTENT_COLUMN_END -->
                                    </code></div><code>   
                                </code></div><code>
                        <!--Rating_Meta_BEGIN--><div class="metavalue">static.content.url=http://www.ibm.com/developerworks/js/artrating/</div><div class="metavalue">SITE_ID=10</div><div class="metavalue">Zone=Linux</div><div class="metavalue">ArticleID=852952</div><div class="metavalue">ArticleTitle=理解 Linux 的硬链接与软链接</div><div class="metavalue">publish-date=12202012</div><script language="javascript" type="text/javascript">document.write('&lt;div class="metavalue"&gt;url='+location.href.replace(/&lt;/g,  '%3C')+'&lt;/div&gt;');</script><div class="metavalue">url=https://www.ibm.com/developerworks/cn/linux/l-cn-hardandsymb-links/</div><!--Rating_Meta_END-->
                    </code></div><code>
                    <!-- END_IBM-CONTENT-MAIN -->
                </code></div><code>
                <!-- END_IBM-CONTENT-BODY -->
            </code></div><code>
            <!-- END_IBM-CONTENT -->
        </code></div><code>
        <!-- END_IBM-PCON -->
    </code></main><code>
    <!-- MAIN_CONTENT_END -->
    
    <!-- END_CONTENT-WRAPPER -->	
</code></div><code>
<!-- FOOTER_BEGIN -->
<footer role="contentinfo" aria-label="IBM Developer">
    <div id="dw-footer-module" class="dw-footer-home ibmdeveloper">
        <section aria-label="参考资料" role="contentinfo">
            <div class="ibm-columns">
                <div class="ibm-col-6-1 dw-footer-col-1">
                    <ul>
                        <li class="dw-footer-heading" aria-label="IBM Developer"><a href="//www.ibm.com/developerworks/cn/">IBM <b>Developer</b></a></li>
                        <li><a href="//www.ibm.com/developerworks/secure/feedback.jsp?domain=dwchina">站点反馈</a></li>
                        <li class="dw-footer-newline"><a href="//www.ibm.com/developerworks/secure/myideas2.jsp?domain=dwchina">我要投稿</a></li>
                        <li class="dw-footer-newline"><a href="//www.ibm.com/developerworks/community/report?lang=zh">报告滥用</a></li>
                        <li class="dw-footer-newline"><a href="//www.ibm.com/developerworks/cn/community/terms/thirdparty/">第三方提示</a></li>
                    </ul>
                    <ul>
                        <li class="dw-footer-newline"><a href="//weibo.com/ibmdw/">关注微博</a></li>
                    </ul>
                </div>
                <div class="ibm-col-6-1 dw-footer-col-2">
                    <ul>
                        <li class="dw-footer-heading"><a href="//www-31.ibm.com/ibm/cn/ur/">大学合作</a></li>
                    </ul>
                    <ul class="dw-footer-lang" aria-label="选择语言">
                        <li class="dw-footer-heading">选择语言</li>
                        <li><a href="//developer.ibm.com">English</a></li>
                        <li><a href="//www.ibm.com/developerworks/cn/" lang="zh">中文</a></li>
                        <li><a href="//www.ibm.com/developerworks/jp/" lang="ja">日本語</a></li>
                        <li><a href="//www.ibm.com/developerworks/ru/" lang="ru">Русский</a></li>
                        <li class="dw-footer-newline"><a href="//www.ibm.com/developerworks/br/" lang="pt">Português (Brasil)</a></li>
                        <li><a href="//www.ibm.com/developerworks/ssa/" lang="es">Español</a></li>
                        <li><a href="//developer.ibm.com/kr/" lang="kr">한글</a></li>
                    </ul>
                </div>
                <div class="ibm-col-6-1 dw-footer-col-3"> </div>
                <div class="ibm-col-6-1 dw-footer-col-4"> </div>
                <div class="ibm-col-6-1 dw-footer-col-5">
                    <ul class="dw-footer-categories">
                        <li class="dw-footer-category">
                            <a href="//developer.ibm.com/cn/journey/">Code patterns</a>  
                        </li>
                        <li class="dw-footer-category">
                            <a href="//www.ibm.com/developerworks/cn/views/global/libraryview.jsp">技术文档库</a>
                        </li>
                        <li class="dw-footer-category">
                            <a href="//www.ibm.com/developerworks/cn/downloads/">软件下载</a>  
                        </li>
                        <li class="dw-footer-category">
                            <a href="//developer.ibm.com/cn/">开发者中心</a>  
                        </li>
                        <li class="dw-footer-category">
                            <a href="//www.ibm.com/developerworks/cn/rss/">订阅源</a>  
                        </li>

                    </ul>
                </div>
                <div class="ibm-col-6-1 dw-footer-col-6">
                    <ul class="dw-footer-categories">
                        <li class="dw-footer-category">
                            <a href="//www.pages03.net/ibmdeveloperworks/developerWorksChina-NewsletterSubscriptionPage-secure18rev1/">时事通讯</a>  
                        </li>
                        <li class="dw-footer-category">
                            <a href="//developer.ibm.com/cn/tv/">视频</a>  
                        </li>
                        <li class="dw-footer-category">
                            <a href="//developer.ibm.com/cn/blogs/">博客</a>  
                        </li>
                        <li class="dw-footer-category">
                            <a href="//developer.ibm.com/cn/events/">活动</a>  
                        </li>                        
                        <li class="dw-footer-category">
                            <a href="//www.ibm.com/developerworks/cn/community/">社区</a>  
                        </li>
                    </ul>
                </div>
            </div>
        </section>
    </div>
    <div id="dw-footer" class="ibm-padding-normal ibm-alternate">
        <div class="ibm-columns">
            <div class="ibm-col-1-1">
                <div class="dw-footer-corporate-links">
                <ul>
                    <li><a href="//www.ibm.com/contact/cn/zh/">联系 IBM</a></li>
                    <li><a href="//www.ibm.com/privacy/cn/zh/">隐私条约</a></li>
                    <li><a href="//www.ibm.com/developerworks/cn/community/terms/use/">使用条款</a></li>
                    <li><a href="//www.ibm.com/accessibility/cn/zh/">信息无障碍选项</a></li>
                    <li class="ibm-feedbacklink"><a href="#">反馈</a></li>
                    <li id="ibm-truste-cp"><a onclick="truste.eu.clickListener();return false;" href="#">Cookie 首选项</a></li>
                </ul>                 
                </div>    
            </div>
        </div>
    </div>        
</footer> <!-- FOOTER_END -->

<!-- END_IBM-TOP -->
</code></div><code>

<!-- SCRIPTS_INCLUDE_BEGIN -->
<!-- Styles -->
<link rel="stylesheet" type="text/css" href="/developerworks/maverick/css/plugin/comments/jquery-comments.css" />
<link rel="stylesheet" href="/developerworks/maverick/fonts/awesome-4.5.0/css/font-awesome.min.css" />

<!-- Libraries -->
<script type="text/javascript" src="/developerworks/maverick/js/plugin/comments/jquery-comments.min.js"></script>
<script type="text/javascript" src="/developerworks/maverick/js/plugin/formatter/moment-with-locales.js"></script>
<script type="text/javascript" src="/developerworks/maverick/js/ContentComments.js"></script>
<script type="text/javascript" src="/developerworks/js/v18/ContentCommentsFormatter.js"></script>
<script type="text/javascript" language="JavaScript">

	IBMCore.common.module.masthead.subscribe("ready", "customjs", setupCommentsPlugin).runAsap(setupCommentsPlugin);

	function setupCommentsPlugin(){
		//debugger;
			//alert(userLinks);
			var commentsInitInfo = {
				contentId : $("div[class=metavalue]:contains('ArticleID=')").text().split("=")[1],
				siteId :  $("div[class=metavalue]:contains('SITE_ID=')").text().split("=")[1],
				pluginDivId : '#dw-icomments-container',
				notifyElementId : "#comment_notification",
				loginMessageDivId : "#dw-article-cmts-login",
				totalCommentsDivId : "#nCmts",
						isIdea:false

			};				
								
			ContentComments.Setup(commentsInitInfo);
	}
</script>

<!-- SCRIPTS_INCLUDE_END -->



</code><div id="ibm-overlay-backdrop"></div><div class="ibm-common-overlay ibm-overlay-alt-three" id="ibm-overlaywidget-N1006F" role="dialog" aria-describedby="ibm-overlaywidget-N1006F-content" aria-label="Overlay content" data-widget="overlay container" data-name=""><div class="ibm-overlay-heading-con"><p class="ibm-icononly"><a href="javascript:void(0);" class="ibm-close-link" role="button">关闭</a></p></div><div id="ibm-overlaywidget-N1006F-content" class="content"><div class="ibm-widget-processed" data-widget="overlay" id="N1006F"><img alt="图 1. 通过文件名打开文件" src="image001.jpg" width="320" /></div></div></div><div class="ibm-common-overlay ibm-overlay-alt-three" id="ibm-overlaywidget-N1013F" role="dialog" aria-describedby="ibm-overlaywidget-N1013F-content" aria-label="Overlay content" data-widget="overlay container" data-name=""><div class="ibm-overlay-heading-con"><p class="ibm-icononly"><a href="javascript:void(0);" class="ibm-close-link" role="button">关闭</a></p></div><div id="ibm-overlaywidget-N1013F-content" class="content"><div class="ibm-widget-processed" data-widget="overlay" id="N1013F"><img alt="图 4. VFS 的对象之间的处理" src="image004.jpg" width="360" /></div></div></div><iframe id="lt_3p_10026" src="https://tags.crwdcntrl.net/lt/shared/2/lt.iframe.html?c=10026" title="empty" tabindex="-1" role="presentation" aria-hidden="true" style="border: 0px; width: 0px; height: 0px; display: block;"></iframe><div id="ibm-mobilemenu-screen"></div><div id="teconsent" data-source="dbdm" class="truste_cookie_prefs" style="position: fixed; display: none !important; height: 40px; background-color: #ffffff; z-index: 9999999999; bottom: 0; right: 0; margin: 0; padding: 0 16px; line-height: 40px; vertical-align: middle; box-shadow:0 0 10px 3px rgba(0,0,0,.1)" consent="undefined" aria-label="Open Cookie Preferences Modal" role="complementary"><script type="text/javascript" src="//consent.truste.com/notice?c=teconsent&amp;domain=ibm.com&amp;country=hk&amp;text=true&amp;pcookie&amp;gtm=1&amp;cdn=1" id="truste_0.284080474009307"></script><script async="async" type="text/javascript" crossorigin="" src="https://consent-st.trustarc.com/asset/notice.js/v/v1.7-138"></script><a role="link" id="icon-id05853904933552965" tabindex="0" lang="en" style="cursor: pointer; font-family: ibm-plex-sans; font-size: 12pt; color: #3d3d3d; text-decoration: none">Cookie Preferences</a></div><div id="survey-overlay-backdrop" style="opacity: 0.5;background: #111;bottom: 0;left: 0;position: fixed;right: 0; top: 0; z-index: 900; display:none"></div><img style="display:none" alt="" aria-hidden="true" width="0" height="0" id="db_lr_pixel_ad" src="https://id.rlcdn.com/464526.gif" /><script async="" src="//pixel.mathtag.com/event/js?mt_pp=2&amp;mt_adid=171815&amp;mt_id=1075167&amp;event_type=catchall&amp;industry=technology&amp;mt_excl=42004979184716082628939&amp;page_name=www.ibm.com%252Fdeveloperworks%252Fcn%252Flinux%252Fl-cn-hardandsymb-links&amp;product_category=Global%2520Cross-BU&amp;site_language=zh-CN&amp;version=1.0&amp;language=zh-CN%2Czh%3Bq%3D0.9&amp;mt_lim=20&amp;document_title=%E7%90%86%E8%A7%A3%20Linux%20%E7%9A%84%E7%A1%AC%E9%93%BE%E6%8E%A5%E4%B8%8E%E8%BD%AF%E9%93%BE%E6%8E%A5&amp;location=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Flinux%2Fl-cn-hardandsymb-links%2F&amp;document_path=%2Fdeveloperworks%2Fcn%2Flinux%2Fl-cn-hardandsymb-links%2F&amp;mt_cb=1608275838129" id="mm_pp_background"></script><iframe name="trustarc_notice" id="trustarcNoticeFrame" title="Trustarc Cross-Domain Consent Frame" src="https://consent-st.trustarc.com/get?name=crossdomain.html&amp;domain=ibm.com" style="display: none;"></iframe><div style="width:0px; height:0px; display:none; visibility:hidden;" id="batBeacon35179295304"><img style="width:0px; height:0px; display:none; visibility:hidden;" id="batBeacon79575597920" width="0" height="0" alt="" src="https://bat.bing.com/action/0?ti=5013391&amp;Ver=2&amp;mid=f558d1fc-cfa0-455d-9d18-18524894c904&amp;sid=ebf8ec6040e211eba2d16337fd0d501b&amp;vid=ebf8ff1040e211ebafcf5df6b9cee0f7&amp;vids=0&amp;pi=1200101525&amp;lg=zh-CN&amp;sw=1920&amp;sh=1080&amp;sc=24&amp;tl=%E7%90%86%E8%A7%A3%20Linux%20%E7%9A%84%E7%A1%AC%E9%93%BE%E6%8E%A5%E4%B8%8E%E8%BD%AF%E9%93%BE%E6%8E%A5&amp;kw=hard%20link,%20symbolic%20link,%20inode,%20tttlca&amp;p=https%3A%2F%2Fwww.ibm.com%2Fdeveloperworks%2Fcn%2Flinux%2Fl-cn-hardandsymb-links%2F&amp;r=&amp;lt=5188&amp;evt=pageLoad&amp;msclkid=N&amp;sv=1&amp;rn=513260" /></div><iframe name="_hjRemoteVarsFrame" title="_hjRemoteVarsFrame" id="_hjRemoteVarsFrame" src="https://vars.hotjar.com/box-469cf41adb11dc78be68c1ae7f9457a4.html" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;"></iframe><iframe src="https://pixel.mathtag.com/sync/iframe?mt_uuid=54965fdc-3041-4300-98c9-72dc8cceef60&amp;no_iframe=1&amp;mt_adid=171815&amp;mt_lim=20&amp;skipsync=10090&amp;source=mathtag" id="mm_sync_back_ground" title="MediaMath Advertising" style="visibility: hidden; display: none;"></iframe><img src="https://cm.ipinyou.com/xcms/ibmdmp/s.gif?tid=undefined" /></body></html>