<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico" />
<title>OpenGL ES 2.0 | Android Developers</title>
<link href="../../../assets/android-developer-docs-devguide.css" rel="stylesheet" type="text/css" />
<script src="../../../assets/search_autocomplete.js" type="text/javascript"></script>
<script src="../../../assets/jquery-resizable.min.js" type="text/javascript"></script>
<script src="../../../assets/android-developer-docs.js" type="text/javascript"></script>
<script src="../../../assets/prettify.js" type="text/javascript"></script>
<script type="text/javascript">
  setToRoot("../../../");
</script>
<script src="../../../resources/resources-data.js" type="text/javascript"></script>
<noscript>
  &lt;style type="text/css"&gt;
    html,body{overflow:auto;}
    #body-content{position:relative; top:0;}
    #doc-content{overflow:visible;border-left:3px solid #666;}
    #side-nav{padding:0;}
    #side-nav .toggle-list ul {display:block;}
    #resize-packages-nav{border-bottom:3px solid #666;}
  &lt;/style&gt;
</noscript>
<script type="text/javascript" src="../../../reference/lists.js"></script></head>
<body class="gc-documentation" itemscope="" itemtype="http://schema.org/Article">

  <div id="header">
      <div id="headerLeft">
          <a href="../../../index.html" tabindex="-1"><img src="../../../assets/images/bg_logo.png" alt="Android Developers" /></a>
          <ul id="header-tabs" class="resources">
    
	<li id="home-link"><a href="../../../offline.html">
	
		<span class="en" style="display: inline;">Home</span>
		<span style="display:none" class="de">Startseite</span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
		<span style="display:none" class="ja">ホーム</span>
		<span style="display:none" class="zh-CN">主页</span>
		<span style="display:none" class="zh-TW">首頁</span>
	
	</a></li>
	<li id="sdk-link"><a href="../../../sdk/index.html">
		<span class="en" style="display: inline;">SDK</span>
	</a></li>
	<li id="guide-link"><a href="../../../guide/index.html" onclick="return loadLast('guide')">
	
		<span class="en" style="display: inline;">Dev Guide</span>
		<span style="display:none" class="de">Handbuch</span>
		<span style="display:none" class="es">Guía</span>
		<span style="display:none" class="fr">Guide</span>
		<span style="display:none" class="it">Guida</span>
		<span style="display:none" class="ja">開発ガイド</span>
		<span style="display:none" class="zh-CN">开发人员指南</span>
		<span style="display:none" class="zh-TW">開發指南</span>
	
	</a></li>
	<li id="reference-link"><a href="../../../reference/packages.html" onclick="return loadLast('reference')">
	
		<span class="en" style="display: inline;">Reference</span>
		<span style="display:none" class="de">Referenz</span>
		<span style="display:none" class="es">Referencia</span>
		<span style="display:none" class="fr">Référence</span>
		<span style="display:none" class="it">Riferimento</span>
		<span style="display:none" class="ja">リファレンス</span>
		<span style="display:none" class="zh-CN">参考</span>
		<span style="display:none" class="zh-TW">參考資料</span>
	
	</a></li>
	<li id="resources-link"><a href="../../../resources/index.html" onclick="return loadLast('resources')">
	
		<span class="en" style="display: inline;">Resources</span>
		<span style="display:none" class="de"></span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
    		<span style="display:none" class="ja"></span>
		<span style="display:none" class="zh-CN"></span>
		<span style="display:none" class="zh-TW"></span>
	
	</a></li>
	<li id="videos-link"><a href="../../../videos/index.html" onclick="return loadLast('videos')">
	
		<span class="en" style="display: inline;">Videos</span>
		<span style="display:none" class="de"></span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
		<span style="display:none" class="ja">ビデオ</span>
		<span style="display:none" class="zh-CN"></span>
		<span style="display:none" class="zh-TW"></span>
	
	</a></li>
	<li><a href="http://android-developers.blogspot.com" onclick="return requestAppendHL(this.href)">
	
		<span class="en" style="display: inline;">Blog</span>
		<span style="display:none" class="de"></span>
		<span style="display:none" class="es"></span>
		<span style="display:none" class="fr"></span>
		<span style="display:none" class="it"></span>
		<span style="display:none" class="ja">ブログ</span>
		<span style="display:none" class="zh-CN">博客</span>
		<span style="display:none" class="zh-TW">網誌</span>
	
	</a></li>


     
</ul>
     
      </div>
      <div id="headerRight">
          <div id="headerLinks">
            
          <a href="../../../design/index.html">Android Design</a>  
          <a href="http://www.android.com">Android.com</a>
          </div>
  <div id="search">
      <div id="searchForm">
          <form accept-charset="utf-8" class="gsc-search-box" onsubmit="return submit_search()">
            <table class="gsc-search-box" cellpadding="0" cellspacing="0"><tbody>
                <tr>
                  <td class="gsc-input">
                    <input id="search_autocomplete" class="gsc-input" type="text" size="33" autocomplete="off" title="search developer docs" name="q" value="search developer docs" onfocus="search_focus_changed(this, true)" onblur="search_focus_changed(this, false)" onkeydown="return search_changed(event, true, '../../../')" onkeyup="return search_changed(event, false, '../../../')" />
                  <div id="search_filtered_div" class="no-display">
                      <table id="search_filtered" cellspacing="0">
                      </table>
                  </div>
                  </td>
                  <td class="gsc-search-button">
                    <input type="submit" value="Search" title="search" id="search-button" class="gsc-search-button" />
                  </td>
                  <td class="gsc-clear-button">
                    <div title="clear results" class="gsc-clear-button"> </div>
                  </td>
                </tr></tbody>
              </table>
          </form>
      </div><!-- searchForm -->
  </div><!-- search -->
      </div><!-- headerRight -->
      <script type="text/javascript">
        &lt;!--  
        changeTabLang(getLangPref());
        //--&gt;
      </script>
  </div><!-- header -->

  <div class="g-section g-tpl-200" id="body-content">
    <div class="g-unit g-first ui-resizable" id="side-nav" itemscope="" itemtype="http://schema.org/SiteNavigationElement" style="position: absolute; left: 0px; height: 772px;">
      <div id="devdoc-nav" style="height: 772px;"><ul>
  <li>
    <span class="heading">
      <span class="en" style="display: inline;">Android Training</span>
    </span>
    <ul>
      
      <li><a href="../../../training/index.html">
            <span class="en" style="display: inline;">Orientation</span>
          </a>
      </li>

      <li class="toggle-list closed">
        <div><a href="../../../training/multiscreen/index.html">
            <span class="en" style="display: inline;">Designing for Multiple Screens</span>
          </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul>
          <li><a href="../../../training/multiscreen/screensizes.html">
            <span class="en" style="display: inline;">Supporting Different Screen Sizes</span>
          </a>
          </li>
          <li><a href="../../../training/multiscreen/screendensities.html">
            <span class="en" style="display: inline;">Supporting Different Screen Densities</span>
          </a>
          </li>
          <li><a href="../../../training/multiscreen/adaptui.html">
            <span class="en" style="display: inline;">Implementing Adaptive UI Flows</span>
          </a>
          </li>
        </ul>
      </li>
      
      <li class="toggle-list closed">
        <div><a href="../../../training/improving-layouts/index.html">
            <span class="en" style="display: inline;">Improving Layout Performance</span>
          </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul>
          <li><a href="../../../training/improving-layouts/optimizing-layout.html">
            <span class="en" style="display: inline;">Optimizing Layout Hierarchies</span>
          </a>
          </li>
          <li><a href="../../../training/improving-layouts/reusing-layouts.html">
            <span class="en" style="display: inline;">Re-using Layouts with &lt;include/&gt;</span>
          </a>
          </li>
          <li><a href="../../../training/improving-layouts/loading-ondemand.html">
            <span class="en" style="display: inline;">Loading Views On Demand</span>
          </a>
          </li>
          <li><a href="../../../training/improving-layouts/smooth-scrolling.html">
            <span class="en" style="display: inline;">Making ListView Scrolling Smooth</span>
          </a>
          </li>
        </ul>
      </li>
      
      <li class="toggle-list closed">
        <div><a href="../../../training/managing-audio/index.html">
            <span class="en" style="display: inline;">Managing Audio Playback</span>
          </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul>
          <li><a href="../../../training/managing-audio/volume-playback.html">
            <span class="en" style="display: inline;">Controlling Your App’s Volume and Playback</span>
          </a>
          </li>
          <li><a href="../../../training/managing-audio/audio-focus.html">
            <span class="en" style="display: inline;">Managing Audio Focus</span>
          </a>
          </li>
          <li><a href="../../../training/managing-audio/audio-output.html">
            <span class="en" style="display: inline;">Dealing with Audio Output Hardware</span>
          </a>
          </li>
        </ul>
      </li>
      
      <li class="toggle-list closed">
        <div><a href="../../../training/monitoring-device-state/index.html">
            <span class="en" style="display: inline;">Optimizing Battery Life</span>
          </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul>
          <li><a href="../../../training/monitoring-device-state/battery-monitoring.html">
            <span class="en" style="display: inline;">Monitoring the Battery Level and Charging State</span>
          </a>
          </li>
          <li><a href="../../../training/monitoring-device-state/docking-monitoring.html">
            <span class="en" style="display: inline;">Determining and Monitoring the Docking State and Type</span>
          </a>
          </li>
          <li><a href="../../../training/monitoring-device-state/connectivity-monitoring.html">
            <span class="en" style="display: inline;">Determining and Monitoring the Connectivity Status</span>
          </a>
          </li>
          <li><a href="../../../training/monitoring-device-state/manifest-receivers.html">
            <span class="en" style="display: inline;">Manipulating Broadcast Receivers On Demand</span>
          </a>
          </li>
        </ul>
      </li>

      <li class="toggle-list closed">
        <div><a href="../../../training/search/index.html">
            <span class="en" style="display: inline;">Adding Search Functionality</span>
          </a> <span class="new">new!</span>
        <a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul>
          <li><a href="../../../training/search/setup.html">
            <span class="en" style="display: inline;">Setting up the Search Interface</span>
          </a>
          </li>
          <li><a href="../../../training/search/search.html">
            <span class="en" style="display: inline;">Storing and Searching for Data</span>
          </a>
          </li>
          <li><a href="../../../training/search/backward-compat.html">
            <span class="en" style="display: inline;">Remaining Backward Compatible</span>
          </a>
          </li>
        </ul>
      </li>

      <li class="toggle-list closed">
        <div><a href="../../../training/id-auth/index.html">
            <span class="en" style="display: inline;">Remembering Users</span>
          </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul>
          <li><a href="../../../training/id-auth/identify.html">
            <span class="en" style="display: inline;">Remembering Your User</span>
          </a>
          </li>
          <li><a href="../../../training/id-auth/authenticate.html">
            <span class="en" style="display: inline;">Authenticating to OAuth2 Services</span>
          </a>
          </li>
          <li><a href="../../../training/id-auth/custom_auth.html">
            <span class="en" style="display: inline;">Creating a Custom Account Type</span>
          </a>
          </li>
        </ul>
      </li>

      <li class="toggle-list closed">
        <div><a href="../../../training/sharing/index.html">
            <span class="en" style="display: inline;">Sharing Content</span>
          </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul>
          <li><a href="../../../training/sharing/send.html">
            <span class="en" style="display: inline;">Sending Content to Other Apps</span>
          </a>
          </li>
          <li><a href="../../../training/sharing/receive.html">
            <span class="en" style="display: inline;">Receiving Content from Other Apps</span>
          </a>
          </li>
          <li><a href="../../../training/sharing/shareaction.html">
            <span class="en" style="display: inline;">Adding an Easy Share Action</span>
          </a>
          </li>
        </ul>
      </li>
      
      <li class="toggle-list closed">
        <div><a href="../../../training/camera/index.html">
            <span class="en" style="display: inline;">Capturing Photos</span>
          </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul>
          <li><a href="../../../training/camera/photobasics.html">
            <span class="en" style="display: inline;">Taking Photos Simply</span>
          </a>
          </li>
          <li><a href="../../../training/camera/videobasics.html">
            <span class="en" style="display: inline;">Recording Videos Simply</span>
          </a>
          </li>
          <li><a href="../../../training/camera/cameradirect.html">
            <span class="en" style="display: inline;">Controlling the Camera</span>
          </a>
          </li>
        </ul>
      </li>
      
      <li class="toggle-list closed">
        <div><a href="../../../training/multiple-apks/index.html">
            <span class="en" style="display: inline;">Maintaining Multiple APKs</span>
          </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul>
          <li><a href="../../../training/multiple-apks/api.html">
            <span class="en" style="display: inline;">Creating Multiple APKs for Different API Levels</span>
          </a>
          </li>
          <li><a href="../../../training/multiple-apks/screensize.html">
            <span class="en" style="display: inline;">Creating Multiple APKs for Different Screen Sizes</span>
          </a>
          </li>
          <li><a href="../../../training/multiple-apks/texture.html">
            <span class="en" style="display: inline;">Creating Multiple APKs for Different GL Textures</span>
          </a>
          </li>
          <li><a href="../../../training/multiple-apks/multiple.html">
            <span class="en" style="display: inline;">Creating Multiple APKs with 2+ Dimensions</span>
          </a>
          </li>
        </ul>
      </li>
      
      <li class="toggle-list closed">
        <div><a href="../../../training/enterprise/index.html">
            <span class="en" style="display: inline;">Developing for Enterprise</span>
          </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul>
          <li><a href="../../../training/enterprise/device-management-policy.html">
            <span class="en" style="display: inline;">Enhancing Security with Device Management Policies</span>
          </a>
          </li>
        </ul>
      </li>
      
      <li class="toggle-list closed">
        <div><a href="../../../training/monetization/index.html">
            <span class="en" style="display: inline;">Monetizing Your App</span>
          </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul>
          <li><a href="../../../training/monetization/ads-and-ux.html">
            <span class="en" style="display: inline;">Advertising without Compromising User Experience</span>
          </a>
          </li>
        </ul>
      </li>
      
      <li class="toggle-list closed">
        <div><a href="../../../training/design-navigation/index.html">
            <span class="en" style="display: inline;">Designing Effective Navigation</span>
          </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul>
          <li><a href="../../../training/design-navigation/screen-planning.html">
            <span class="en" style="display: inline;">Planning Screens and Their Relationships</span>
          </a>
          </li>
          <li><a href="../../../training/design-navigation/multiple-sizes.html">
            <span class="en" style="display: inline;">Planning for Multiple Touchscreen Sizes</span>
          </a>
          </li>
          <li><a href="../../../training/design-navigation/descendant-lateral.html">
            <span class="en" style="display: inline;">Providing Descendant and Lateral Navigation</span>
          </a>
          </li>
          <li><a href="../../../training/design-navigation/ancestral-temporal.html">
            <span class="en" style="display: inline;">Providing Ancestral and Temporal Navigation</span>
          </a>
          </li>
          <li><a href="../../../training/design-navigation/wireframing.html">
            <span class="en" style="display: inline;">Putting it All Together: Wireframing the Example App</span>
          </a>
          </li>
        </ul>
      </li>
    </ul>
  </li>    
      
      
  <li>
    <span class="heading">
      <span class="en" style="display: inline;">Technical Resources</span>
    </span>
    <ul>
      <li class="toggle-list closed">
        <div><a href="../../../resources/browser.html?tag=sample">
            <span class="en" style="display: inline;">Sample Code</span>
            <span class="de" style="display:none">Beispielcode</span>
            <span class="es" style="display:none">Código de ejemplo</span>
            <span class="fr" style="display:none">Exemple de code</span>
            <span class="it" style="display:none">Codice di esempio</span>
            <span class="ja" style="display:none">サンプル コード</span>
            <span class="zh-CN" style="display:none"></span>
            <span class="zh-TW" style="display:none"></span>
          </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul id="devdoc-nav-sample-list">
          <li><a href="../../../resources/samples/get.html">
                <span class="en" style="display: inline;">Getting the Samples</span>
              </a></li>
        <li><a href="../../../resources/samples/AccelerometerPlay/index.html"><span class="en">Accelerometer Play</span></a></li><li><a href="../../../resources/samples/ActionBarCompat/index.html"><span class="en">Action Bar Compatibility</span></a> <span class="new">new!</span></li><li><a href="../../../resources/samples/AndroidBeamDemo/index.html"><span class="en">Android Beam Demo</span></a> <span class="new">new!</span></li><li><a href="../../../resources/samples/ApiDemos/index.html"><span class="en">API Demos</span></a> <span class="new">updated!</span></li><li><a href="../../../resources/samples/Support4Demos/index.html"><span class="en">API 4+ Support Demos</span></a></li><li><a href="../../../resources/samples/Support13Demos/index.html"><span class="en">API 13+ Support Demos</span></a></li><li><a href="../../../resources/samples/BackupRestore/index.html"><span class="en">Backup and Restore</span></a></li><li><a href="../../../resources/samples/BluetoothChat/index.html"><span class="en">Bluetooth Chat</span></a></li><li><a href="../../../resources/samples/BluetoothHDP/index.html"><span class="en">Bluetooth HDP Demo</span></a> <span class="new">new!</span></li><li><a href="../../../resources/samples/BusinessCard/index.html"><span class="en">BusinessCard</span></a></li><li><a href="../../../resources/samples/ContactManager/index.html"><span class="en">Contact Manager</span></a></li><li><a href="../../../resources/samples/CubeLiveWallpaper/index.html"><span class="en">Cube Live Wallpaper</span></a></li><li><a href="../../../resources/samples/training/device-management-policy/index.html"><span class="en">Device Policy Management</span></a> <span class="new">new!</span></li><li><a href="../../../resources/samples/Home/index.html"><span class="en">Home</span></a></li><li><a href="../../../resources/samples/HoneycombGallery/index.html"><span class="en">Honeycomb Gallery</span></a> <span class="new">updated!</span></li><li><a href="../../../resources/samples/JetBoy/index.html"><span class="en">JetBoy</span></a></li><li><a href="../../../resources/samples/LunarLander/index.html"><span class="en">Lunar Lander</span></a></li><li><a href="../../../resources/samples/training/ads-and-ux/index.html"><span class="en">Mobile Advertisement Integration</span></a> <span class="new">new!</span></li><li><a href="../../../resources/samples/MultiResolution/index.html"><span class="en">Multiple Resolutions</span></a></li><li><a href="../../../resources/samples/newsreader/index.html"><span class="en">News Reader</span></a> <span class="new">new!</span></li><li><a href="../../../resources/samples/NFCDemo/index.html"><span class="en">NFC Demo</span></a></li><li><a href="../../../resources/samples/NotePad/index.html"><span class="en">Note Pad</span></a></li><li><a href="../../../resources/samples/RandomMusicPlayer/index.html"><span class="en">Random Music Player</span></a> <span class="new">updated!</span></li><li><a href="../../../resources/samples/RenderScript/index.html"><span class="en">RenderScript</span></a> <span class="new">updated!</span></li><li><a href="../../../resources/samples/SpellChecker/SampleSpellCheckerService/index.html"><span class="en">Spell Checker Service</span></a> <span class="new">new!</span></li><li><a href="../../../resources/samples/SpellChecker/HelloSpellChecker/index.html"><span class="en">Spell Checker Client</span></a> <span class="new">new!</span></li><li><a href="../../../resources/samples/SampleSyncAdapter/index.html"><span class="en">SampleSyncAdapter</span></a> <span class="new">updated!</span></li><li><a href="../../../resources/samples/SearchableDictionary/index.html"><span class="en">Searchable Dictionary v2</span></a></li><li><a href="../../../resources/samples/SipDemo/index.html"><span class="en">SIP Demo</span></a></li><li><a href="../../../resources/samples/Snake/index.html"><span class="en">Snake</span></a></li><li><a href="../../../resources/samples/SoftKeyboard/index.html"><span class="en">Soft Keyboard</span></a></li><li><a href="../../../resources/samples/Spinner/index.html"><span class="en">Spinner</span></a></li><li><a href="../../../resources/samples/SpinnerTest/index.html"><span class="en">SpinnerTest</span></a></li><li><a href="../../../resources/samples/StackWidget/index.html"><span class="en">StackView Widget</span></a></li><li><a href="../../../resources/samples/TicTacToeLib/index.html"><span class="en">TicTacToeLib</span></a></li><li><a href="../../../resources/samples/TicTacToeMain/index.html"><span class="en">TicTacToeMain</span></a></li><li><a href="../../../resources/samples/ToyVpn/index.html"><span class="en">Toy VPN Client</span></a> <span class="new">new!</span></li><li><a href="../../../resources/samples/USB/index.html"><span class="en">USB</span></a></li><li><a href="../../../resources/samples/VoicemailProviderDemo/index.html"><span class="en">Voicemail Provider</span></a> <span class="new">new!</span></li><li><a href="../../../resources/samples/WiFiDirectDemo/index.html"><span class="en">Wi-Fi Direct Demo</span></a> <span class="new">new!</span></li><li><a href="../../../resources/samples/Wiktionary/index.html"><span class="en">Wiktionary</span></a></li><li><a href="../../../resources/samples/WiktionarySimple/index.html"><span class="en">Wiktionary (Simplified)</span></a></li><li><a href="../../../resources/samples/WeatherListWidget/index.html"><span class="en">Weather List Widget</span></a></li><li><a href="../../../resources/samples/XmlAdapters/index.html"><span class="en">XML Adapters</span></a></li><li><a href="../../../resources/samples/TtsEngine/index.html"><span class="en">Text To Speech Engine</span></a> <span class="new">new!</span></li></ul>
      </li>
      <li class="toggle-list closed">
        <div><a href="../../../resources/browser.html?tag=article">
               <span class="en" style="display: inline;">Articles</span>
             </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul id="devdoc-nav-article-list">
        <li><a href="../../../resources/articles/avoiding-memory-leaks.html"><span class="en">Avoiding Memory Leaks</span></a></li><li><a href="../../../resources/articles/backward-compatibility.html"><span class="en">Backward Compatibility</span></a></li><li><a href="../../../resources/articles/can-i-use-this-intent.html"><span class="en">Can I Use this Intent?</span></a></li><li><a href="../../../resources/articles/creating-input-method.html"><span class="en">Creating an Input Method</span></a></li><li><a href="../../../resources/articles/drawable-mutations.html"><span class="en">Drawable Mutations</span></a></li><li><a href="../../../resources/articles/faster-screen-orientation-change.html"><span class="en">Faster Screen Orientation Change</span></a></li><li><a href="../../../resources/articles/future-proofing.html"><span class="en">Future-Proofing Your Apps</span></a></li><li><a href="../../../resources/articles/gestures.html"><span class="en">Gestures</span></a></li><li><a href="../../../resources/articles/glsurfaceview.html"><span class="en">Introducing GLSurfaceView</span></a></li><li><a href="../../../resources/articles/layout-tricks-reuse.html"><span class="en">Layout Tricks: Creating Reusable UI Components</span></a></li><li><a href="../../../resources/articles/layout-tricks-efficiency.html"><span class="en">Layout Tricks: Creating Efficient Layouts</span></a></li><li><a href="../../../resources/articles/layout-tricks-stubs.html"><span class="en">Layout Tricks: Using ViewStubs</span></a></li><li><a href="../../../resources/articles/layout-tricks-merge.html"><span class="en">Layout Tricks: Merging Layouts</span></a></li><li><a href="../../../resources/articles/listview-backgrounds.html"><span class="en">ListView Backgrounds: An Optimization</span></a></li><li><a href="../../../resources/articles/live-folders.html"><span class="en">Live Folders</span></a></li><li><a href="../../../resources/articles/live-wallpapers.html"><span class="en">Live Wallpapers</span></a></li><li><a href="../../../resources/articles/multitasking-android-way.html"><span class="en">Multitasking the Android Way</span></a></li><li><a href="../../../resources/articles/on-screen-inputs.html"><span class="en">Onscreen Input Methods</span></a></li><li><a href="../../../resources/articles/painless-threading.html"><span class="en">Painless Threading</span></a></li><li><a href="../../../resources/articles/qsb.html"><span class="en">Quick Search Box</span></a></li><li><a href="../../../resources/articles/speech-input.html"><span class="en">Speech Input</span></a></li><li><a href="../../../resources/articles/service-api-changes-starting-with.html"><span class="en">Service API changes starting with Android 2.0</span></a></li><li><a href="../../../resources/articles/touch-mode.html"><span class="en">Touch Mode</span></a></li><li><a href="../../../resources/articles/track-mem.html"><span class="en">Tracking Memory Allocations</span></a></li><li><a href="../../../resources/articles/ui-1.5.html"><span class="en">UI Framework Changes in Android 1.5</span></a></li><li><a href="../../../resources/articles/ui-1.6.html"><span class="en">UI Framework Changes in Android 1.6</span></a></li><li><a href="../../../resources/articles/timed-ui-updates.html"><span class="en">Updating the UI from a Timer</span></a></li><li><a href="../../../resources/articles/tts.html"><span class="en">Using Text-to-Speech</span></a></li><li><a href="../../../resources/articles/contacts.html"><span class="en">Using the Contacts API</span></a></li><li><a href="../../../resources/articles/using-webviews.html"><span class="en">Using WebViews</span></a></li><li><a href="../../../resources/articles/wikinotes-linkify.html"><span class="en">WikiNotes: Linkify your Text!</span></a></li><li><a href="../../../resources/articles/wikinotes-intents.html"><span class="en">WikiNotes: Routing Intents</span></a></li><li><a href="../../../resources/articles/window-bg-speed.html"><span class="en">Window Backgrounds &amp; UI Speed</span></a></li><li><a href="../../../resources/articles/zipalign.html"><span class="en">Zipalign: an Easy Optimization</span></a></li></ul>
      </li>
      <li class="toggle-list open">
        <div><a href="../../../resources/browser.html?tag=tutorial">
               <span class="en" style="display: inline;">Tutorials</span>
               <span class="de" style="display:none">Lernprogramme</span>
               <span class="es" style="display:none">Tutoriales</span>
               <span class="fr" style="display:none">Didacticiels</span>
               <span class="it" style="display:none">Esercitazioni</span>
               <span class="ja" style="display:none">チュートリアル</span>
               <span class="zh-CN" style="display:none"></span>
               <span class="zh-TW" style="display:none"></span>
             </a><a class="toggle-img" href="#" title="hide pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul id="devdoc-nav-tutorial-list" style="display: block;">
        <li><a href="../../../resources/tutorials/hello-world.html"><span class="en">Hello World</span></a></li><li><a href="../../../resources/tutorials/views/index.html"><span class="en">Hello Views</span></a></li><li><a href="../../../resources/tutorials/localization/index.html"><span class="en">Hello Localization</span></a></li><li><a href="../../../resources/tutorials/notepad/index.html"><span class="en">Notepad Tutorial</span></a></li><li><a href="../../../resources/tutorials/opengl/opengl-es10.html"><span class="en">OpenGL ES 1.0</span></a></li><li class="selected"><a href="../../../resources/tutorials/opengl/opengl-es20.html"><span class="en">OpenGL ES 2.0</span></a></li><li><a href="../../../resources/tutorials/testing/helloandroid_test.html"><span class="en">Hello Testing</span></a></li><li><a href="../../../resources/tutorials/testing/activity_test.html"><span class="en">Activity Testing</span></a></li></ul>
      </li>
      <li class="toggle-list closed">
        <div><a href="../../../resources/topics.html">
               <span class="en" style="display: inline;">Topics</span>
             </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul id="devdoc-nav-topic-list">
        <li><a href="../../../resources/browser.html?tag=accessibility"><span class="en">Accessibility</span></a></li><li><a href="../../../resources/browser.html?tag=accountsync"><span class="en">Accounts &amp; Sync</span></a></li><li><a href="../../../resources/browser.html?tag=widgets"><span class="en">App Widgets</span></a></li><li><a href="../../../resources/browser.html?tag=bestpractice"><span class="en">Best Practices</span></a></li><li><a href="../../../resources/browser.html?tag=drawing"><span class="en">Canvas Drawing</span></a></li><li><a href="../../../resources/browser.html?tag=communication"><span class="en">Communication</span></a></li><li><a href="../../../resources/browser.html?tag=compatibility"><span class="en">Compatibility</span></a></li><li><a href="../../../resources/browser.html?tag=data"><span class="en">Data Access</span></a></li><li><a href="../../../resources/browser.html?tag=gamedev"><span class="en">Game Development</span></a></li><li><a href="../../../resources/browser.html?tag=input"><span class="en">Input Methods</span></a></li><li><a href="../../../resources/browser.html?tag=intent"><span class="en">Intents</span></a></li><li><a href="../../../resources/browser.html?tag=layout"><span class="en">Layouts/Views</span></a></li><li><a href="../../../resources/browser.html?tag=multitasking"><span class="en">Multi-tasking</span></a></li><li><a href="../../../resources/browser.html?tag=media"><span class="en">Multimedia</span></a></li><li><a href="../../../resources/browser.html?tag=newfeature"><span class="en">New Features</span></a></li><li><a href="../../../resources/browser.html?tag=gl"><span class="en">OpenGL ES</span></a></li><li><a href="../../../resources/browser.html?tag=performance"><span class="en">Performance</span></a></li><li><a href="../../../resources/browser.html?tag=search"><span class="en">Search</span></a></li><li><a href="../../../resources/browser.html?tag=testing"><span class="en">Testing</span></a></li><li><a href="../../../resources/browser.html?tag=ui"><span class="en">User Interface</span></a></li><li><a href="../../../resources/browser.html?tag=web"><span class="en">Web Content</span></a></li></ul>
      </li>
    </ul>
  </li>
  <li>
    <span class="heading">
      <span class="en" style="display: inline;">Community</span>
      <span style="display:none" class="de"></span>
      <span style="display:none" class="es">Comunidad</span>
      <span style="display:none" class="fr">Communauté</span>
      <span style="display:none" class="it"></span>
      <span style="display:none" class="ja">コミュニティ</span>
      <span style="display:none" class="zh-CN">社区</span>
      <span style="display:none" class="zh-TW">社群</span>
    </span>
    <ul>
      <li><a href="../../../resources/community-groups.html">
            <span class="en" style="display: inline;">Developer Forums</span>
          </a></li>
      <li><a href="../../../resources/community-more.html">
            <span class="en" style="display: inline;">IRC, G+, Twitter</span>
          </a></li>
    </ul>
  </li>


  <li>
    <span class="heading">
      <span class="en" style="display: inline;">More</span>
    </span>
    <ul>
      <li><a href="../../../resources/faq/commontasks.html">
            <span class="en" style="display: inline;">Common Tasks </span>
          </a></li>
      <li><a href="../../../resources/faq/troubleshooting.html">
            <span class="en" style="display: inline;">Troubleshooting Tips</span>
          </a></li>
      <li class="toggle-list closed">
        <div><a href="../../../resources/faq/index.html">
               <span class="en" style="display: inline;">FAQs</span>
             </a><a class="toggle-img" href="#" title="show pages" onclick="toggle(this.parentNode.parentNode, true); return false;"></a></div>
        <ul>
        <li><a href="../../../resources/faq/framework.html">
                <span class="en" style="display: inline;">App Framework FAQ</span>
                </a></li>
        <li><a href="../../../resources/faq/licensingandoss.html">
                <span class="en" style="display: inline;">Licensing FAQ</span>
                </a></li>
        <li><a href="../../../resources/faq/security.html">
                <span class="en" style="display: inline;">Security FAQ</span>
                </a></li>
        </ul>
     </li>
    </ul>
  </li>
</ul>

<script type="text/javascript">
&lt;!--
    buildToggleLists();
    changeNavLang(getLangPref());
//--&gt;
</script>

      </div>
    <div class="ui-resizable-handle ui-resizable-e" unselectable="on"></div></div> <!-- end side-nav -->
    <script>
      addLoadEvent(function() {
        scrollIntoView("devdoc-nav");
        });
    </script>




<div class="g-unit" id="doc-content" style="margin-left: 206px; height: 772px;"><a name="top"></a>

<div id="jd-header" class="guide-header">
  <span class="crumb" itemprop="breadcrumb">
    
      <a href="../../browser.html?tag=tutorial">Tutorials</a>:
    
  </span>
<h1 itemprop="name">OpenGL ES 2.0</h1>
</div>

  
  <div id="jd-content">
 
    


    <div class="jd-descr" itemprop="articleBody">
    <div id="qv-wrapper">
  <div id="qv">
    <h2>In this document</h2>
    
    <ol>
      <li><a href="#creating">Create an Activity with GLSurfaceView</a></li>
      <li>
        <a href="#drawing">Draw a Shape on GLSurfaceView</a>
        <ol>
          <li><a href="#define-triangle">Define a Triangle</a></li>
          <li><a href="#draw-triangle">Draw the Triangle</a></li>
        </ol>
      </li>
      <li><a href="#projection-and-views">Apply Projection and Camera Views</a></li>
      <li><a href="#motion">Add Motion</a></li>
      <li><a href="#touch">Respond to Touch Events</a></li>
    </ol>
    <h2 id="code-samples-list">Related Samples</h2>
    <ol>
      <li><a href="../../../resources/samples/ApiDemos/src/com/example/android/apis/graphics/&#10;index.html">API Demos - graphics</a></li>
      <li><a href="../../../resources/samples/ApiDemos/src/com/example/android/apis/graphics/&#10;GLES20Activity.html">OpenGL ES 2.0 Sample</a></li>
      <li><a href="../../../resources/samples/ApiDemos/src/com/example/android/apis/graphics/&#10;TouchRotateActivity.html">TouchRotateActivity</a></li>
    </ol>
    <h2>See also</h2>
    <ol>
      <li><a href="../../../guide/topics/graphics/opengl.html">3D with OpenGL</a></li>
      <li><a href="../../../resources/tutorials/opengl/opengl-es10.html">OpenGL
ES 1.0</a></li>
    </ol>
    </div>
  </div>

<p>This tutorial shows you how to create a simple Android application that uses the OpenGL ES 2.0
API to perform some basic graphics operations. You'll learn how to:</p>

<ul>
  <li>Create an activity using <code><a href="../../../reference/android/opengl/GLSurfaceView.html">GLSurfaceView</a></code> and <code><a href="../../../reference/android/opengl/GLSurfaceView.Renderer.html">GLSurfaceView.Renderer</a></code></li>
  <li>Create and draw a graphic object</li>
  <li>Define a projection to correct for screen geometry</li>
  <li>Define a camera view</li>
  <li>Rotate a graphic object</li>
  <li>Make graphics touch interactive</li>
</ul>

<p>The Android framework supports both the OpenGL ES 1.0/1.1 and OpenGL ES 2.0 APIs. You should
carefully consider which version of the OpenGL ES API (1.0/1.1 or 2.0) is most appropriate for your
needs. For more information, see
<a href="../../../guide/topics/graphics/opengl.html#choosing-version">Choosing an OpenGL API
Version</a>. If you would prefer to use OpenGL ES 1.0, see the <a href="../../../resources/tutorials/opengl/opengl-es10.html">OpenGL ES 1.0 tutorial</a>.</p>

<p>Before you start, you should understand how to create a basic Android application. If you do not
know how to create an app, follow the <a href="../../../resources/tutorials/hello-world.html">Hello
World Tutorial</a> to familiarize yourself with the process.</p>

<p class="caution"><strong>Caution:</strong> OpenGL ES 2.0 <em>is currently not supported</em> by
the Android Emulator. You must have a physical test device running Android 2.2 (API Level 8) or
higher in order to run and test the example code in this tutorial.</p>

<h2 id="creating">Create an Activity with GLSurfaceView</h2>

<p>To get started using OpenGL, you must implement both a <code><a href="../../../reference/android/opengl/GLSurfaceView.html">GLSurfaceView</a></code> and a
<code><a href="../../../reference/android/opengl/GLSurfaceView.Renderer.html">GLSurfaceView.Renderer</a></code>. The <code><a href="../../../reference/android/opengl/GLSurfaceView.html">GLSurfaceView</a></code> is the main
view type for applications that use OpenGL and the <code><a href="../../../reference/android/opengl/GLSurfaceView.Renderer.html">GLSurfaceView.Renderer</a></code>
controls what is drawn within that view. (For more information about these classes, see the <a href="../../../guide/topics/graphics/opengl.html">3D with OpenGL</a> document.)</p>

<p>To create an activity using <code>GLSurfaceView</code>:</p>
  
<ol>
  <li>Start a new Android project that targets Android 2.2 (API Level 8) or higher.
  </li>
  <li>Name the project <strong>HelloOpenGLES20</strong> and make sure it includes an activity called
<code>HelloOpenGLES20</code>.
  </li> 
  <li>Modify the <code>HelloOpenGLES20</code> class as follows:
<pre class="prettyprint"><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">example</span><span class="pun">.</span><span class="pln">android</span><span class="pun">.</span><span class="pln">apis</span><span class="pun">.</span><span class="pln">graphics</span><span class="pun">;</span><span class="pln"><br /><br /></span><span class="kwd">import</span><span class="pln"> android</span><span class="pun">.</span><span class="pln">app</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">;</span><span class="pln"><br /></span><span class="kwd">import</span><span class="pln"> android</span><span class="pun">.</span><span class="pln">content</span><span class="pun">.</span><span class="typ">Context</span><span class="pun">;</span><span class="pln"><br /></span><span class="kwd">import</span><span class="pln"> android</span><span class="pun">.</span><span class="pln">opengl</span><span class="pun">.</span><span class="typ">GLSurfaceView</span><span class="pun">;</span><span class="pln"><br /></span><span class="kwd">import</span><span class="pln"> android</span><span class="pun">.</span><span class="pln">os</span><span class="pun">.</span><span class="typ">Bundle</span><span class="pun">;</span><span class="pln"><br /><br /></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HelloOpenGLES20</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Activity</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />  <br />    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">GLSurfaceView</span><span class="pln"> mGLView</span><span class="pun">;</span><span class="pln"><br />  <br />    </span><span class="lit">@Override</span><span class="pln"><br />    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCreate</span><span class="pun">(</span><span class="typ">Bundle</span><span class="pln"> savedInstanceState</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />        </span><span class="kwd">super</span><span class="pun">.</span><span class="pln">onCreate</span><span class="pun">(</span><span class="pln">savedInstanceState</span><span class="pun">);</span><span class="pln"><br />        <br />        </span><span class="com">// Create a GLSurfaceView instance and set it</span><span class="pln"><br />        </span><span class="com">// as the ContentView for this Activity</span><span class="pln"><br />        mGLView </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HelloOpenGLES20SurfaceView</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"><br />        setContentView</span><span class="pun">(</span><span class="pln">mGLView</span><span class="pun">);</span><span class="pln"><br />    </span><span class="pun">}</span><span class="pln"><br />    <br />    </span><span class="lit">@Override</span><span class="pln"><br />    </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onPause</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />        </span><span class="kwd">super</span><span class="pun">.</span><span class="pln">onPause</span><span class="pun">();</span><span class="pln"><br />        </span><span class="com">// The following call pauses the rendering thread.</span><span class="pln"><br />        </span><span class="com">// If your OpenGL application is memory intensive,</span><span class="pln"><br />        </span><span class="com">// you should consider de-allocating objects that</span><span class="pln"><br />        </span><span class="com">// consume significant memory here.</span><span class="pln"><br />        mGLView</span><span class="pun">.</span><span class="pln">onPause</span><span class="pun">();</span><span class="pln"><br />    </span><span class="pun">}</span><span class="pln"><br />    <br />    </span><span class="lit">@Override</span><span class="pln"><br />    </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onResume</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />        </span><span class="kwd">super</span><span class="pun">.</span><span class="pln">onResume</span><span class="pun">();</span><span class="pln"><br />        </span><span class="com">// The following call resumes a paused rendering thread.</span><span class="pln"><br />        </span><span class="com">// If you de-allocated graphic objects for onPause()</span><span class="pln"><br />        </span><span class="com">// this is a good place to re-allocate them.</span><span class="pln"><br />        mGLView</span><span class="pun">.</span><span class="pln">onResume</span><span class="pun">();</span><span class="pln"><br />    </span><span class="pun">}</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br />  <br /></span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HelloOpenGLES20SurfaceView</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">GLSurfaceView</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br /><br />    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">HelloOpenGLES20SurfaceView</span><span class="pun">(</span><span class="typ">Context</span><span class="pln"> context</span><span class="pun">){</span><span class="pln"><br />        </span><span class="kwd">super</span><span class="pun">(</span><span class="pln">context</span><span class="pun">);</span><span class="pln"><br />        <br />        </span><span class="com">// Create an OpenGL ES 2.0 context.</span><span class="pln"><br />        setEGLContextClientVersion</span><span class="pun">(</span><span class="lit">2</span><span class="pun">);</span><span class="pln"><br />        </span><span class="com">// Set the Renderer for drawing on the GLSurfaceView</span><span class="pln"><br />        setRenderer</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HelloOpenGLES20Renderer</span><span class="pun">());</span><span class="pln"><br />    </span><span class="pun">}</span><span class="pln"><br /></span><span class="pun">}</span></pre>
  <p class="note"><strong>Note:</strong> You will get a compile error for the <code>HelloOpenGLES20Renderer</code> class reference. That's expected; you will fix this error in the next step.
  </p>
  
  <p>As shown above, this activity uses a single <code><a href="../../../reference/android/opengl/GLSurfaceView.html">GLSurfaceView</a></code> for its
view. Notice that this activity implements crucial lifecycle callbacks for pausing and resuming its
work.</p>

  <p>The <code>HelloOpenGLES20SurfaceView</code> class in this example code above is just a thin wrapper
for an instance of <code><a href="../../../reference/android/opengl/GLSurfaceView.html">GLSurfaceView</a></code> and is not strictly necessary for this
example. However, if you want your application to monitor and respond to touch screen
events—and we are guessing you do—you must extend <code><a href="../../../reference/android/opengl/GLSurfaceView.html">GLSurfaceView</a></code>
to add touch event listeners, which you will learn how to do in the <a href="#touch">Reponding to
Touch Events</a> section.</p>

  <p>In order to draw graphics in the <code><a href="../../../reference/android/opengl/GLSurfaceView.html">GLSurfaceView</a></code>, you must define an
implementation of <code><a href="../../../reference/android/opengl/GLSurfaceView.Renderer.html">GLSurfaceView.Renderer</a></code>. In the next step, you create
a renderer class to complete this OpenGL application.</p>
  </li>

  <li>Create a new file for the following class <code>HelloOpenGLES20Renderer</code>, which implements
the <code><a href="../../../reference/android/opengl/GLSurfaceView.Renderer.html">GLSurfaceView.Renderer</a></code> interface:

<pre class="prettyprint"><span class="kwd">package</span><span class="pln"> com</span><span class="pun">.</span><span class="pln">example</span><span class="pun">.</span><span class="pln">android</span><span class="pun">.</span><span class="pln">apis</span><span class="pun">.</span><span class="pln">graphics</span><span class="pun">;</span><span class="pln"><br /><br /></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">khronos</span><span class="pun">.</span><span class="pln">egl</span><span class="pun">.</span><span class="typ">EGLConfig</span><span class="pun">;</span><span class="pln"><br /></span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">microedition</span><span class="pun">.</span><span class="pln">khronos</span><span class="pun">.</span><span class="pln">opengles</span><span class="pun">.</span><span class="pln">GL10</span><span class="pun">;</span><span class="pln"><br /><br /></span><span class="kwd">import</span><span class="pln"> android</span><span class="pun">.</span><span class="pln">opengl</span><span class="pun">.</span><span class="pln">GLES20</span><span class="pun">;</span><span class="pln"><br /></span><span class="kwd">import</span><span class="pln"> android</span><span class="pun">.</span><span class="pln">opengl</span><span class="pun">.</span><span class="typ">GLSurfaceView</span><span class="pun">;</span><span class="pln"><br /><br /></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HelloOpenGLES20Renderer</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">GLSurfaceView</span><span class="pun">.</span><span class="typ">Renderer</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />  <br />    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onSurfaceCreated</span><span class="pun">(</span><span class="pln">GL10 unused</span><span class="pun">,</span><span class="pln"> </span><span class="typ">EGLConfig</span><span class="pln"> config</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />    <br />        </span><span class="com">// Set the background frame color</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glClearColor</span><span class="pun">(</span><span class="lit">0.5f</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.5f</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.5f</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1.0f</span><span class="pun">);</span><span class="pln"><br />    </span><span class="pun">}</span><span class="pln"><br />    <br />    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onDrawFrame</span><span class="pun">(</span><span class="pln">GL10 unused</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />    <br />        </span><span class="com">// Redraw background color</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glClear</span><span class="pun">(</span><span class="pln">GLES20</span><span class="pun">.</span><span class="pln">GL_COLOR_BUFFER_BIT </span><span class="pun">|</span><span class="pln"> GLES20</span><span class="pun">.</span><span class="pln">GL_DEPTH_BUFFER_BIT</span><span class="pun">);</span><span class="pln"><br />    </span><span class="pun">}</span><span class="pln"><br />    <br />    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onSurfaceChanged</span><span class="pun">(</span><span class="pln">GL10 unused</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> width</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> height</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glViewport</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> width</span><span class="pun">,</span><span class="pln"> height</span><span class="pun">);</span><span class="pln"><br />    </span><span class="pun">}</span><span class="pln"><br />  <br /></span><span class="pun">}</span></pre>
  <p>This minimal implementation of <code><a href="../../../reference/android/opengl/GLSurfaceView.Renderer.html">GLSurfaceView.Renderer</a></code> provides the
code structure needed to use OpenGL drawing methods:
</p><ul>
  <li><code><a href="../../../reference/android/opengl/GLSurfaceView.Renderer.html#onSurfaceCreated(javax.microedition.khronos.opengles.GL10, javax.microedition.khronos.egl.EGLConfig)">onSurfaceCreated()</a></code> is called once to set up the
<code><a href="../../../reference/android/opengl/GLSurfaceView.html">GLSurfaceView</a></code>
environment.</li>
  <li><code><a href="../../../reference/android/opengl/GLSurfaceView.Renderer.html#onDrawFrame(javax.microedition.khronos.opengles.GL10)">onDrawFrame()</a></code> is called for each redraw of the <code><a href="../../../reference/android/opengl/GLSurfaceView.html">GLSurfaceView</a></code>.</li>
  <li><code><a href="../../../reference/android/opengl/GLSurfaceView.Renderer.html#onSurfaceChanged(javax.microedition.khronos.opengles.GL10, int, int)">onSurfaceChanged()</a></code> is called if the geometry of the <code><a href="../../../reference/android/opengl/GLSurfaceView.html">GLSurfaceView</a></code> changes, for example when the device's screen orientation
changes.</li>
</ul>
  <p></p>
  <p>For more information about these methods, see the <a href="../../../guide/topics/graphics/opengl.html">3D with OpenGL</a> document.
</p>
  </li>
</ol>

<p>The code example above creates a simple Android application that displays a grey screen using
OpenGL ES 2.0 calls. While this application does not do anything very interesting, by creating these
classes, you have layed the foundation needed to start drawing graphic elements with OpenGL ES
2.0.</p>

<p>If you are familiar with the OpenGL ES APIs, these classes should give you enough information
to use the OpenGL ES 2.0 API and create graphics. However, if you need a bit more help getting
started with OpenGL, head on to the next sections for a few more hints.</p>

<p class="note"><strong>Note:</strong> If your application requires OpenGL 2.0, make sure you
declare this in your manifest:</p>
<pre class="prettyprint"><span class="pln">    </span><span class="com">&lt;!-- Tell the system this app requires OpenGL ES 2.0. --&gt;</span><span class="pln"><br />    </span><span class="tag">&lt;uses-feature</span><span class="pln"> </span><span class="atn">android:glEsVersion</span><span class="pun">=</span><span class="atv">"0x00020000"</span><span class="pln"> </span><span class="atn">android:required</span><span class="pun">=</span><span class="atv">"true"</span><span class="pln"> </span><span class="tag">/&gt;</span></pre>
<p>For more information, see <a href="../../../guide/topics/graphics/opengl.html#manifest">OpenGL manifest declarations</a> in the
<em>3D with OpenGL</em> document.</p>


<h2 id="drawing">Draw a Shape on GLSurfaceView</h2>

<p>Once you have implemented a <code><a href="../../../reference/android/opengl/GLSurfaceView.Renderer.html">GLSurfaceView.Renderer</a></code>, the next step is to
draw something with it. This section shows you how to define and draw a triangle.</p>

<h3 id="define-triangle">Define a Triangle</h3>

<p>OpenGL allows you to define objects using coordinates in three-dimensional space. So, before you
  can draw a triangle, you must define its coordinates. In OpenGL, the typical way to do this is to
  define a vertex array for the coordinates.</p>
  
<p>By default, OpenGL ES assumes a coordinate system where [0,0,0] (X,Y,Z) specifies the center of
  the <code><a href="../../../reference/android/opengl/GLSurfaceView.html">GLSurfaceView</a></code> frame, [1,1,0] is the top-right corner of the frame and 
[-1,-1,0] is  bottom-left corner of the frame.</p> 

<p>To define a vertex array for a triangle:</p>

<ol>
  <li>In your <code>HelloOpenGLES20Renderer</code> class, add new member variable to contain the
vertices of a triangle shape:
<pre class="prettyprint"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">FloatBuffer</span><span class="pln"> triangleVB</span><span class="pun">;</span></pre>
  </li>

  <li>Create a method, <code>initShapes()</code> which populates this member variable:
<pre class="prettyprint"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> initShapes</span><span class="pun">(){</span><span class="pln"><br />    <br />        </span><span class="kwd">float</span><span class="pln"> triangleCoords</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />            </span><span class="com">// X, Y, Z</span><span class="pln"><br />            </span><span class="pun">-</span><span class="lit">0.5f</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">0.25f</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"><br />             </span><span class="lit">0.5f</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">0.25f</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"><br />             </span><span class="lit">0.0f</span><span class="pun">,</span><span class="pln">  </span><span class="lit">0.559016994f</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br />        </span><span class="pun">};</span><span class="pln"> <br />        <br />        </span><span class="com">// initialize vertex Buffer for triangle  </span><span class="pln"><br />        </span><span class="typ">ByteBuffer</span><span class="pln"> vbb </span><span class="pun">=</span><span class="pln"> </span><span class="typ">ByteBuffer</span><span class="pun">.</span><span class="pln">allocateDirect</span><span class="pun">(</span><span class="pln"><br />                </span><span class="com">// (# of coordinate values * 4 bytes per float)</span><span class="pln"><br />                triangleCoords</span><span class="pun">.</span><span class="pln">length </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span><span class="pln"> <br />        vbb</span><span class="pun">.</span><span class="pln">order</span><span class="pun">(</span><span class="typ">ByteOrder</span><span class="pun">.</span><span class="pln">nativeOrder</span><span class="pun">());</span><span class="com">// use the device hardware's native byte order</span><span class="pln"><br />        triangleVB </span><span class="pun">=</span><span class="pln"> vbb</span><span class="pun">.</span><span class="pln">asFloatBuffer</span><span class="pun">();</span><span class="pln">  </span><span class="com">// create a floating point buffer from the ByteBuffer</span><span class="pln"><br />        triangleVB</span><span class="pun">.</span><span class="pln">put</span><span class="pun">(</span><span class="pln">triangleCoords</span><span class="pun">);</span><span class="pln">    </span><span class="com">// add the coordinates to the FloatBuffer</span><span class="pln"><br />        triangleVB</span><span class="pun">.</span><span class="pln">position</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">            </span><span class="com">// set the buffer to read the first coordinate</span><span class="pln"><br />    <br />    </span><span class="pun">}</span></pre>
    <p>This method defines a two-dimensional triangle shape with three equal sides.</p>
  </li>
  <li>Modify your <code>onSurfaceCreated()</code> method to initialize your triangle:
<pre class="prettyprint"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onSurfaceCreated</span><span class="pun">(</span><span class="pln">GL10 unused</span><span class="pun">,</span><span class="pln"> </span><span class="typ">EGLConfig</span><span class="pln"> config</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />    <br />        </span><span class="com">// Set the background frame color</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glClearColor</span><span class="pun">(</span><span class="lit">0.5f</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.5f</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.5f</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1.0f</span><span class="pun">);</span><span class="pln"><br />        <br />        </span><span class="com">// initialize the triangle vertex array</span><span class="pln"><br />        initShapes</span><span class="pun">();</span><span class="pln"><br />    </span><span class="pun">}</span></pre>
  <p class="caution"><strong>Caution:</strong> Shapes and other static objects should be initialized
    once in your <code>onSurfaceCreated()</code> method for best performance. Avoid initializing the
    new objects in <code>onDrawFrame()</code>, as this causes the system to re-create the objects
    for every frame redraw and slows down your application.
  </p>
  </li>

</ol>

<p>You have now defined a triangle shape, but if you run the application, nothing appears. What?!
You also have to tell OpenGL to draw the triangle, which you'll do in the next section.
</p>


<h3 id="draw-triangle">Draw the Triangle</h3>

<p>The OpenGL ES 2.0 requires a bit more code than OpenGL ES 1.0/1.1 in order to draw objects. In
this section, you'll create vertex and fragment shaders, a shader loader, apply the shaders, enable
the use of vertex arrays for your triangle and, finally, draw it on screen.</p>

<p>To draw the triangle:</p>
  
<ol>
  <li>In your <code>HelloOpenGLES20Renderer</code> class, define a vertex shader and a fragment
shader. Shader code is defined as a string which is compiled and run by the OpenGL ES 2.0 rendering
engine.
<pre class="prettyprint"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> vertexShaderCode </span><span class="pun">=</span><span class="pln"> <br />        </span><span class="str">"attribute vec4 vPosition; \n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br />        </span><span class="str">"void main(){              \n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br />        </span><span class="str">" gl_Position = vPosition; \n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br />        </span><span class="str">"}                         \n"</span><span class="pun">;</span><span class="pln"><br />    <br />    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> fragmentShaderCode </span><span class="pun">=</span><span class="pln"> <br />        </span><span class="str">"precision mediump float;  \n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br />        </span><span class="str">"void main(){              \n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br />        </span><span class="str">" gl_FragColor = vec4 (0.63671875, 0.76953125, 0.22265625, 1.0); \n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br />        </span><span class="str">"}                         \n"</span><span class="pun">;</span></pre>
    <p>The vertex shader controls how OpenGL positions and draws the vertices of shapes in space.
The fragment shader controls what OpenGL draws <em>between</em> the vertices of shapes.</p>
  </li>
  <li>In your <code>HelloOpenGLES20Renderer</code> class, create a method for loading the shaders.
<pre class="prettyprint"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> loadShader</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> type</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> shaderCode</span><span class="pun">){</span><span class="pln"><br />    <br />        </span><span class="com">// create a vertex shader type (GLES20.GL_VERTEX_SHADER)</span><span class="pln"><br />        </span><span class="com">// or a fragment shader type (GLES20.GL_FRAGMENT_SHADER)</span><span class="pln"><br />        </span><span class="kwd">int</span><span class="pln"> shader </span><span class="pun">=</span><span class="pln"> GLES20</span><span class="pun">.</span><span class="pln">glCreateShader</span><span class="pun">(</span><span class="pln">type</span><span class="pun">);</span><span class="pln"> <br />        <br />        </span><span class="com">// add the source code to the shader and compile it</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glShaderSource</span><span class="pun">(</span><span class="pln">shader</span><span class="pun">,</span><span class="pln"> shaderCode</span><span class="pun">);</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glCompileShader</span><span class="pun">(</span><span class="pln">shader</span><span class="pun">);</span><span class="pln"><br />        <br />        </span><span class="kwd">return</span><span class="pln"> shader</span><span class="pun">;</span><span class="pln"><br />    </span><span class="pun">}</span></pre>
  </li>
  
  <li>Add the following members to your <code>HelloOpenGLES20Renderer</code> class for an OpenGL
Program and the positioning control for your triangle.
<pre class="prettyprint"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> mProgram</span><span class="pun">;</span><span class="pln"><br />    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> maPositionHandle</span><span class="pun">;</span></pre>
    <p>In OpenGL ES 2.0, you attach vertex and fragment shaders to a <em>Program</em> and then
apply the program to the OpenGL graphics pipeline.</p>
  </li>
  
  <li>Add the following code to the end of your <code>onSurfaceCreated()</code> method to load the
shaders and attach them to an OpenGL Program.
<pre class="prettyprint"><span class="pln">        </span><span class="kwd">int</span><span class="pln"> vertexShader </span><span class="pun">=</span><span class="pln"> loadShader</span><span class="pun">(</span><span class="pln">GLES20</span><span class="pun">.</span><span class="pln">GL_VERTEX_SHADER</span><span class="pun">,</span><span class="pln"> vertexShaderCode</span><span class="pun">);</span><span class="pln"><br />        </span><span class="kwd">int</span><span class="pln"> fragmentShader </span><span class="pun">=</span><span class="pln"> loadShader</span><span class="pun">(</span><span class="pln">GLES20</span><span class="pun">.</span><span class="pln">GL_FRAGMENT_SHADER</span><span class="pun">,</span><span class="pln"> fragmentShaderCode</span><span class="pun">);</span><span class="pln"><br />        <br />        mProgram </span><span class="pun">=</span><span class="pln"> GLES20</span><span class="pun">.</span><span class="pln">glCreateProgram</span><span class="pun">();</span><span class="pln">             </span><span class="com">// create empty OpenGL Program</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glAttachShader</span><span class="pun">(</span><span class="pln">mProgram</span><span class="pun">,</span><span class="pln"> vertexShader</span><span class="pun">);</span><span class="pln">   </span><span class="com">// add the vertex shader to program</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glAttachShader</span><span class="pun">(</span><span class="pln">mProgram</span><span class="pun">,</span><span class="pln"> fragmentShader</span><span class="pun">);</span><span class="pln"> </span><span class="com">// add the fragment shader to program</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glLinkProgram</span><span class="pun">(</span><span class="pln">mProgram</span><span class="pun">);</span><span class="pln">                  </span><span class="com">// creates OpenGL program executables</span><span class="pln"><br />        <br />        </span><span class="com">// get handle to the vertex shader's vPosition member</span><span class="pln"><br />        maPositionHandle </span><span class="pun">=</span><span class="pln"> GLES20</span><span class="pun">.</span><span class="pln">glGetAttribLocation</span><span class="pun">(</span><span class="pln">mProgram</span><span class="pun">,</span><span class="pln"> </span><span class="str">"vPosition"</span><span class="pun">);</span></pre>
    <p>At this point, you are ready to draw the triangle object in the OpenGL view.</p>
  </li>
  
  <li>Add the following code to the end of your <code>onDrawFrame()</code> method apply the OpenGL
program you created, load the triangle object and draw the triangle.
<pre class="prettyprint"><span class="pln">        </span><span class="com">// Add program to OpenGL environment</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glUseProgram</span><span class="pun">(</span><span class="pln">mProgram</span><span class="pun">);</span><span class="pln"><br />        <br />        </span><span class="com">// Prepare the triangle data</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glVertexAttribPointer</span><span class="pun">(</span><span class="pln">maPositionHandle</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> GLES20</span><span class="pun">.</span><span class="pln">GL_FLOAT</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="lit">12</span><span class="pun">,</span><span class="pln"> triangleVB</span><span class="pun">);</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glEnableVertexAttribArray</span><span class="pun">(</span><span class="pln">maPositionHandle</span><span class="pun">);</span><span class="pln"><br />        <br />        </span><span class="com">// Draw the triangle</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glDrawArrays</span><span class="pun">(</span><span class="pln">GLES20</span><span class="pun">.</span><span class="pln">GL_TRIANGLES</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">);</span></pre>
  </li>
  <li id="squashed-triangle">Run the app! Your application should look something like this:
  </li>
</ol>

<img src="../../../images/opengl/helloopengl-es20-1.png" />
<p class="img-caption">
  <strong>Figure 1.</strong> Triangle drawn without a projection or camera view.
</p>

<p>There are a few problems with this example. First of all, it is not going to impress your
friends. Secondly, the triangle is a bit squashed and changes shape when you change the screen
orientation of the device. The reason the shape is skewed is due to the fact that the object is
being rendered in a frame which is not perfectly square. You'll fix that problem using a projection
and camera view in the next section.</p>

<p>Lastly, because the triangle is stationary, the system is redrawing the object repeatedly in
exactly the same place, which is not the most efficient use of the OpenGL graphics pipeline. In the
<a href="#motion">Add Motion</a> section, you'll make this shape rotate and justify
this use of processing power.</p>

<h2 id="projection-and-views">Apply Projection and Camera View</h2>

<p>One of the basic problems in displaying graphics is that Android device displays are typically
not square and, by default, OpenGL happily maps a perfectly square, uniform coordinate
system onto your typically non-square screen. To solve this problem, you can apply an OpenGL
projection mode and camera view (eye point) to transform the coordinates of your graphic objects
so they have the correct proportions on any display. For more information about OpenGL coordinate
mapping, see <a href="../../../guide/topics/graphics/opengl.html#coordinate-mapping">Mapping
Coordinates for Drawn Objects</a>.</p>

<p>To apply projection and camera view transformations to your triangle:
</p>
<ol>
  <li>Add the following members to your <code>HelloOpenGLES20Renderer</code> class.
<pre class="prettyprint"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> muMVPMatrixHandle</span><span class="pun">;</span><span class="pln"><br />    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">float</span><span class="pun">[]</span><span class="pln"> mMVPMatrix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">float</span><span class="pun">[</span><span class="lit">16</span><span class="pun">];</span><span class="pln"><br />    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">float</span><span class="pun">[]</span><span class="pln"> mMMatrix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">float</span><span class="pun">[</span><span class="lit">16</span><span class="pun">];</span><span class="pln"><br />    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">float</span><span class="pun">[]</span><span class="pln"> mVMatrix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">float</span><span class="pun">[</span><span class="lit">16</span><span class="pun">];</span><span class="pln"><br />    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">float</span><span class="pun">[]</span><span class="pln"> mProjMatrix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">float</span><span class="pun">[</span><span class="lit">16</span><span class="pun">];</span></pre>
    </li>
    <li>Modify your <code>vertexShaderCode</code> string to add a variable for a model view
projection matrix.
<pre class="prettyprint"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> vertexShaderCode </span><span class="pun">=</span><span class="pln"> <br />        </span><span class="com">// This matrix member variable provides a hook to manipulate</span><span class="pln"><br />        </span><span class="com">// the coordinates of the objects that use this vertex shader</span><span class="pln"><br />        </span><span class="str">"uniform mat4 uMVPMatrix;   \n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br />        <br />        </span><span class="str">"attribute vec4 vPosition;  \n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br />        </span><span class="str">"void main(){               \n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br />        <br />        </span><span class="com">// the matrix must be included as a modifier of gl_Position</span><span class="pln"><br />        </span><span class="str">" gl_Position = uMVPMatrix * vPosition; \n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"><br />        <br />        </span><span class="str">"}  \n"</span><span class="pun">;</span></pre>
    </li>
    <li>Modify the <code>onSurfaceChanged()</code> method to calculate the device screen ratio and
create a projection matrix.
<pre class="prettyprint"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onSurfaceChanged</span><span class="pun">(</span><span class="pln">GL10 unused</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> width</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> height</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glViewport</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> width</span><span class="pun">,</span><span class="pln"> height</span><span class="pun">);</span><span class="pln"><br />        <br />        </span><span class="kwd">float</span><span class="pln"> ratio </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">float</span><span class="pun">)</span><span class="pln"> width </span><span class="pun">/</span><span class="pln"> height</span><span class="pun">;</span><span class="pln"><br />        <br />        </span><span class="com">// this projection matrix is applied to object coodinates</span><span class="pln"><br />        </span><span class="com">// in the onDrawFrame() method</span><span class="pln"><br />        </span><span class="typ">Matrix</span><span class="pun">.</span><span class="pln">frustumM</span><span class="pun">(</span><span class="pln">mProjMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="pln">ratio</span><span class="pun">,</span><span class="pln"> ratio</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">7</span><span class="pun">);</span><span class="pln"><br />    </span><span class="pun">}</span><span class="pln">  </span></pre>
    </li>
    <li>Add the following code to the end of your <code>onSurfaceChanged()</code> method to
reference the <code>uMVPMatrix</code> shader matrix variable you added in step 2.
<pre class="prettyprint"><span class="pln">        muMVPMatrixHandle </span><span class="pun">=</span><span class="pln"> GLES20</span><span class="pun">.</span><span class="pln">glGetUniformLocation</span><span class="pun">(</span><span class="pln">mProgram</span><span class="pun">,</span><span class="pln"> </span><span class="str">"uMVPMatrix"</span><span class="pun">);</span></pre>
    </li>
    <li>Add the following code to the end of your <code>onSurfaceChanged()</code> method to define
a camera view matrix.
<pre class="prettyprint"><span class="pln">        </span><span class="typ">Matrix</span><span class="pun">.</span><span class="pln">setLookAtM</span><span class="pun">(</span><span class="pln">mVMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0f</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0f</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0f</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0f</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1.0f</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.0f</span><span class="pun">);</span></pre>
    </li>
    <li>Finally, modify your <code>onDrawFrame()</code> method to combine the projection and
camera view matrices and then apply the combined transformation to the OpenGL rendering pipeline.
<pre class="prettyprint"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onDrawFrame</span><span class="pun">(</span><span class="pln">GL10 unused</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />        </span><span class="pun">...</span><span class="pln"><br />        </span><span class="com">// Apply a ModelView Projection transformation</span><span class="pln"><br />        </span><span class="typ">Matrix</span><span class="pun">.</span><span class="pln">multiplyMM</span><span class="pun">(</span><span class="pln">mMVPMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> mProjMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> mVMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glUniformMatrix4fv</span><span class="pun">(</span><span class="pln">muMVPMatrixHandle</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> mMVPMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br />        <br />        </span><span class="com">// Draw the triangle</span><span class="pln"><br />        </span><span class="pun">...</span><span class="pln"><br />    </span><span class="pun">}</span></pre>
  </li>
  <li>Run the updated application and you should see something like this:</li>
</ol>

<img src="../../../images/opengl/helloopengl-es20-2.png" />
<p class="img-caption">
  <strong>Figure 2.</strong> Triangle drawn with a projection and camera view applied.
</p>

<p>Now that you have applied this transformation, the triangle has three equal sides, instead of the
<a href="#squashed-triangle">squashed triangle</a> in the earlier version.</p>

<h2 id="motion">Add Motion</h2>

<p>While it may be an interesting exercise to create static graphic objects with OpenGL ES, chances
are you want at least <em>some</em> of your objects to move. In this section, you'll add motion to
your triangle by rotating it.</p>

<p>To add rotation to your triangle:</p>
<ol>
  <li>Add an additional tranformation matrix member to your <code>HelloOpenGLES20Renderer</code>
class.
    <pre class="prettyprint"><span class="pln">      </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">float</span><span class="pun">[]</span><span class="pln"> mMMatrix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="kwd">float</span><span class="pun">[</span><span class="lit">16</span><span class="pun">];</span><span class="pln"><br />    </span></pre>
    </li>
  <li>Modify your <code>onDrawFrame()</code> method to rotate the triangle object.
<pre class="prettyprint"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onDrawFrame</span><span class="pun">(</span><span class="pln">GL10 gl</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />        </span><span class="pun">...</span><span class="pln"><br />    <br />        </span><span class="com">// Create a rotation for the triangle</span><span class="pln"><br />        </span><span class="kwd">long</span><span class="pln"> time </span><span class="pun">=</span><span class="pln"> </span><span class="typ">SystemClock</span><span class="pun">.</span><span class="pln">uptimeMillis</span><span class="pun">()</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">4000L</span><span class="pun">;</span><span class="pln"><br />        </span><span class="kwd">float</span><span class="pln"> angle </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0.090f</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="pun">((</span><span class="kwd">int</span><span class="pun">)</span><span class="pln"> time</span><span class="pun">);</span><span class="pln"><br />        </span><span class="typ">Matrix</span><span class="pun">.</span><span class="pln">setRotateM</span><span class="pun">(</span><span class="pln">mMMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> angle</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1.0f</span><span class="pun">);</span><span class="pln"><br />        </span><span class="typ">Matrix</span><span class="pun">.</span><span class="pln">multiplyMM</span><span class="pun">(</span><span class="pln">mMVPMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> mVMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> mMMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br />        </span><span class="typ">Matrix</span><span class="pun">.</span><span class="pln">multiplyMM</span><span class="pun">(</span><span class="pln">mMVPMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> mProjMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> mMVPMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br />        <br />        </span><span class="com">// Apply a ModelView Projection transformation</span><span class="pln"><br />        GLES20</span><span class="pun">.</span><span class="pln">glUniformMatrix4fv</span><span class="pun">(</span><span class="pln">muMVPMatrixHandle</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> mMVPMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln"><br />        <br />        </span><span class="com">// Draw the triangle</span><span class="pln"><br />        </span><span class="pun">...</span><span class="pln"><br />    </span><span class="pun">}</span></pre>
  </li>
  <li>Run the application and your triangle should rotate around its center.</li>
</ol>


<h2 id="touch">Respond to Touch Events</h2>
<p>Making objects move according to a preset program like the rotating triangle  is useful for
getting some attention, but what if you want to have users interact with your OpenGL graphics? In
this section, you'll learn how listen for touch events to let users interact with objects in your
<code>HelloOpenGLES20SurfaceView</code>.</p>
  
<p>The key to making your OpenGL application touch interactive is expanding your implementation of
<code><a href="../../../reference/android/opengl/GLSurfaceView.html">GLSurfaceView</a></code> to override the <code><a href="../../../reference/android/view/View.html#onTouchEvent(android.view.MotionEvent)">onTouchEvent()</a></code> to listen for touch events.
Before you do that, however, you'll modify the renderer class to expose the rotation angle of the
triangle. Afterwards, you'll modify the <code>HelloOpenGLES20SurfaceView</code> to process touch events
and pass that data to your renderer.</p>

<p>To make your triangle rotate in response to touch events:</p>

<ol>
  <li>Modify your <code>HelloOpenGLES20Renderer</code> class to include a new, public member so that
your <code>HelloOpenGLES10SurfaceView</code> class is able to pass new rotation values your renderer:
<pre class="prettyprint"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">float</span><span class="pln"> mAngle</span><span class="pun">;</span></pre>  
  </li>
  <li>In your <code>onDrawFrame()</code> method, comment out the code that generates an angle and
replace the <code>angle</code> variable with <code>mAngle</code>.
<pre class="prettyprint"><span class="pln">        </span><span class="com">// Create a rotation for the triangle (Boring! Comment this out:)</span><span class="pln"><br />        </span><span class="com">// long time = SystemClock.uptimeMillis() % 4000L;</span><span class="pln"><br />        </span><span class="com">// float angle = 0.090f * ((int) time);</span><span class="pln"><br /><br />        </span><span class="com">// Use the mAngle member as the rotation value</span><span class="pln"><br />        </span><span class="typ">Matrix</span><span class="pun">.</span><span class="pln">setRotateM</span><span class="pun">(</span><span class="pln">mMMatrix</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> mAngle</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1.0f</span><span class="pun">);</span></pre>
  </li>
  <li>In your <code>HelloOpenGLES20SurfaceView</code> class, add the following member variables.
<pre class="prettyprint"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="kwd">float</span><span class="pln"> TOUCH_SCALE_FACTOR </span><span class="pun">=</span><span class="pln"> </span><span class="lit">180.0f</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">320</span><span class="pun">;</span><span class="pln"><br />    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">HelloOpenGLES20Renderer</span><span class="pln"> mRenderer</span><span class="pun">;</span><span class="pln"><br />    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">float</span><span class="pln"> mPreviousX</span><span class="pun">;</span><span class="pln"><br />    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">float</span><span class="pln"> mPreviousY</span><span class="pun">;</span></pre>
  </li>
  <li>In the constructor method for <code>HelloOpenGLES20SurfaceView</code>, set the <code>mRenderer</code>
member so you have a handle to pass in rotation input and set the render mode to <code><a href="../../../reference/android/opengl/GLSurfaceView.html#RENDERMODE_WHEN_DIRTY">RENDERMODE_WHEN_DIRTY</a></code>.<pre class="prettyprint"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">HelloOpenGLES20SurfaceView</span><span class="pun">(</span><span class="typ">Context</span><span class="pln"> context</span><span class="pun">){</span><span class="pln"><br />        </span><span class="kwd">super</span><span class="pun">(</span><span class="pln">context</span><span class="pun">);</span><span class="pln"><br />        </span><span class="com">// Create an OpenGL ES 2.0 context.</span><span class="pln"><br />        setEGLContextClientVersion</span><span class="pun">(</span><span class="lit">2</span><span class="pun">);</span><span class="pln"><br />            <br />        </span><span class="com">// set the mRenderer member</span><span class="pln"><br />        mRenderer </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HelloOpenGLES20Renderer</span><span class="pun">();</span><span class="pln"><br />        setRenderer</span><span class="pun">(</span><span class="pln">mRenderer</span><span class="pun">);</span><span class="pln"><br />        <br />        </span><span class="com">// Render the view only when there is a change</span><span class="pln"><br />        setRenderMode</span><span class="pun">(</span><span class="typ">GLSurfaceView</span><span class="pun">.</span><span class="pln">RENDERMODE_WHEN_DIRTY</span><span class="pun">);</span><span class="pln"><br />    </span><span class="pun">}</span></pre>
  </li>
  <li>In your <code>HelloOpenGLES20SurfaceView</code> class, override the <code><a href="../../../reference/android/view/View.html#onTouchEvent(android.view.MotionEvent)">onTouchEvent()</a></code> method to listen for touch
events and pass them to your renderer.
<pre class="prettyprint"><span class="pln">    </span><span class="lit">@Override</span><span class="pln"> <br />    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> onTouchEvent</span><span class="pun">(</span><span class="typ">MotionEvent</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />        </span><span class="com">// MotionEvent reports input details from the touch screen</span><span class="pln"><br />        </span><span class="com">// and other input controls. In this case, you are only</span><span class="pln"><br />        </span><span class="com">// interested in events where the touch position changed.</span><span class="pln"><br /><br />        </span><span class="kwd">float</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">getX</span><span class="pun">();</span><span class="pln"><br />        </span><span class="kwd">float</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">getY</span><span class="pun">();</span><span class="pln"><br />        <br />        </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="pln">getAction</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />            </span><span class="kwd">case</span><span class="pln"> </span><span class="typ">MotionEvent</span><span class="pun">.</span><span class="pln">ACTION_MOVE</span><span class="pun">:</span><span class="pln"><br />    <br />                </span><span class="kwd">float</span><span class="pln"> dx </span><span class="pun">=</span><span class="pln"> x </span><span class="pun">-</span><span class="pln"> mPreviousX</span><span class="pun">;</span><span class="pln"><br />                </span><span class="kwd">float</span><span class="pln"> dy </span><span class="pun">=</span><span class="pln"> y </span><span class="pun">-</span><span class="pln"> mPreviousY</span><span class="pun">;</span><span class="pln"><br />    <br />                </span><span class="com">// reverse direction of rotation above the mid-line</span><span class="pln"><br />                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">y </span><span class="pun">&gt;</span><span class="pln"> getHeight</span><span class="pun">()</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />                  dx </span><span class="pun">=</span><span class="pln"> dx </span><span class="pun">*</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br />                </span><span class="pun">}</span><span class="pln"><br />    <br />                </span><span class="com">// reverse direction of rotation to left of the mid-line</span><span class="pln"><br />                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x </span><span class="pun">&lt;</span><span class="pln"> getWidth</span><span class="pun">()</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />                  dy </span><span class="pun">=</span><span class="pln"> dy </span><span class="pun">*</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br />                </span><span class="pun">}</span><span class="pln"><br />              <br />                mRenderer</span><span class="pun">.</span><span class="pln">mAngle </span><span class="pun">+=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dx </span><span class="pun">+</span><span class="pln"> dy</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> TOUCH_SCALE_FACTOR</span><span class="pun">;</span><span class="pln"><br />                requestRender</span><span class="pun">();</span><span class="pln"><br />        </span><span class="pun">}</span><span class="pln"><br /><br />        mPreviousX </span><span class="pun">=</span><span class="pln"> x</span><span class="pun">;</span><span class="pln"><br />        mPreviousY </span><span class="pun">=</span><span class="pln"> y</span><span class="pun">;</span><span class="pln"><br />        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"><br />    </span><span class="pun">}</span><span class="pln"> </span></pre>
  <p class="note"><strong>Note:</strong> Touch events return pixel coordinates which <em>are not the
same</em> as OpenGL coordinates. Touch coordinate [0,0] is the bottom-left of the screen and the
highest value [max_X, max_Y] is the top-right corner of the screen. To match touch events to OpenGL
graphic objects, you must translate touch coordinates into OpenGL coordinates.</p>
  </li>
  <li>Run the application and drag your finger or cursor around the screen to rotate the
triangle.</li>
</ol>
<p>For another example of OpenGL touch event functionality, see <a href="../../../resources/samples/ApiDemos/src/com/example/android/apis/graphics/&#10;TouchRotateActivity.html">TouchRotateActivity</a>.</p>
    </div>

    
    
    <a href="#top" style="float: right; display: inline;">↑ Go to top</a>
    
      <p><a href="../../browser.html?tag=tutorial">← Back to Tutorials</a></p>
    

  </div> <!-- end jd-content -->

<div id="footer">


  <div id="copyright">
    
  Except as noted, this content is 
  licensed under <a href="http://creativecommons.org/licenses/by/2.5/">
  Creative Commons Attribution 2.5</a>. For details and 
  restrictions, see the <a href="../../../license.html">Content 
  License</a>.
  </div>

  <div id="footerlinks">
    
  <p>
    <a href="http://www.google.com/intl/en/policies/" target="_blank">Privacy &amp; Terms</a> -
    <a href="http://www.android.com/branding.html" target="_blank">Brand Guidelines</a> -
    <a href="http://code.google.com/p/android/issues/entry?template=Developer%20Documentation" target="_blank">Report Document Issues</a>
  </p>
  </div>

</div> <!-- end footer -->

</div><!-- end doc-content -->

</div> <!-- end body-content --> 

<script type="text/javascript">
init(); /* initialize android-developer-docs.js */
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="https://ssl.google-analytics.com/ga.js" type="text/javascript"></script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-5831155-1");
pageTracker._trackPageview();
</script>






</body></html>