---
layout: post
title: "“深度学习”笔记 -- 数学×微积分入门"
location: "珠海"
categories: ["深度学习"]
tags: [《动手学深度学习》, 深度学习]
mathjax: true
toc: true
---


## 前言

[三分钟弄懂微积分（整个逻辑）](https://www.bilibili.com/video/BV1mb411r7bd)

符号定义： $$d+\text{某个变量}$$ 表示某个变量的极小的一点变化。


## 导数


### 导数形式

对于任意函数 $$f(x)$$，它的导数 $$f'(x)$$ 为 $$\frac{df(x)}{dx}=\frac{f(x+dx)-f(x)}{dx}$$


### 导数定义

导数在数学上的含义是：经过图像上某一点的切线。


### 代数求导

考虑对 $$f(x)=x^3$$ 求导数。

$$f'(x)=\frac{df(x)}{dx}=\frac{f(x+dx)-f(x)}{dx}=\frac{(x+dx)^3-x^3}{dx}$$

$$=\frac{x^3+3x^2(dx)+3x(dx^{2})+dx^3-x^3}{dx}$$

$$=\frac{3x^2(dx)+3x(dx^{2})+dx^3}{dx}$$

$$=3x^2+3x(dx)+dx^2$$

当 $$dx$$ 逼近 $$0$$ 时，含 $$dx$$ 的项可以忽略，所以最终 $$f'(x)=3x^2$$


### 几何求导

我们可以把 $$f(x)=x^2$$ 看作求一个边长为 $$x$$ 的正方形的面积，那么假设正方形的边长增加了一个 $$dx$$，面积的增加量应该为 $$2x(dx)+dx^2$$，写成导数形式即为 $$\frac{df}{dx}=2x+dx=2x$$


### 幂函数求导

对于任意幂函数 $$f(x)=x^n$$，有 $$f'(x)=nx^{n-1}$$


### 组合函数求导

#### 函数相加

$$\frac{d}{dx}(g(x)+h(x))=\frac{dg}{dx}+\frac{dh}{dx}$$

#### 函数乘积

$$f(x)=g(x)h(x)$$

$$f'(x)=g(x)h'(x)+h(x)g'(x)$$

#### 复合函数

$$\frac{d}{dx}g(h(x))=\frac{dg}{dh}(h(x))\frac{dh}{dx}(x)$$


### 指数函数求导

我们来看一个常见的指数函数 $$f(x)=2^x$$

$$f'(x)=2^x\frac{2^{dx}-1}{dx}$$

当 $$dx$$ 无限逼近于 $$0$$ 时，可以得到后面这一项约等于 $$0.6931……$$

#### 隐函数


## 极限


### 导数的正式定义

我们一般考虑导数时的操作是：选一个极小量 $$dx$$，然后计算 $$\frac{df}{dx}$$

实际上，当 $$dx$$ 无限逼近 $$0$$ 时它才是真正的导数

写作 $$\frac{df}{dx}=\lim\limits_{h→0}\frac{f(x+h)-f(x)}{h}$$

这里右边不用 $$dx$$ 是因为在极限中一般不含带 $$d$$ 的字母，我们认为 $$d$$ 内置了极限的思想

右边这个形式就是导数的正式定义

$$upd：$$ 这里的 $$h$$ 应该看作一个有限小的变化量，而非无穷小，我们只需要考虑它逼近于 $$0$$ 的情况


### 极限的 ε-δ 定义

考虑一个函数 $$f(x)=\frac{(2+x)^3-2^3}{x}$$

![](https://i.loli.net/2019/12/31/MKyBX8AQLzgPpnH.png)

我们可以发现这个函数的定义域并不连续，当 $$x=0$$ 的时候，函数变为了 $$\frac{0}{0}$$

但是当 $$x$$ 无限逼近于 $$0$$ 的时候，它仍然是有定义的，这个比值的极限是 $$12$$

那有人会发问：这个逼近到底是什么意思？

可以发现在上面的曲线中，对于 $$x=0$$ 附近的点，它们的取值都在 $$12$$ 附近，而且不断缩小 $$x$$ 的取值范围，函数值的范围越来越逼近 $$12$$，且这个范围可以无限小

反例：

![](https://i.loli.net/2019/12/31/DLVSfM4iuh1ryaX.png)

这个函数在 $$x=0$$ 的时候同样没有定义

但是在 $$x$$ 逼近于 $$0$$ 的时候，它的取值不确定，也许是 $$2$$，也许是 $$-2$$，我们称它极限不存在

这就是极限的 $$ε-δ$$ 定义

我们用 $$δ$$ 表示自变量取值的范围， $$ε$$ 表示函数在值域上的范围，这段距离可以无限小

极限存在的前提就是：总能在极限点附近某一 $$δ$$ 范围内找到一系列取值点使得范围内任意取值点都处在某一数值的 $$ε$$ 范围之内，且这种情况对任意 $$ε$$ 成立

如第二张图中，若我们取 $$ε$$ 为 $$1$$，则不存在 $$δ$$ 满足要求


### 洛必达法则

对于某个极限点，我们知道直接代入这个点会得到 $$\frac{0}{0}$$，如果我们要确定这个极限点的取值该怎么办？

我们假设某个函数为 $$f(x)=\frac{g(x)}{h(x)}$$，它存在某个点 $$a$$ 使得 $$g(a)=0,h(a)=0$$

我们可以考虑，用导数的反求极限

我们把 $$g(x)$$ 和 $$h(x)$$ 分开了考虑，则这两个函数在 $$a$$ 点处的取值都为 $$0$$

那么也就是说，在 $$a$$ 点附近很小的一段区域内，函数的导数乘以变化量就约等于函数的取值

即 $$g(a+dx)=\frac{dg}{dx}(a)dx$$，当 $$dx$$ 约逼近于 $$0$$ 取值越精准

则 $$\lim\limits_{x→a}\frac{g(a)}{h(a)}=\frac{\frac{dg}{dx}(a)dx}{\frac{dh}{dx}(a)dx}$$

消掉 $$dx$$ 得到

$$\lim\limits_{x→a}f(a)=\frac{\frac{dg}{dx}(a)}{\frac{dh}{dx}(a)}$$

这个叫做洛必达法则

简单说，如果 $$g(a)=0$$，$$h(a)=0$$，那么 $$\lim\limits_{x→a}\frac{g(x)}{h(x)}=\lim\limits_{x→a}\frac{g'(x)}{h'(x)}$$

$$ps：$$ 洛必达法则是洛必达向伯努利买来的


## 积分


### 积分

我们仍然考虑一个<s>开车</s>小汽车的问题：

给定小汽车的时间-速度函数 $$v(t)$$，如何求出小汽车的时间-位移函数 $$s(t)$$ ？

其实我们问题就是求，什么函数的导数为 $$v(t)$$

这类问题通常被称为求函数的原函数（反导数）

对于求曲线下面积的问题，通常手法是将曲线分解成许多个宽度极小的矩形，然后求这些矩阵面积的和

矩形的宽度越小，答案越精准，当宽度无限逼近于 $$0$$ 时，得到的结果就是正确答案

我们用 $$\int_{x}^{y}$$ 来表示 $$[x,y]$$ 区间内所有点表达式的和

如果要求 $$T$$ 时刻内汽车走过的距离，我们可以写成  $$\int_{0}^{T}v(t)dt$$，我们称之为 $$v(t)$$ 的积分

为什么我们不用 $$\sum$$ 呢？因为我们所表达的意思不是实际上的加和，而是 $$dt$$ 在趋近于 $$0$$ 时，加和趋近于的值


### 微积分基本定理

在解积分是过程中，我们可以通过导数来推出原函数，但是并不能推出原函数的常数

<s>如果你想问咋求原函数的其他项：靠猜</s>

因为常数项求导之后会消失

其实我们求一段面积没必要知道常数项具体是多少

仍然拿上面的小车举例子，有 $$\int_{x}^{y}v(t)dt=s(y)-s(x)$$

常数项自然会被抵消掉

$$\int_{x}^{y}f(x)dx=F(x)-F(y)$$ 被称作微积分基本定理


## 泰勒级数


### 泰勒级数

如果一个函数 $$f(x)$$ 在 $$x=x_0$$ 处具有任意阶导数

则 $$f(x)$$ 在点 $$x_0$$ 处的泰勒级数为 $$\sum\limits_{n=0}^{\infty}\frac{f^{(n)}(x_0)}{n!}(x-x_0)^n$$

同时这也是函数在 $$x_0$$ 处的最佳近似多项式

泰勒级数收敛到 $$f(x_0)$$，泰勒级数能让多项式和收敛的最大范围叫做泰勒级数的收敛半径

颓了，不想解释泰勒级数了，就说一句吧：

每增加一项，就会让 $$x0$$ 点附近的曲线变化率更接近原函数


## 参考

<div id="refer-anchor-1"></div>
- [1] [《动手学深度学习》](http://zh.gluon.ai/)
- [2] [微积分入门](https://www.cnblogs.com/knife-rose/p/12120373.html)
- [3] <http://www.fly63.com/tool/htmarkdown/>
- [4] [线性代数入门](https://www.cnblogs.com/knife-rose/p/12107204.html)
