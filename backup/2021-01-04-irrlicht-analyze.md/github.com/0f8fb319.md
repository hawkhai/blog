---
title : 自动快照存档
---

* TIME: 2021-02-05 22:56:08
* URL: <https://github.com/antmuse/AntThread>

-----

Skip to content

[ ](https://github.com/)

[ Sign up
](/join?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-
name%3E%2F%3Crepo-name%3E&source=header-repo)

  * Why GitHub? 

[Features →](/features)

    * [Mobile →](/mobile)
    * [Actions →](/features/actions)
    * [Codespaces →](/features/codespaces)
    * [Packages →](/features/packages)
    * [Security →](/features/security)
    * [Code review →](/features/code-review/)
    * [Project management →](/features/project-management/)
    * [Integrations →](/features/integrations)
    * [GitHub Sponsors →](/sponsors)
    * [Customer stories →](/customer-stories)
    * [Security →](/security)

  * [Team](/team)
  * [Enterprise](/enterprise)
  * Explore 

    * [Explore GitHub →](/explore)

#### Learn & contribute

    * [Topics →](/topics)
    * [Collections →](/collections)
    * [Trending →](/trending)
    * [Learning Lab →](https://lab.github.com/)
    * [Open source guides →](https://opensource.guide)

#### Connect with others

    * [The ReadME Project →](https://github.com/readme)
    * [Events →](https://github.com/events)
    * [Community forum →](https://github.community)
    * [GitHub Education →](https://education.github.com)
    * [GitHub Stars program →](https://stars.github.com)

  * [Marketplace](/marketplace)
  * Pricing 

[Plans →](/pricing)

    * [Compare plans →](/pricing#feature-comparison)
    * [Contact Sales →](https://enterprise.github.com/contact)
    * [Nonprofit →](/nonprofit)
    * [Education →](https://education.github.com)

![](https://github.githubassets.com/images/search-key-slash.svg)

  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()

  * No suggested jump to results

  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()
  * [ ![]() In this user  All GitHub  ↵ Jump to ↵ ]()
  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()

[ Sign in ](/login?return_to=%2Fantmuse%2FAntThread) [ Sign up
](/join?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-
name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=antmuse%2FAntThread)

{{ message }}

#  [antmuse](/antmuse) / **[AntThread](/antmuse/AntThread) **

  * [ Watch ](/login?return_to=%2Fantmuse%2FAntThread) [ 2 ](/antmuse/AntThread/watchers)
  * [ Star ](/login?return_to=%2Fantmuse%2FAntThread) [ 1 ](/antmuse/AntThread/stargazers)
  * [ Fork ](/login?return_to=%2Fantmuse%2FAntThread) [ 0 ](/antmuse/AntThread/network/members)

My cross-platform thread/process lib, current for Windows & Linux & Andriod.

[ MIT License ](/antmuse/AntThread/blob/master/LICENSE.txt)

[ 1 star ](/antmuse/AntThread/stargazers) [ 0 forks
](/antmuse/AntThread/network/members)

[ Star ](/login?return_to=%2Fantmuse%2FAntThread)

[ Watch ](/login?return_to=%2Fantmuse%2FAntThread)

  * [ Code ](/antmuse/AntThread)
  * [ Issues 0 ](/antmuse/AntThread/issues)
  * [ Pull requests 0 ](/antmuse/AntThread/pulls)
  * [ Actions ](/antmuse/AntThread/actions)
  * [ Projects 0 ](/antmuse/AntThread/projects)
  * [ Security ](/antmuse/AntThread/security)
  * [ Insights ](/antmuse/AntThread/pulse)

More

  * [ Code ](/antmuse/AntThread)
  * [ Issues ](/antmuse/AntThread/issues)
  * [ Pull requests ](/antmuse/AntThread/pulls)
  * [ Actions ](/antmuse/AntThread/actions)
  * [ Projects ](/antmuse/AntThread/projects)
  * [ Security ](/antmuse/AntThread/security)
  * [ Insights ](/antmuse/AntThread/pulse)

master

[ **1** branch ](/antmuse/AntThread/branches) [ **1** tag
](/antmuse/AntThread/tags)

[ Go to file ](/antmuse/AntThread/find/master) Code

[ ](https://docs.github.com/articles/which-remote-url-should-i-use)

Clone

HTTPS  GitHub CLI

Use Git or checkout with SVN using the web URL.

Work fast with our official CLI. [Learn more](https://cli.github.com).

  * [ Open with GitHub Desktop ](https://desktop.github.com)
  * [ Download ZIP ](/antmuse/AntThread/archive/master.zip)

#### Launching GitHub Desktop

If nothing happens, [download GitHub Desktop](https://desktop.github.com/) and
try again.

Go back

#### Launching GitHub Desktop

If nothing happens, [download GitHub Desktop](https://desktop.github.com/) and
try again.

Go back

#### Launching Xcode

If nothing happens, [download Xcode](https://developer.apple.com/xcode/) and
try again.

Go back

#### Launching Visual Studio

If nothing happens, [download the GitHub extension for Visual
Studio](https://visualstudio.github.com/) and try again.

Go back

## Latest commit

[
![@antmuse](https://avatars.githubusercontent.com/u/18255623?s=60&u=8432f9a965210e1f9a778b4baa3e9d8ea529aa7a&v=4)
](/antmuse)

[antmuse](/antmuse/AntThread/commits?author=antmuse "View all commits by
antmuse")
[backup](/antmuse/AntThread/commit/3c5c1f640219a06d2e51130960338a4a0dd484e1
"backup")

…

[3c5c1f6](/antmuse/AntThread/commit/3c5c1f640219a06d2e51130960338a4a0dd484e1)
[ on 4 Aug 2019
](/antmuse/AntThread/commit/3c5c1f640219a06d2e51130960338a4a0dd484e1)

[backup](/antmuse/AntThread/commit/3c5c1f640219a06d2e51130960338a4a0dd484e1)

3c5c1f6

## Git stats

  * [ **23** commits  ](/antmuse/AntThread/commits/master)

## Files

[Permalink](/antmuse/AntThread/tree/3c5c1f640219a06d2e51130960338a4a0dd484e1)

Failed to load latest commit information.

Type

Name

Latest commit message

Commit time

[Bin](/antmuse/AntThread/tree/master/Bin "Bin")

[improved](/antmuse/AntThread/commit/65c732423d92d060afbdac4d6e8f5dee9cce22ff
"improved")

2 years ago

[Build](/antmuse/AntThread/tree/master/Build "Build")

[update atomic
operations](/antmuse/AntThread/commit/805330616f4cbbafe59abf6138388acc265d3baa
"update atomic operations")

3 years ago

[Document](/antmuse/AntThread/tree/master/Document "Document")

[fix line
end](/antmuse/AntThread/commit/d0fbd203c0ba161c5ec64debf15477e2d90c84f5 "fix
line end")

3 years ago

[Include](/antmuse/AntThread/tree/master/Include "Include")

[backup](/antmuse/AntThread/commit/3c5c1f640219a06d2e51130960338a4a0dd484e1
"backup")

2 years ago

[Source](/antmuse/AntThread/tree/master/Source "Source")

[backup](/antmuse/AntThread/commit/3c5c1f640219a06d2e51130960338a4a0dd484e1
"backup")

2 years ago

[.gitattributes](/antmuse/AntThread/blob/master/.gitattributes
".gitattributes")

[project type
defined](/antmuse/AntThread/commit/9980fe2fa308c0417734cb5cede8a1614b0b8572
"project type defined")

4 years ago

[.gitignore](/antmuse/AntThread/blob/master/.gitignore ".gitignore")

[update
.gitignore](/antmuse/AntThread/commit/356484d550a8afa2cf7725be896983806273e739
"update .gitignore")

3 years ago

[LICENSE.txt](/antmuse/AntThread/blob/master/LICENSE.txt "LICENSE.txt")

[make linux pro
files](/antmuse/AntThread/commit/fab6174fda6f22d8b8c482fc9ae44a9bcb95f237
"make linux pro files")

3 years ago

[README.md](/antmuse/AntThread/blob/master/README.md "README.md")

[improved](/antmuse/AntThread/commit/65c732423d92d060afbdac4d6e8f5dee9cce22ff
"improved")

2 years ago

[build_doc.bat](/antmuse/AntThread/blob/master/build_doc.bat "build_doc.bat")

[first
version](/antmuse/AntThread/commit/d8bd0c072d6a2fc67a5cf87c745647f05e697379
"first version")

4 years ago

View code

##  README.md

# AntThread V1.0.0.4

A cross platform thread lib, current for Windows&Linux&Andriod.

# Usage

* * *
    
    
    #include "IRunnable.h"
    #include "CThread.h"
    #include "CThreadPool.h"
    #include "CProcessManager.h"
    #include "CAtomicValue32.h"
    
    namespace irr {
    
        void AppQuit() {
            c8 key = '\0';
            while('*' != key) {
                printf("@Please input [*] to quit\n");
                scanf("%c", &key);
            }
        }
    
    
        //for thread test
        class CWorker : public IRunnable {
            public:
                virtual void run() {
                    CThread* td = CThread::getCurrentThread();
                    printf("CWorker::run>>thread id = %u\n", td->getID());
                    //CThread::sleep(10);
                }
        };
    
        //for thread test
        void AppWorker(void* param) {
            CAtomicS32& count = *(CAtomicS32*) (param);
            CThread* td = CThread::getCurrentThread();
            printf("AppWorker::>>[thread=%u], [count=%d]\n", td->getID(), ++count);
            CThread::sleep(10);
        }
    
    
        //for thread test
        void AppStartThread() {
            CThread td;
            CWorker wk;
            td.start(wk);
            td.join();
        }
    
    
        void AppStartThreadPool() {
            CAtomicS32 count;
            const u32 max = 111;
            CThreadPool pool(9);
            pool.start();
            CWorker wk;
            for(u32 i = 0; i < 10; ++i) {
                pool.start(&wk);
            }
            for(u32 i = 0; i < max; ++i) {
                pool.start(AppWorker, (void*) (&count));
            }
            pool.join();
            printf("AppStartThreadPool::>>[count=%d]\n", count.getValue());
        }
    
        //test process
        void AppStartProcesses() {
            CProcessManager::DProcessParam params;
    #if defined(APP_PLATFORM_WINDOWS)
            //params.push_back(io::path("f:\\test.txt"));
            CProcessHandle* proc = CProcessManager::launch("notepad.exe", params);
    #else
            CProcessHandle* proc = CProcessManager::launch("/usr/bin/gnome-calculator", params);
    #endif
            if(proc) {
                printf("AppStartProcesses success\n");
                proc->wait();
            } else {
                printf("AppStartProcesses failed\n");
            }
        }
    
    }//namespace irr
    
    
    int main(int argc, char** argv) {
        printf("@1 Start Thread.\n");
        printf("@2 Start Thread Pool.\n");
        printf("@3 Start Process.\n");
        int key = 0;
        scanf("%d", &key);
        switch(key) {
            case 1:
                irr::AppStartThread();
                break;
            case 2:
                irr::AppStartThreadPool();
                break;
            case 3:
                irr::AppStartProcesses();
                break;
            default:
                printf("@unknown command, pls restart.\n");
                break;
        }
        printf("@Test finish.\n");
        irr::AppQuit();
        return 0;
    }//main
    

## About

My cross-platform thread/process lib, current for Windows & Linux & Andriod.

### Topics

[ android ](/topics/android "Topic: android") [ windows ](/topics/windows
"Topic: windows") [ linux ](/topics/linux "Topic: linux") [ cross-platform
](/topics/cross-platform "Topic: cross-platform") [ thread ](/topics/thread
"Topic: thread") [ process ](/topics/process "Topic: process") [ irrlicht
](/topics/irrlicht "Topic: irrlicht")

### Resources

Readme

### License

[ MIT License ](/antmuse/AntThread/blob/master/LICENSE.txt)

##  [ Releases 1 ](/antmuse/AntThread/releases)

[ AntThread_V1.0.0.3 Latest  on 29 Jan 2018
](/antmuse/AntThread/releases/tag/V1.0.0.3)

##  [ Packages 0 ](/users/antmuse/packages?repo_name=AntThread)

No packages published  

## Languages

  * [ C++ 98.4% ](/antmuse/AntThread/search?l=c%2B%2B)
  * [ C 1.6% ](/antmuse/AntThread/search?l=c)

  * © 2021 GitHub, Inc.
  * [Terms](https://github.com/site/terms)
  * [Privacy](https://github.com/site/privacy)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Docs](https://docs.github.com)

[ ](https://github.com "GitHub")

  * [Contact GitHub](https://github.com/contact)
  * [Pricing](https://github.com/pricing)
  * [API](https://docs.github.com)
  * [Training](https://services.github.com)
  * [Blog](https://github.blog)
  * [About](https://github.com/about)

You can’t perform that action at this time.

You signed in with another tab or window. [Reload]() to refresh your session.
You signed out in another tab or window. [Reload]() to refresh your session.

