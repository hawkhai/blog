<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Colorization Using Optimization</title>
</head>
<body>
<center>
<hr style="width: 100%; height: 2px;">
<h1 style="font-weight: bold;">Colorization Using Optimization</h1>
</center>
<div style="text-align: center;"><a
 href="http://www.cs.huji.ac.il/%7Ealevin/">Anat Levin</a>,&nbsp; <a
 href="http://www.cs.huji.ac.il/%7Edanix/">Dani Lischinski</a>,&nbsp; <a
 href="http://www.cs.huji.ac.il/%7Eyweiss/">Yair Weiss</a><br>
<br>
<span style="font-weight: bold;">Abstract<br>
<br>
</span>
<table
 style="width: 80%; text-align: left; margin-left: auto; margin-right: auto;"
 border="0" cellspacing="2" cellpadding="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">Colorization is a
computer-assisted process of adding color to a monochrome image or
movie. The process typically involves segmenting images into regions
and tracking these regions across image sequences. Neither of these
tasks can be performed reliably in practice; consequently, colorization
requires considerable user intervention and remains a tedious,
time-consuming, and expensive task.<br>
      <br>
In this paper we present a simple colorization method that requires
neither precise image segmentation, nor accurate region
tracking. Our method is based on a simple premise: neighboring pixels
in space-time that have similar intensities should have similar
colors. We formalize this premise using a quadratic cost function and
obtain an optimization problem that can be solved efficiently
using standard techniques. In our approach an artist only needs to
annotate the image with a few color scribbles, and the indicated
colors are automatically propagated in both space and time to produce a
fully colorized image or sequence. We demonstrate that high quality
colorizations of stills and movie clips may be obtained from a
relatively modest amount of user input. <br>
      <br>
      <ul>
        <li><a href="index.html#still">Still
image colorization examples</a></li>
        <li><a href="index.html#interactive">Progressive
colorization example</a></li>
        <li><a href="index.html#recolor">Recoloring
examples</a></li>
        <li><a href="index.html#video">Video
clip colorization examples</a></li>
        <li><span style="font-weight: bold;">Note</span>: The camera 
ready version of the paper can be downloaded 
 <a
 href="colorization-siggraph04.pdf" >here</a>.<br>
        <li> Matlab code of our algorithm can be downloaded <a href="colorization.zip"> here </a>.
        </li>
      </ul>
      </td>
    </tr>
  </tbody>
</table>
<br>
</div>
<hr width="100%"><a name="still">
<h2>Still Image Colorization Examples:</h2>
</a><b>Click the images for uncompressed bitmaps.</b>
<br>
<br>
<table width="100%">
  <tbody>
    <tr>
      <td>
      <center><a href="gray/gili_m.bmp"><img src="gray/gili_m.png"></a>
      <br>
      <b>Marked B/W image</b> </center>
      </td>
      <td>
      <center><a href="gray/gili_res.bmp"><img src="gray/gili_res.png"></a>
      <br>
      <b>Result</b> </center>
      </td>
    </tr>
    <tr>
      <td>
      <center><a href="gray/yellow_m.bmp"><img src="gray/yellow_m.png"></a>
      <br>
      <b>Marked B/W image</b> </center>
      </td>
      <td>
      <center><a href="gray/yellow_res.bmp"><img src="gray/yellow_res.png"></a>
      <br>
      <b>Result</b> </center>
      </td>
    </tr>
    <tr>
      <td>
      <center><a href="gray/cats_low_m.bmp"><img
 src="gray/cats_low_m.png"></a> <br>
      <b>Marked B/W image</b> </center>
      </td>
      <td>
      <center><a href="gray/cats_res.bmp"><img src="gray/cats_res.png"></a>
      <br>
      <b>Result</b> </center>
      </td>
    </tr>
    <tr>
      <td>
      <center><a href="gray/waterfall_low_m.bmp"><img
 src="gray/waterfall_low_m.png"></a> <br>
      <b>Marked B/W image</b> </center>
      </td>
      <td>
      <center><a href="gray/waterfall_res.bmp"><img
 src="gray/waterfall_res.png"></a> <br>
      <b>Result</b> </center>
      </td>
    </tr>
    <tr>
      <td>
      <center><a href="gray/hair_m.bmp"><img src="gray/hair_m.png"></a>
      <br>
      <b>Marked B/W image</b> </center>
      </td>
      <td>
      <center><a href="gray/hair_res.bmp"><img src="gray/hair_res.png"></a>
      <br>
      <b>Result</b> </center>
      </td>
    </tr>
    <tr>
      <td>
      <center><a href="gray/monaco_low_m.bmp"><img width="320"
 src="gray/monaco_low_m.png"></a> <br>
      <b>Marked B/W image</b> </center>
      </td>
      <td>
      <center><a href="gray/monaco_res.bmp"><img width="320"
 src="gray/monaco_res.png"></a> <br>
      <b>Result</b> </center>
      </td>
    </tr>
  </tbody>
</table>
<br>
<hr width="100%">
<a name="interactive">
<h2>Progressive colorization:<br>
</h2>
</a>
<table cellpadding="10" style="width: 90%; height: 566px;">
  <tbody>
    <tr>
      <td style="width: 33%; vertical-align: top;">
      <center> <a href="gray/odeyaComp/odeya_m1.bmp"><img
 src="gray/odeyaComp/odeya_m1.png"></a><br>
      <span style="font-weight: bold;">a1 - Initial set of scribbles</span><br>
      </center>
      </td>
      <td style="width: 33%; vertical-align: top;">
      <center> <a href="gray/odeyaComp/odeya_m3.bmp"><img
 src="gray/odeyaComp/odeya_m3.png"></a><br>
      <span style="font-weight: bold;">b1 - Scribbles have been added
on the table cloth and the wall.<br>
      </span> </center>
      </td>
      <td style="width: 33%; vertical-align: top;">
      <center> <a href="gray/odeyaComp/odeya_m6.bmp"><img
 src="gray/odeyaComp/odeya_m6.png"></a><br>
      <span style="font-weight: bold;">c1 - A few red pixels have been
marked on the beads.<br>
      </span> </center>
      </td>
    </tr>
    <tr>
      <td style="width: 33%; vertical-align: top;">
      <center> <a href="gray/odeyaComp/odeya_res1.bmp"><img
 src="gray/odeyaComp/odeya_res1.png"></a><br>
      <span style="font-weight: bold;">a2 - Initial result. Note that
the table cloth gets the pink color of the girl's dress. Also, there is
a cyan color spill from the pacifier on the wall behind.</span><br>
      </center>
      </td>
      <td style="width: 33%; vertical-align: top;">
      <center> <a href="gray/odeyaComp/odeya_res3.bmp"><img
 src="gray/odeyaComp/odeya_res3.png"></a><br>
      <span style="font-weight: bold;">b2 - Second result. Problems
visible in a2 have been fixed.<br>
      </span> </center>
      </td>
      <td style="width: 33%; vertical-align: top;">
      <center> <a href="gray/odeyaComp/odeya_res6.bmp"><img
 src="gray/odeyaComp/odeya_res6.png"></a><br>
      <span style="font-weight: bold;">c2 - Final result. We now have a
string of red beads.<br>
      </span> </center>
      </td>
    </tr>
  </tbody>
</table>
<br>
<hr width="100%">
<a name="recolor">
<h2>Recoloring Examples:</h2>
</a><b>Click the images for uncompressed bitmaps.</b>
<br>
<br>
<table width="100%">
  <tbody>
    <tr>
      <td>
      <center><a href="cngColor/apple.bmp"><img width="240"
 src="cngColor/apple.png"></a> <br>
      <b>Input image</b> </center>
      </td>
      <td>
      <center><a href="cngColor/apple_m.bmp"><img width="240"
 src="cngColor/apple_m.png"></a> <br>
      <b>Marked image</b> </center>
      </td>
      <td>
      <center><a href="cngColor/apple_Sres.bmp"><img width="240"
 src="cngColor/apple_Sres.png"></a> <br>
      <b>Result</b> </center>
      </td>
    </tr>
    <tr>
      <td>
      <center><a href="cngColor/roni_org.bmp"><img width="240"
 src="cngColor/roni_org.png"></a> <br>
      <b>Input image</b> </center>
      </td>
      <td>
      <center><a href="cngColor/roni_org_m.bmp"><img width="240"
 src="cngColor/roni_org_m.png"></a> <br>
      <b>Marked image</b> </center>
      </td>
      <td>
      <center><a href="cngColor/roni_res5.bmp"><img width="240"
 src="cngColor/roni_res5.png"></a> <br>
      <b>Result</b> </center>
      </td>
    </tr>
    <tr>
      <td>
      <center><a href="cngColor/statue_sk2_000.bmp"><img width="240"
 src="cngColor/statue_sk2_000.png"></a> <br>
      <b>Input image</b> </center>
      </td>
      <td>
      <center><a href="cngColor/statue_sk2_000_m.bmp"><img width="240"
 src="cngColor/statue_sk2_000_m.png"></a> <br>
      <b>Marked image</b> </center>
      </td>
      <td>
      <center><a href="cngColor/statue_sk2_000_Sres.bmp"><img
 width="240" src="cngColor/statue_sk2_000_Sres.png"></a> <br>
      <b>Result</b> </center>
      </td>
    </tr>
    <tr>
      <td>
      <center><a href="cngColor/chair.bmp"><img width="240"
 src="cngColor/chair.png"></a> <br>
      <b>Input image</b> </center>
      </td>
      <td>
      <center><a href="cngColor/chair_m.bmp"><img width="240"
 src="cngColor/chair_m.png"></a> <br>
      <b>Marked image</b> </center>
      </td>
      <td>
      <center><a href="cngColor/chair_res.bmp"><img width="240"
 src="cngColor/chair_res.png"></a> <br>
      <b>Result</b> </center>
      </td>
    </tr>
    <tr>
      <td>
      <center><a href="toGray/flowers_s_000.bmp"><img width="240"
 src="toGray/flowers_s_000.png"></a> <br>
      <b>Input image</b> </center>
      </td>
      <td>
      <center><a href="toGray/flowers_s_000_m.bmp"><img width="240"
 src="toGray/flowers_s_000_m.png"></a> <br>
      <b>Marked image</b> </center>
      </td>
      <td>
      <center><a href="toGray/flowers_s_000_res.bmp"><img width="240"
 src="toGray/flowers_s_000_res.png"></a> <br>
      <b>Result</b> </center>
      </td>
    </tr>
  </tbody>
</table>
<br>
<hr width="100%">
<a name="video">
<h2>Video Clip Colorization Examples:</h2>
</a><b>The animated GIFs below use 8 bit color. For better color
quality
please play the QuickTime MPEG-4 movies.</b>
<br>
<br>
<table cellpadding="10" border="1"
 style="text-align: left; width: 800px; height: 628px;">
  <tbody>
    <tr>
      <td style="text-align: center; vertical-align: middle;"><span
 style="font-weight: bold;">Clip 1: Crater Lake.</span><br
 style="font-weight: bold;">
      <span style="font-weight: bold;">83 frames, 7 marked frames</span><br
 style="font-weight: bold;">
      <a href="clips/craterLake.mov"><span style="font-weight: bold;">Click
here for a QuickTime MPEG-4 movie.</span></a><br>
      </td>
      <td style="text-align: center; vertical-align: middle;">
      <div style="text-align: center;"><img
 style="width: 320px; height: 240px;" alt="" src="clips/lake-gray.gif"><br>
      </div>
      <div style="text-align: center;"><span style="font-weight: bold;">Input
grayscale clip</span><br>
      </div>
      </td>
    </tr>
    <tr>
      <td style="text-align: center; vertical-align: middle;">
      <center>&nbsp;<img style="width: 320px; height: 240px;" alt=""
 src="clips/lake-markings.gif"> <br>
      <b>Marked frames</b><br>
      </center>
      </td>
      <td style="text-align: center; vertical-align: middle;">
      <center> <img src="clips/lake.gif"> <span
 style="text-decoration: underline;"><span style="font-weight: bold;"><br>
      </span></span><span style="font-weight: bold;">Colorized result</span><span
 style="text-decoration: underline;"><span style="font-weight: bold;"><br>
      </span></span> </center>
      </td>
    </tr>
    <tr>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(204, 204, 204);"><br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(204, 204, 204);"><br>
      </td>
    </tr>
    <tr>
      <td style="text-align: center; vertical-align: middle;"><span
 style="font-weight: bold;">Clip 2: Toddler.</span><br
 style="font-weight: bold;">
      <span style="font-weight: bold;">43 frames, 5 marked frames</span><br
 style="font-weight: bold;">
      <a href="clips/toddler.mov"><span style="font-weight: bold;">Click
here for a QuickTime MPEG-4 movie.</span></a></td>
      <td style="text-align: center; vertical-align: middle;"><img
 style="width: 320px; height: 240px;" alt=""
 src="clips/toddler-gray.gif"><br>
      <span style="font-weight: bold;">Input grayscale clip</span><br>
      </td>
    </tr>
    <tr>
      <td style="text-align: center; vertical-align: middle;">
      <center><img style="width: 240px; height: 320px;" alt=""
 src="clips/toddler-markings.gif"><br>
      <b>Marked frames</b><br>
      </center>
      </td>
      <td style="text-align: center; vertical-align: middle;"><img
 style="width: 320px; height: 240px;" alt="" src="clips/toddler.gif"><br>
      <span style="font-weight: bold;">Colorized result</span><br>
      </td>
    </tr>
    <tr>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(204, 204, 204);"><br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(204, 204, 204);"><br>
      </td>
    </tr>
    <tr>
      <td style="text-align: center; vertical-align: middle;"><span
 style="font-weight: bold;">Clip 3:
Birthday.</span><br style="font-weight: bold;">
      <span style="font-weight: bold;">62 frames, 10 marked frames</span><br
 style="font-weight: bold;">
      <a href="clips/birthday.mov"><span style="font-weight: bold;">Click
here for a QuickTime MPEG-4 movie.</span></a></td>
      <td style="text-align: center; vertical-align: middle;">
      <div style="text-align: center;"><img
 style="width: 320px; height: 240px;" alt="" src="clips/party-gray.gif"><br>
      </div>
      <div style="text-align: center;"><span style="font-weight: bold;">Input
grayscale clip</span><br>
      </div>
      </td>
    </tr>
    <tr>
      <td style="text-align: center; vertical-align: middle;">
      <center><img style="width: 320px; height: 240px;" alt=""
 src="clips/party-markings.gif"><br>
      <b>Marked frames</b><br>
      </center>
      </td>
      <td style="text-align: center; vertical-align: middle;"><img
 style="width: 320px; height: 240px;" alt="" src="clips/party.gif"><br>
      <span style="font-weight: bold;">Colorized clip</span><br>
      </td>
    </tr>
    <tr>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(204, 204, 204);"><br>
      </td>
      <td
 style="text-align: center; vertical-align: middle; background-color: rgb(204, 204, 204);"><br>
      </td>
    </tr>
    <tr>
      <td style="text-align: center; vertical-align: middle;"><span
 style="font-weight: bold;">Clip 4: Driving.</span><br
 style="font-weight: bold;">
      <span style="font-weight: bold;">33 frames, 9 marked frames</span><br
 style="font-weight: bold;">
      <a href="clips/driving.mov"><span style="font-weight: bold;">Click
here for a QuickTime MPEG-4 movie.</span></a></td>
      <td style="text-align: center; vertical-align: middle;"><img
 style="width: 320px; height: 240px;" alt="" src="clips/car-gray.gif"><br>
      <span style="font-weight: bold;">Input grayscale clip</span><br>
      </td>
    </tr>
    <tr>
      <td style="text-align: center; vertical-align: middle;">
      <center><img style="width: 320px; height: 240px;" alt=""
 src="clips/car-markings.gif"><br>
      <b>Marked frames</b><br>
      </center>
      </td>
      <td style="text-align: center; vertical-align: middle;"><img
 style="width: 320px; height: 240px;" alt="" src="clips/car.gif"><br>
      <span style="font-weight: bold;">Colorized clip</span><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<hr style="width: 100%; height: 2px;">
</body>
</html>
