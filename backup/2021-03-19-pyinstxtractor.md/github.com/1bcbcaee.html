---
title : 自动快照存档
---

* TIME: 2021-03-19 17:00:22
* URL: <https://github.com/rocky/python-uncompyle6/>

-----

Skip to content

[ ](https://github.com/)

[ Sign up
](/join?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-
name%3E%2F%3Crepo-name%3E&source=header-repo) [ Sign up
](/join_next?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-
name%3E%2F%3Crepo-name%3E&source=header-repo)

  * Why GitHub? 

[Features →](/features)

    * [Mobile →](/mobile)
    * [Actions →](/features/actions)
    * [Codespaces →](/features/codespaces)
    * [Packages →](/features/packages)
    * [Security →](/features/security)
    * [Code review →](/features/code-review/)
    * [Project management →](/features/project-management/)
    * [Integrations →](/features/integrations)
    * [GitHub Sponsors →](/sponsors)
    * [Customer stories→](/customer-stories)

  * [Team](/team)
  * [Enterprise](/enterprise)
  * Explore 

    * [Explore GitHub →](/explore)

#### Learn and contribute

    * [Topics →](/topics)
    * [Collections →](/collections)
    * [Trending →](/trending)
    * [Learning Lab →](https://lab.github.com/)
    * [Open source guides →](https://opensource.guide)

#### Connect with others

    * [The ReadME Project →](https://github.com/readme)
    * [Events →](https://github.com/events)
    * [Community forum →](https://github.community)
    * [GitHub Education →](https://education.github.com)
    * [GitHub Stars program →](https://stars.github.com)

  * [Marketplace](/marketplace)
  * Pricing 

[Plans →](/pricing)

    * [Compare plans →](/pricing#feature-comparison)
    * [Contact Sales →](https://enterprise.github.com/contact)
    * [Education →](https://education.github.com)

![](https://github.githubassets.com/images/search-key-slash.svg)

  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()

  * No suggested jump to results

  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()
  * [ ![]() In this user  All GitHub  ↵ Jump to ↵ ]()
  * [ ![]() In this repository  All GitHub  ↵ Jump to ↵ ]()

[ Sign in ](/login?return_to=%2Frocky%2Fpython-uncompyle6) [ Sign up
](/join?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-
name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=rocky%2Fpython-
uncompyle6) [ Sign up
](/join_next?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-
name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=rocky%2Fpython-
uncompyle6)

{{ message }}

#  [rocky](/rocky) / **[python-uncompyle6](/rocky/python-uncompyle6) **

  * Sponsor 

###  Sponsor rocky/python-uncompyle6

  * [ Notifications ](/login?return_to=%2Frocky%2Fpython-uncompyle6)
  * [ Star ](/login?return_to=%2Frocky%2Fpython-uncompyle6) [ 2.1k ](/rocky/python-uncompyle6/stargazers)
  * [ Fork ](/login?return_to=%2Frocky%2Fpython-uncompyle6) [ 245 ](/rocky/python-uncompyle6/network/members)

A cross-version Python bytecode decompiler

[ GPL-3.0 License ](/rocky/python-uncompyle6/blob/master/COPYING)

[ 2.1k stars ](/rocky/python-uncompyle6/stargazers) [ 245 forks
](/rocky/python-uncompyle6/network/members)

[ Star ](/login?return_to=%2Frocky%2Fpython-uncompyle6)

[ Notifications ](/login?return_to=%2Frocky%2Fpython-uncompyle6)

  * [ Code ](/rocky/python-uncompyle6)
  * [ Issues 37 ](/rocky/python-uncompyle6/issues)
  * [ Pull requests 0 ](/rocky/python-uncompyle6/pulls)
  * [ Actions ](/rocky/python-uncompyle6/actions)
  * [ Projects 1 ](/rocky/python-uncompyle6/projects)
  * [ Wiki ](/rocky/python-uncompyle6/wiki)
  * [ Security ](/rocky/python-uncompyle6/security)
  * [ Insights ](/rocky/python-uncompyle6/pulse)

More

  * [ Code ](/rocky/python-uncompyle6)
  * [ Issues ](/rocky/python-uncompyle6/issues)
  * [ Pull requests ](/rocky/python-uncompyle6/pulls)
  * [ Actions ](/rocky/python-uncompyle6/actions)
  * [ Projects ](/rocky/python-uncompyle6/projects)
  * [ Wiki ](/rocky/python-uncompyle6/wiki)
  * [ Security ](/rocky/python-uncompyle6/security)
  * [ Insights ](/rocky/python-uncompyle6/pulse)

master

Switch branches/tags

Branches Tags

Nothing to show

[ {{ refName }} default ](https://github.com/rocky/python-uncompyle6/tree/{{
urlEncodedRefName }}) [View all branches](/rocky/python-uncompyle6/branches)

Nothing to show

[ {{ refName }} default ](https://github.com/rocky/python-uncompyle6/tree/{{
urlEncodedRefName }})

[View all tags](/rocky/python-uncompyle6/tags)

[ **3** branches ](/rocky/python-uncompyle6/branches) [ **147** tags
](/rocky/python-uncompyle6/tags)

[ Go to file ](/rocky/python-uncompyle6/find/master) Code

[ ](https://docs.github.com/articles/which-remote-url-should-i-use)

Clone

HTTPS  GitHub CLI

Use Git or checkout with SVN using the web URL.

Work fast with our official CLI. [Learn more](https://cli.github.com).

  * [ Open with GitHub Desktop ](https://desktop.github.com)
  * [ Download ZIP ](/rocky/python-uncompyle6/archive/master.zip)

#### Launching GitHub Desktop

If nothing happens, [download GitHub Desktop](https://desktop.github.com/) and
try again.

Go back

#### Launching GitHub Desktop

If nothing happens, [download GitHub Desktop](https://desktop.github.com/) and
try again.

Go back

#### Launching Xcode

If nothing happens, [download Xcode](https://developer.apple.com/xcode/) and
try again.

Go back

#### Launching Visual Studio

If nothing happens, [download the GitHub extension for Visual
Studio](https://visualstudio.github.com/) and try again.

Go back

## Latest commit

[ ![@rocky](https://avatars.githubusercontent.com/u/8851?s=48&v=4) ](/rocky)

[rocky](/rocky/python-uncompyle6/commits?author=rocky "View all commits by
rocky") [Merge pull request](/rocky/python-
uncompyle6/commit/5d35a757438e76db89f68c3b4d13df456bb300b3 "Merge pull request
#340 from timgates42/bugfix_typo_unnecessary

docs: fix simple typo, unecessary -> unnecessary")
[#340](https://github.com/rocky/python-uncompyle6/pull/340) [from
timgates42/bugfix_typo_unnecessary](/rocky/python-
uncompyle6/commit/5d35a757438e76db89f68c3b4d13df456bb300b3 "Merge pull request
#340 from timgates42/bugfix_typo_unnecessary

docs: fix simple typo, unecessary -> unnecessary")

…

Loading status checks…

[ 5d35a75 ](/rocky/python-
uncompyle6/commit/5d35a757438e76db89f68c3b4d13df456bb300b3) [ on 31 Dec 2020
](/rocky/python-uncompyle6/commit/5d35a757438e76db89f68c3b4d13df456bb300b3)

[Merge pull request](/rocky/python-
uncompyle6/commit/5d35a757438e76db89f68c3b4d13df456bb300b3)
[#340](https://github.com/rocky/python-uncompyle6/pull/340) [from
timgates42/bugfix_typo_unnecessary](/rocky/python-
uncompyle6/commit/5d35a757438e76db89f68c3b4d13df456bb300b3)

    
    
    docs: fix simple typo, unecessary -> unnecessary

5d35a75

## Git stats

  * [ **2,998** commits  ](/rocky/python-uncompyle6/commits/master)

## Files

[Permalink](/rocky/python-
uncompyle6/tree/5d35a757438e76db89f68c3b4d13df456bb300b3)

Failed to load latest commit information.

Type

Name

Latest commit message

Commit time

[.circleci](/rocky/python-uncompyle6/tree/master/.circleci ".circleci")

[Get ready for release 3.7.1](/rocky/python-
uncompyle6/commit/de4fbb08f2ffc58a0e6903fe940765f31df9f780 "Get ready for
release 3.7.1")

9 months ago

[.github](/rocky/python-uncompyle6/tree/master/.github ".github")

[Use "co_consts" in docstring detection.](/rocky/python-
uncompyle6/commit/a215ee2f0079d02ff24c10b5cf38b320e6502cf4 "Use "co_consts" in
docstring detection.

Note: this is an upheaval because we need to pass "code" or at least

"code.co_consts" to the docstring detection routine")

8 months ago

[admin-tools](/rocky/python-uncompyle6/tree/master/admin-tools "admin-tools")

[Get ready for release 3.7.4](/rocky/python-
uncompyle6/commit/28855767fbea232d281765394bc3ad219beee5ea "Get ready for
release 3.7.4")

7 months ago

[appveyor](/rocky/python-uncompyle6/tree/master/appveyor "appveyor")

[Try appveyor](/rocky/python-
uncompyle6/commit/9c0ef9fa6325ee1ef7b1ec86e3472f05d65f1c07 "Try appveyor")

4 years ago

[bin](/rocky/python-uncompyle6/tree/master/bin "bin")

[Python packaging - yet again.](/rocky/python-
uncompyle6/commit/e0eba6998f8490b5427ba051f4807f7e542b8df6 "Python packaging -
yet again.

Did I ever mention how much Python sucks at packaging?")

5 years ago

[pytest](/rocky/python-uncompyle6/tree/master/pytest "pytest")

[Revise for xdis 3.6.0 ...](/rocky/python-
uncompyle6/commit/3fb8d9040705a6d9f3136775d5a7f8aaf84b6471 "Revise for xdis
3.6.0 ...

Simplify xdis imports where we can.

Blacken \(most\) of those buffers too")

10 months ago

[test](/rocky/python-uncompyle6/tree/master/test "test")

[docs: fix simple typo, unecessary -> unnecessary](/rocky/python-
uncompyle6/commit/fc38e23d8f2d4924a961943e91a03b2986954a17 "docs: fix simple
typo, unecessary -> unnecessary

There is a small typo in test/simple_source/looping/12_if_while_true_pass.py.

Should read `unnecessary` rather than `unecessary`.")

3 months ago

[uncompyle6](/rocky/python-uncompyle6/tree/master/uncompyle6 "uncompyle6")

[Fix annotation transform for 3.7+](/rocky/python-
uncompyle6/commit/5c16c73a6c12b7fd3ba67c1379ba65c8bcc69cbe "Fix annotation
transform for 3.7+

We were producing:

```

z: z: int = 5 on bytecode_3.7_run/02_var_annotate.pyc

```

because grammar went

     5. sstmt
        ann_assign \(4\) transformed by n_stmts: \('%|%\[2\]{attr}: %c\\n', 0\)
             0. ann_assign_init \(3\): \('%|%\[2\]{attr}: %c = %c\\n', 0, 1\)

The "ann_assign" added "z:". Instead we have now:

```

     5. sstmt
        ann_assign_init \(3\) transformed by n_stmts: \('%|%\[2\]{attr}: %c = %c\\n', 0, 1\)
```

Also, in the previous statement which appears in the listing \(but is not

actually in the finaly tree\) we had:

     4. sstmt
        assign \(2\): \('%|%c = %p\\n', -1, \(0, 200\)\)
             0. expr
                L. L.   7        26  LOAD_CONST               5
             1. store

So we now preface the node type with "deleted", e.g.:

     4. deleted sstmt
        assign \(2\): \('%|%c = %p\\n', -1, \(0, 200\)\)
             0. expr
                L. L.   7        26  LOAD_CONST               5
             1. store

to reduce confusion")

3 months ago

[.gitignore](/rocky/python-uncompyle6/blob/master/.gitignore ".gitignore")

[Adapt decompyle3's 3.8 try/return grammar rules](/rocky/python-
uncompyle6/commit/4365022f4041f44b6e61fe8cd88fbe2e4c0d81c9 "Adapt decompyle3's
3.8 try/return grammar rules")

10 months ago

[.travis.yml](/rocky/python-uncompyle6/blob/master/.travis.yml ".travis.yml")

[Get ready for release 3.7.1](/rocky/python-
uncompyle6/commit/de4fbb08f2ffc58a0e6903fe940765f31df9f780 "Get ready for
release 3.7.1")

9 months ago

[COPYING](/rocky/python-uncompyle6/blob/master/COPYING "COPYING")

[Move to GPL3 license](/rocky/python-
uncompyle6/commit/c43c9a19aa75b17e4fdf3ff9965a5ee561933d64 "Move to GPL3
license")

3 years ago

[DECOMPYLE-2.4-CHANGELOG.txt](/rocky/python-
uncompyle6/blob/master/DECOMPYLE-2.4-CHANGELOG.txt
"DECOMPYLE-2.4-CHANGELOG.txt")

[Add hartmut Goebel's changes before 2.4](/rocky/python-
uncompyle6/commit/4d046eb0bd49f33bf24b230e23df76641bc6f7a1 "Add hartmut
Goebel's changes before 2.4")

5 years ago

[HISTORY.md](/rocky/python-uncompyle6/blob/master/HISTORY.md "HISTORY.md")

[Update HISTORY.md](/rocky/python-
uncompyle6/commit/4c4aa393df24792aa1979657fdf18c31855355c7 "Update
HISTORY.md")

2 years ago

[HOW-TO-REPORT-A-BUG.md](/rocky/python-uncompyle6/blob/master/HOW-TO-REPORT-A-
BUG.md "HOW-TO-REPORT-A-BUG.md")

[Tweak.](/rocky/python-
uncompyle6/commit/fa1d7e4af4dd3c32e7d7616318fbdbc9570be2c0 "Tweak.")

9 months ago

[MANIFEST.in](/rocky/python-uncompyle6/blob/master/MANIFEST.in "MANIFEST.in")

[Move to GPL3 license](/rocky/python-
uncompyle6/commit/c43c9a19aa75b17e4fdf3ff9965a5ee561933d64 "Move to GPL3
license")

3 years ago

[Makefile](/rocky/python-uncompyle6/blob/master/Makefile "Makefile")

[Pypy 3.6.9 tolerance](/rocky/python-
uncompyle6/commit/cda0154594d5ead8da2b8c1da9e073ff59b6a59d "Pypy 3.6.9
tolerance")

16 months ago

[NEWS.md](/rocky/python-uncompyle6/blob/master/NEWS.md "NEWS.md")

[Get ready for release 3.7.4](/rocky/python-
uncompyle6/commit/28855767fbea232d281765394bc3ad219beee5ea "Get ready for
release 3.7.4")

7 months ago

[PKG-INFO](/rocky/python-uncompyle6/blob/master/PKG-INFO "PKG-INFO")

[Small changes and administrivia](/rocky/python-
uncompyle6/commit/6956e88e0e0e9a977e35153486eb0c851f755743 "Small changes and
administrivia")

5 years ago

[README.rst](/rocky/python-uncompyle6/blob/master/README.rst "README.rst")

[Update README.rst](/rocky/python-
uncompyle6/commit/c2ee564e117ad75668cf50223e152eac038564ac "Update
README.rst")

4 months ago

[__pkginfo__.py](/rocky/python-uncompyle6/blob/master/__pkginfo__.py
"__pkginfo__.py")

[VERSION -> version](/rocky/python-
uncompyle6/commit/70b7e51df6291e2d391018bdbfcff5d8460b301b "VERSION ->
version")

5 months ago

[appveyor.yml](/rocky/python-uncompyle6/blob/master/appveyor.yml
"appveyor.yml")

[See above.](/rocky/python-
uncompyle6/commit/a4eaeea5b2782e37806334a93a94d716942b719c "See above.")

11 months ago

[compile_tests](/rocky/python-uncompyle6/blob/master/compile_tests
"compile_tests")

[first commit](/rocky/python-
uncompyle6/commit/b820316f373a048678632adfb7b23612ebe64ddb "first commit")

9 years ago

[requirements-dev.txt](/rocky/python-uncompyle6/blob/master/requirements-
dev.txt "requirements-dev.txt")

[Go over full-version testing](/rocky/python-
uncompyle6/commit/9f270dce4a4f4944023b5aeaa0e429812f959b72 "Go over full-
version testing

When all versions, do less, but do the run tests. Overall overall

better.

Get rid of the tests that were the most problematic with hypothesis.

Hypothesis just doesn't run on enough versions and needs specific

versions for things we do use")

15 months ago

[requirements.txt](/rocky/python-uncompyle6/blob/master/requirements.txt
"requirements.txt")

[Administrivia: Remove six dependency..](/rocky/python-
uncompyle6/commit/201e5b18b1ad20704217f31ef529f84b42d8bcfb "Administrivia:
Remove six dependency..

add version of hypothesis known to work")

3 years ago

[setup.cfg](/rocky/python-uncompyle6/blob/master/setup.cfg "setup.cfg")

[Administrivia](/rocky/python-
uncompyle6/commit/f98f7372c3c663a6d75e63576338053a3c2973df "Administrivia")

15 months ago

[setup.py](/rocky/python-uncompyle6/blob/master/setup.py "setup.py")

[VERSION -> version](/rocky/python-
uncompyle6/commit/70b7e51df6291e2d391018bdbfcff5d8460b301b "VERSION ->
version")

5 months ago

[tox.ini](/rocky/python-uncompyle6/blob/master/tox.ini "tox.ini")

[Small int thing and sync with decompyle3](/rocky/python-
uncompyle6/commit/33bff4dc47c4c477fd344127d0872a038312598e "Small int thing
and sync with decompyle3")

7 months ago

View code

##  README.rst

[![buildstatus](https://camo.githubusercontent.com/10ad6442af009f84d7f3754a9c33650b533c3be524ac860c8f057694efea7861/68747470733a2f2f7472617669732d63692e6f72672f726f636b792f707974686f6e2d756e636f6d70796c65362e737667)
](https://travis-ci.org/rocky/python-uncompyle6) [![Pypi
Installs](https://camo.githubusercontent.com/30aa459384b371a7b156f578205a0fb16fc0919c9f4e6d855574d4854b4da788/68747470733a2f2f706570792e746563682f62616467652f756e636f6d70796c65362f6d6f6e7468)](https://camo.githubusercontent.com/30aa459384b371a7b156f578205a0fb16fc0919c9f4e6d855574d4854b4da788/68747470733a2f2f706570792e746563682f62616467652f756e636f6d70796c65362f6d6f6e7468)
[![Latest
Version](https://camo.githubusercontent.com/5169e7e1089fceb49573a1225e091f65fd73acbf6232d2312456ed69f98f8b16/68747470733a2f2f62616467652e667572792e696f2f70792f756e636f6d70796c65362e737667)
](https://badge.fury.io/py/uncompyle6) [![Supported Python
Versions](https://camo.githubusercontent.com/4d5f0ccc549dcde1e6ae4ee94f400d476ee3d1da72c6ffba982c348a98418095/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f756e636f6d70796c65362e737667)](https://camo.githubusercontent.com/4d5f0ccc549dcde1e6ae4ee94f400d476ee3d1da72c6ffba982c348a98418095/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f756e636f6d70796c65362e737667)

[![packagestatus](https://camo.githubusercontent.com/010e206ee8f670b1d7da618fbd9ca69f2a5bee3300e18d39200da97c178ab938/68747470733a2f2f7265706f6c6f67792e6f72672f62616467652f766572746963616c2d616c6c7265706f732f707974686f6e3a756e636f6d70796c65362e737667)
](https://repology.org/project/python:uncompyle6/versions)

## uncompyle6

A native Python cross-version decompiler and fragment decompiler. The
successor to decompyle, uncompyle, and uncompyle2.

### Introduction

_uncompyle6_ translates Python bytecode back into equivalent Python source
code. It accepts bytecodes from Python version 1.0 to version 3.8, spanning
over 24 years of Python releases. We include Dropbox's Python 2.5 bytecode and
some PyPy bytecodes.

### Why this?

Ok, I'll say it: this software is amazing. It is more than your normal hacky
decompiler. Using [compiler](https://pypi.python.org/pypi/spark_parser)
technology, the program creates a parse tree of the program from the
instructions; nodes at the upper levels that look a little like what might
come from a Python AST. So we can really classify and understand what's going
on in sections of Python bytecode.

Building on this, another thing that makes this different from other CPython
bytecode decompilers is the ability to deparse just _fragments_ of source code
and give source-code information around a given bytecode offset.

I use the tree fragments to deparse fragments of code _at run time_ inside my
[trepan](https://pypi.python.org/pypi/trepan2g)
[debuggers](https://pypi.python.org/pypi/trepan3k). For that, bytecode offsets
are recorded and associated with fragments of the source code. This purpose,
although compatible with the original intention, is yet a little bit
different. See [this](https://github.com/rocky/python-
uncompyle6/wiki/Deparsing-technology-and-its-use-in-exact-location-reporting)
for more information.

Python fragment deparsing given an instruction offset is useful in showing
stack traces and can be encorporated into any program that wants to show a
location in more detail than just a line number at runtime. This code can be
also used when source-code information does not exist and there is just
bytecode. Again, my debuggers make use of this.

There were (and still are) a number of decompyle, uncompyle, uncompyle2,
uncompyle3 forks around. Many of them come basically from the same code base,
and (almost?) all of them are no longer actively maintained. One was really
good at decompiling Python 1.5-2.3, another really good at Python 2.7, but
that only. Another handles Python 3.2 only; another patched that and handled
only 3.3. You get the idea. This code pulls all of these forks together and
_moves forward_. There is some serious refactoring and cleanup in this code
base over those old forks. Even more experimental refactoring is going on in
[decompyle3](https://github.com/rocky/python-decompile3).

This demonstrably does the best in decompiling Python across all Python
versions. And even when there is another project that only provides
decompilation for subset of Python versions, we generally do demonstrably
better for those as well.

How can we tell? By taking Python bytecode that comes distributed with that
version of Python and decompiling these. Among those that successfully
decompile, we can then make sure the resulting programs are syntactically
correct by running the Python interpreter for that bytecode version. Finally,
in cases where the program has a test for itself, we can run the check on the
decompiled code.

We use an automated processes to find bugs. In the issue trackers for other
decompilers, you will find a number of bugs we've found along the way. Very
few to none of them are fixed in the other decompilers.

### Requirements

The code here can be run on Python versions 2.6 or later, PyPy 3-2.4 and
later. Python versions 2.4-2.7 are supported in the python-2.4 branch. The
bytecode files it can read have been tested on Python bytecodes from versions
1.4, 2.1-2.7, and 3.0-3.8 and later PyPy versions.

### Installation

This uses setup.py, so it follows the standard Python routine:

    
    
    $ pip install -e .  # set up to run from source tree
                        # Or if you want to install instead
    $ python setup.py install # may need sudo
    

A GNU makefile is also provided so `make install` (possibly as root or sudo)
will do the steps above.

### Running Tests

    
    
    make check
    

A GNU makefile has been added to smooth over setting running the right
command, and running tests from fastest to slowest.

If you have [remake](https://bashdb.sf.net/remake) installed, you can see the
list of all tasks including tests via `remake --tasks`

### Usage

Run

    
    
    $ uncompyle6 *compiled-python-file-pyc-or-pyo*
    

For usage help:

    
    
    $ uncompyle6 -h
    

### Verification

In older versions of Python it was possible to verify bytecode by decompiling
bytecode, and then compiling using the Python interpreter for that bytecode
version. Having done this the bytecode produced could be compared with the
original bytecode. However as Python's code generation got better, this no
longer was feasible.

If you want Python syntax verification of the correctness of the decompilation
process, add the `--syntax-verify` option. However since Python syntax
changes, you should use this option if the bytecode is the right bytecode for
the Python interpreter that will be checking the syntax.

You can also cross compare the results with either another version of
uncompyle6 since there are are sometimes regressions in decompiling specific
bytecode as the overall quality improves.

For Python 3.7 and above, the code in
[decompyle3](https://github.com/rocky/python-decompile3) is generally better.

Or try specific another python decompiler like
[uncompyle2](https://github.com/wibiti/uncompyle2),
[unpyc37](https://github.com/andrew-tavera/unpyc37), or
[pycdc](https://github.com/zrax/pycdc). Since the later two work differently,
bugs here often aren't in that, and vice versa.

There is an interesting class of these programs that is readily available give
stronger verification: those programs that when run test themselves. Our test
suite includes these.

And Python comes with another a set of programs like this: its test suite for
the standard library. We have some code in `test/stdlib` to facilitate this
kind of checking too.

### Known Bugs/Restrictions

The biggest known and possibly fixable (but hard) problem has to do with
handling control flow. (Python has probably the most diverse and screwy set of
compound statements I've ever seen; there are "else" clauses on loops and try
blocks that I suspect many programmers don't know about.)

All of the Python decompilers that I have looked at have problems decompiling
Python's control flow. In some cases we can detect an erroneous decompilation
and report that.

Python support is pretty good for Python 2

On the lower end of Python versions, decompilation seems pretty good although
we don't have any automated testing in place for Python's distributed tests.
Also, we don't have a Python interpreter for versions 1.6, and 2.0.

In the Python 3 series, Python support is is strongest around 3.4 or 3.3 and
drops off as you move further away from those versions. Python 3.0 is weird in
that it in some ways resembles 2.6 more than it does 3.1 or 2.7. Python 3.6
changes things drastically by using word codes rather than byte codes. As a
result, the jump offset field in a jump instruction argument has been reduced.
This makes the `EXTENDED_ARG` instructions are now more prevalent in jump
instruction; previously they had been rare. Perhaps to compensate for the
additional `EXTENDED_ARG` instructions, additional jump optimization has been
added. So in sum handling control flow by ad hoc means as is currently done is
worse.

Between Python 3.5, 3.6, 3.7 there have been major changes to the
`MAKE_FUNCTION` and `CALL_FUNCTION` instructions.

Python 3.8 removes `SETUP_LOOP`, `SETUP_EXCEPT`, `BREAK_LOOP`, and
`CONTINUE_LOOP`, instructions which may make control-flow detection harder,
lacking the more sophisticated control-flow analysis that is planned. We'll
see.

Currently not all Python magic numbers are supported. Specifically in some
versions of Python, notably Python 3.6, the magic number has changes several
times within a version.

**We support only released versions, not candidate versions.** Note however
that the magic of a released version is usually the same as the _last_
candidate version prior to release.

There are also customized Python interpreters, notably Dropbox, which use
their own magic and encrypt bytecode. With the exception of the Dropbox's old
Python 2.5 interpreter this kind of thing is not handled.

We also don't handle
[PJOrion](http://www.koreanrandom.com/forum/topic/15280-pjorion-%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%BC%D0%BF%D0%B8%D0%BB%D1%8F%D1%86%D0%B8%D1%8F-%D0%B4%D0%B5%D0%BA%D0%BE%D0%BC%D0%BF%D0%B8%D0%BB%D1%8F%D1%86%D0%B8%D1%8F-%D0%BE%D0%B1%D1%84)
or otherwise obfuscated code. For PJOrion try: PJOrion
[Deobfuscator](https://github.com/extremecoders-re/PjOrion-Deobfuscator) to
unscramble the bytecode to get valid bytecode before trying this tool. This
program can't decompile Microsoft Windows EXE files created by
[Py2EXE](https://en.wikipedia.org/wiki/Py2exe), although we can probably
decompile the code after you extract the bytecode properly. Handling
pathologically long lists of expressions or statements is slow. We don't
handle [Cython](https://en.wikipedia.org/wiki/Cython) or MicroPython which
don't use bytecode.

There are numerous bugs in decompilation. And that's true for every other
CPython decompiler I have encountered, even the ones that claimed to be
"perfect" on some particular version like 2.4.

As Python progresses decompilation also gets harder because the compilation is
more sophisticated and the language itself is more sophisticated. I suspect
that attempts there will be fewer ad-hoc attempts like
[unpyc37](https://github.com/andrew-tavera/unpyc37) (which is based on a 3.3
decompiler) simply because it is harder to do so. The good news, at least from
my standpoint, is that I think I understand what's needed to address the
problems in a more robust way. But right now until such time as project is
better funded, I do not intend to make any serious effort to support Python
versions 3.8 or 3.9, including bugs that might come in. I imagine at some
point I may be interested in it.

You can easily find bugs by running the tests against the standard test suite
that Python uses to check itself. At any given time, there are dozens of known
problems that are pretty well isolated and that could be solved if one were to
put in the time to do so. The problem is that there aren't that many people
who have been working on bug fixing.

Some of the bugs in 3.7 and 3.8 are simply a matter of back-porting the fixes
in decompyle3.

You may run across a bug, that you want to report. Please do so. But be aware
that it might not get my attention for a while. If you sponsor or support the
project in some way, I'll prioritize your issues above the queue of other
things I might be doing instead.

### See Also

  * <https://github.com/rocky/python-decompile3> : Much smaller and more modern code, focusing on 3.7+. Changes in that will get migrated back here.
  * <https://code.google.com/archive/p/unpyc3/> : supports Python 3.2 only. The above projects use a different decompiling technique than what is used here. Currently unmaintained.
  * <https://github.com/figment/unpyc3/> : fork of above, but supports Python 3.3 only. Includes some fixes like supporting function annotations. Currently unmaintained.
  * <https://github.com/wibiti/uncompyle2> : supports Python 2.7 only, but does that fairly well. There are situations where `uncompyle6` results are incorrect while `uncompyle2` results are not, but more often uncompyle6 is correct when uncompyle2 is not. Because `uncompyle6` adheres to accuracy over idiomatic Python, `uncompyle2` can produce more natural-looking code when it is correct. Currently `uncompyle2` is lightly maintained. See its issue [tracker](https://github.com/wibiti/uncompyle2/issues) for more details
  * [How to report a bug](https://github.com/rocky/python-uncompyle6/blob/master/HOW-TO-REPORT-A-BUG.md)
  * The [HISTORY](https://github.com/rocky/python-uncompyle6/blob/master/HISTORY.md) file.
  * <https://github.com/rocky/python-xdis> : Cross Python version disassembler
  * <https://github.com/rocky/python-xasm> : Cross Python version assembler
  * <https://github.com/rocky/python-uncompyle6/wiki> : Wiki Documents which describe the code and aspects of it in more detail
  * <https://github.com/zrax/pycdc> : The README for this C++ code says it aims to support all versions of Python. It is best for Python versions around 2.7 and 3.3 when the code was initially developed. Accuracy for current versions of Python3 and early versions of Python is lacking. Without major effort, it is unlikely it can be made to support current Python 3. See its [issue tracker](https://github.com/zrax/pycdc/issues) for details. Currently lightly maintained.

## About

A cross-version Python bytecode decompiler

### Topics

[ python ](/topics/python "Topic: python") [ bytecode ](/topics/bytecode
"Topic: bytecode") [ decompiler ](/topics/decompiler "Topic: decompiler")

### Resources

Readme

### License

[ GPL-3.0 License ](/rocky/python-uncompyle6/blob/master/COPYING)

##  [ Releases 147 ](/rocky/python-uncompyle6/releases)

[ 3.7.4 Latest  on 5 Sep 2020 ](/rocky/python-uncompyle6/releases/tag/3.7.4)

[ \+ 146 releases ](/rocky/python-uncompyle6/releases)

## Sponsor this project

[ ![@rocky](https://avatars.githubusercontent.com/u/8851?s=88&v=4) ](/rocky) [
**rocky** R. Bernstein ](/rocky)

[ Sponsor ](/sponsors/rocky)

[Learn more about GitHub Sponsors](/sponsors)

##  [ Packages 0 ](/users/rocky/packages?repo_name=python-uncompyle6)

No packages published  

##  [ Contributors 23 ](/rocky/python-uncompyle6/graphs/contributors)

  * [ ![@rocky](https://avatars.githubusercontent.com/u/8851?s=64&v=4) ](/rocky)
  * [ ![@moagstar](https://avatars.githubusercontent.com/u/879561?s=64&v=4) ](/moagstar)
  * [ ![@Mysterie](https://avatars.githubusercontent.com/u/140181?s=64&v=4) ](/Mysterie)
  * [ ![@thedrow](https://avatars.githubusercontent.com/u/48936?s=64&v=4) ](/thedrow)
  * [ ![@grkov90](https://avatars.githubusercontent.com/u/1639876?s=64&v=4) ](/grkov90)
  * [ ![@wangym5106](https://avatars.githubusercontent.com/u/4111676?s=64&v=4) ](/wangym5106)
  * [ ![@byehack](https://avatars.githubusercontent.com/u/26390254?s=64&v=4) ](/byehack)
  * [ ![@cclauss](https://avatars.githubusercontent.com/u/3709715?s=64&v=4) ](/cclauss)
  * [ ![@htgoebel](https://avatars.githubusercontent.com/u/784161?s=64&v=4) ](/htgoebel)
  * [ ![@tux2024](https://avatars.githubusercontent.com/u/30010906?s=64&v=4) ](/tux2024)

[ \+ 12 contributors ](/rocky/python-uncompyle6/graphs/contributors)

## Languages

  * [ Python 96.1% ](/rocky/python-uncompyle6/search?l=python)
  * [ Shell 2.9% ](/rocky/python-uncompyle6/search?l=shell)
  * Other 1.0%

  * © 2021 GitHub, Inc.
  * [Terms](https://docs.github.com/en/github/site-policy/github-terms-of-service)
  * [Privacy](https://docs.github.com/en/github/site-policy/github-privacy-statement)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Docs](https://docs.github.com)

[ ](https://github.com "GitHub")

  * [Contact GitHub](https://support.github.com)
  * [Pricing](https://github.com/pricing)
  * [API](https://docs.github.com)
  * [Training](https://services.github.com)
  * [Blog](https://github.blog)
  * [About](https://github.com/about)

You can’t perform that action at this time.

You signed in with another tab or window. [Reload]() to refresh your session.
You signed out in another tab or window. [Reload]() to refresh your session.

