<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml" class=" js csstransforms csstransforms3d csstransitions"><head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
<link rel="alternate" type="application/rss+xml" title="RSS 2.0 - all posts" href="http://www.skywind.me/blog/feed" />
<link rel="alternate" type="application/rss+xml" title="RSS 2.0 - all comments" href="http://www.skywind.me/blog/comments/feed" />
<link rel="pingback" href="http://www.skywind.me/blog/xmlrpc.php" />
<!-- style START -->
<!-- default style -->
<style type="text/css" media="screen">@import url( http://www.skywind.me/blog/wp-content/themes/inove/style.css );</style>
<!-- for translations -->
<!--[if IE]>
<link rel="stylesheet" href="http://www.skywind.me/blog/wp-content/themes/inove/ie.css" type="text/css" media="screen" />
<![endif]-->
<!-- style END -->
<!-- script START -->
<script async="" src="//w.likebtn.com/js/w/widget.js"></script><script src="https://hm.baidu.com/hm.js?430525c455fa119f047f66ba9aa5e3b1"></script><script async="" src="//w.likebtn.com/js/w/widget.js"></script><script src="//www.skywind.me/blog/wp-content/cache/wpfc-minified/2o20d5z7/6eu8x.js" type="text/javascript"></script>
<!-- <script type="text/javascript" src="http://www.skywind.me/blog/wp-content/themes/inove/js/base.js"></script> -->
<!-- <script type="text/javascript" src="http://www.skywind.me/blog/wp-content/themes/inove/js/menu.js"></script> -->
<!-- script END -->
<!-- PVC Template -->
<script type="text/template" id="pvc-stats-view-template">
&lt;i class="fa fa-bar-chart pvc-stats-icon small" aria-hidden="true"&gt;&lt;/i&gt; 
&lt;% if ( total_view &gt; 0 ) { %&gt;
&lt;%= total_view %&gt; &lt;%= total_view &gt; 1 ? "total views" : "total view" %&gt;,
&lt;% if ( today_view &gt; 0 ) { %&gt;
&lt;%= today_view %&gt; &lt;%= today_view &gt; 1 ? "views today" : "view today" %&gt;
&lt;% } else { %&gt;
no views today		&lt;% } %&gt;
&lt;% } else { %&gt;
No views yet	&lt;% } %&gt;
</script>
<script>
MathJax = {tex: {inlineMath: [['$','$'],['\\(','\\)']], processEscapes: true}};
</script>
<!-- This site is optimized with the Yoast SEO plugin v12.3 - https://yoast.com/wordpress/plugins/seo/ -->
<title>游戏服务端架构发展史（中） - Skywind Inside</title>
<meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<link rel="canonical" href="http://www.skywind.me/blog/archives/1301" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="游戏服务端架构发展史（中） - Skywind Inside" />
<meta property="og:description" content="《游戏服务端发展史》转载请著名出处：http://www.skywind.me/blog/archives/1301 类型4：第三代游戏服务器 2007 从魔兽世界开始无缝世界地图已经深入人心，比较以往游戏玩家走个几步还需要切换场景，每次切换就要等待 LOADING个几十秒是一件十分破坏游戏体验的事情。于是对于 2005年以后的大型 MMORPG来说，无缝地图已成为一个标准配置。比较以往按照地图来切割游戏而言，无缝世界并不存在一块地图上面的人有且只由一台服务器处理了： 每台 Node服务器用来管理一块地图区域，由 NodeMaster（NM）来为他们提供总体管理。更高层次的 World则提供大陆级别的管理服务。这里省略若干细节服务器，比如传统数据库前端，登录服务器，日志和监控等，统统用 ADMIN概括。在这样的结构下，玩家从一块区域走向另外一块区域需要简单处理一下： 玩家1完全由节点A控制，玩家3完全由节点B控制。而处在两个节点边缘的2号玩家，则同时由A和B提供服务。玩家2从A移动到B的过程中，会同时向A请求左边的情况，并向B请求右边的情况。但是此时玩家2还是属于A管理。直到玩家2彻底离开AB边界很远，才彻底交由B管理。按照这样的逻辑将世界地图分割为一块一块的区域，交由不同的 Node去管理。 对于一个 Node所负责的区域，地理上没必要连接在一起，比如大陆的四周边缘部分和高山部分的区块人比较少，可以统一交给一个Node去管理，而这些区块在地理上并没有联系在一起的必要性。一个 Node到底管理哪些区块，可以根据游戏实时运行的负载情况，定时维护的时候进行更改 NodeMaster 上面的配置。 于是碰到第一个问题是很多 Node服务器需要和玩家进行通信，需要问管理服务器特定UID为多少的玩家到底在哪台 Gate上，以前按场景切割的服务器这个问题不大，问了一次以后就可以缓存起来了，但是现在服务器种类增加不少，玩家又会飘来飘去，按UID查找玩家比较麻烦；另外一方面 GATE需要动态根据坐标计算和哪些 Node通信，导致逻辑越来越厚，于是把：“用户对象”从负责连接管理的 GATE中切割出来势在必行于是有了下面的模型： 网关服务器再次退回到精简的网络转发功能，而用户逻辑则由按照 UID划分的 OBJ服务器来承担，GATE是按照网络接入时的负载来分布，而 OBJ则是按照资源的编号（UID）来分布，这样和一个用户通信直接根据 UID计算出 OBJ服务器编号发送数据即可。而新独立出来的 OBJ则提供了更多高层次的服务： 对象移动：管理具体玩家在不同的 Node所管辖的区域之间的移动，并同需要的 Node进行沟通。 数据广播：Node可以给每个用户设置若干 TAG，然后通知 Object Master 按照TAG广播。 对象消息：通用消息推送，给某个用户发送数据，直接告诉 OBJ，不需要直接和 GATE打交道。 好友聊天：角色之间聊天直接走 OBJ/OBJ MASTER。 整个服务器主体分为三层以后，NODE专注场景，OBJ专注玩家对象，GATE专注网络。这样的模型在无缝场景服务器中得到广泛的应用。但是随着时间的推移，负载问题也越来越明显，做个活动，远来不活跃的区域变得十分活跃，靠每周维护来调整还是比较笨重的，于是有了动态负载均衡。 动态负载均衡有两种方法，第一种是按照负载，由 Node Master 定时动态移动修改一下各个 Node的边界，而不同的玩家对象按照先前的方法从一台 Node上迁移到另外一台 Node上： 图11 …" />
<meta property="og:url" content="http://www.skywind.me/blog/archives/1301" />
<meta property="og:site_name" content="Skywind Inside" />
<meta property="article:section" content="游戏开发" />
<meta property="article:published_time" content="2015-04-26T08:13:57+00:00" />
<meta property="article:modified_time" content="2015-06-17T07:00:48+00:00" />
<meta property="og:updated_time" content="2015-06-17T07:00:48+00:00" />
<meta property="og:image" content="http://www.skywind.me/blog/wp-content/uploads/2015/04/image_thumb29.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="《游戏服务端发展史》转载请著名出处：http://www.skywind.me/blog/archives/1301 类型4：第三代游戏服务器 2007 从魔兽世界开始无缝世界地图已经深入人心，比较以往游戏玩家走个几步还需要切换场景，每次切换就要等待 LOADING个几十秒是一件十分破坏游戏体验的事情。于是对于 2005年以后的大型 MMORPG来说，无缝地图已成为一个标准配置。比较以往按照地图来切割游戏而言，无缝世界并不存在一块地图上面的人有且只由一台服务器处理了： 每台 Node服务器用来管理一块地图区域，由 NodeMaster（NM）来为他们提供总体管理。更高层次的 World则提供大陆级别的管理服务。这里省略若干细节服务器，比如传统数据库前端，登录服务器，日志和监控等，统统用 ADMIN概括。在这样的结构下，玩家从一块区域走向另外一块区域需要简单处理一下： 玩家1完全由节点A控制，玩家3完全由节点B控制。而处在两个节点边缘的2号玩家，则同时由A和B提供服务。玩家2从A移动到B的过程中，会同时向A请求左边的情况，并向B请求右边的情况。但是此时玩家2还是属于A管理。直到玩家2彻底离开AB边界很远，才彻底交由B管理。按照这样的逻辑将世界地图分割为一块一块的区域，交由不同的 Node去管理。 对于一个 Node所负责的区域，地理上没必要连接在一起，比如大陆的四周边缘部分和高山部分的区块人比较少，可以统一交给一个Node去管理，而这些区块在地理上并没有联系在一起的必要性。一个 Node到底管理哪些区块，可以根据游戏实时运行的负载情况，定时维护的时候进行更改 NodeMaster 上面的配置。 于是碰到第一个问题是很多 Node服务器需要和玩家进行通信，需要问管理服务器特定UID为多少的玩家到底在哪台 Gate上，以前按场景切割的服务器这个问题不大，问了一次以后就可以缓存起来了，但是现在服务器种类增加不少，玩家又会飘来飘去，按UID查找玩家比较麻烦；另外一方面 GATE需要动态根据坐标计算和哪些 Node通信，导致逻辑越来越厚，于是把：“用户对象”从负责连接管理的 GATE中切割出来势在必行于是有了下面的模型： 网关服务器再次退回到精简的网络转发功能，而用户逻辑则由按照 UID划分的 OBJ服务器来承担，GATE是按照网络接入时的负载来分布，而 OBJ则是按照资源的编号（UID）来分布，这样和一个用户通信直接根据 UID计算出 OBJ服务器编号发送数据即可。而新独立出来的 OBJ则提供了更多高层次的服务： 对象移动：管理具体玩家在不同的 Node所管辖的区域之间的移动，并同需要的 Node进行沟通。 数据广播：Node可以给每个用户设置若干 TAG，然后通知 Object Master 按照TAG广播。 对象消息：通用消息推送，给某个用户发送数据，直接告诉 OBJ，不需要直接和 GATE打交道。 好友聊天：角色之间聊天直接走 OBJ/OBJ MASTER。 整个服务器主体分为三层以后，NODE专注场景，OBJ专注玩家对象，GATE专注网络。这样的模型在无缝场景服务器中得到广泛的应用。但是随着时间的推移，负载问题也越来越明显，做个活动，远来不活跃的区域变得十分活跃，靠每周维护来调整还是比较笨重的，于是有了动态负载均衡。 动态负载均衡有两种方法，第一种是按照负载，由 Node Master 定时动态移动修改一下各个 Node的边界，而不同的玩家对象按照先前的方法从一台 Node上迁移到另外一台 Node上： 图11 […]" />
<meta name="twitter:title" content="游戏服务端架构发展史（中） - Skywind Inside" />
<meta name="twitter:site" content="@skywind3000" />
<meta name="twitter:image" content="http://www.skywind.me/blog/wp-content/uploads/2015/04/image_thumb29.png" />
<meta name="twitter:creator" content="@skywind3000" />
<script type="application/ld+json" class="yoast-schema-graph yoast-schema-graph--main">{"@context":"https://schema.org","@graph":[{"@type":["Person","Organization"],"@id":"http://www.skywind.me/blog/#/schema/person/886baa4e1568fc21ec3ecb8c8d7f4e94","name":"skywind","image":{"@type":"ImageObject","@id":"http://www.skywind.me/blog/#personlogo","url":"http://0.gravatar.com/avatar/317acfa0b5f7dd5cb8163103e2bfb3f6?s=96&amp;d=mm&amp;r=g","caption":"skywind"},"logo":{"@id":"http://www.skywind.me/blog/#personlogo"},"description":"Putty \u672c\u65e0\u6811\uff0cMinGW \u4ea6\u975e\u53f0","sameAs":["https://twitter.com/skywind3000"]},{"@type":"WebSite","@id":"http://www.skywind.me/blog/#website","url":"http://www.skywind.me/blog/","name":"Skywind Inside","publisher":{"@id":"http://www.skywind.me/blog/#/schema/person/886baa4e1568fc21ec3ecb8c8d7f4e94"},"potentialAction":{"@type":"SearchAction","target":"http://www.skywind.me/blog/?s={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"ImageObject","@id":"http://www.skywind.me/blog/archives/1301#primaryimage","url":"http://www.skywind.me/blog/wp-content/uploads/2015/04/image_thumb29.png","width":463,"height":204},{"@type":"WebPage","@id":"http://www.skywind.me/blog/archives/1301#webpage","url":"http://www.skywind.me/blog/archives/1301","inLanguage":"en-US","name":"\u6e38\u620f\u670d\u52a1\u7aef\u67b6\u6784\u53d1\u5c55\u53f2\uff08\u4e2d\uff09 - Skywind Inside","isPartOf":{"@id":"http://www.skywind.me/blog/#website"},"primaryImageOfPage":{"@id":"http://www.skywind.me/blog/archives/1301#primaryimage"},"datePublished":"2015-04-26T08:13:57+00:00","dateModified":"2015-06-17T07:00:48+00:00"},{"@type":"Article","@id":"http://www.skywind.me/blog/archives/1301#article","isPartOf":{"@id":"http://www.skywind.me/blog/archives/1301#webpage"},"author":{"@id":"http://www.skywind.me/blog/#/schema/person/886baa4e1568fc21ec3ecb8c8d7f4e94"},"headline":"\u6e38\u620f\u670d\u52a1\u7aef\u67b6\u6784\u53d1\u5c55\u53f2\uff08\u4e2d\uff09","datePublished":"2015-04-26T08:13:57+00:00","dateModified":"2015-06-17T07:00:48+00:00","commentCount":"13","mainEntityOfPage":{"@id":"http://www.skywind.me/blog/archives/1301#webpage"},"publisher":{"@id":"http://www.skywind.me/blog/#/schema/person/886baa4e1568fc21ec3ecb8c8d7f4e94"},"image":{"@id":"http://www.skywind.me/blog/archives/1301#primaryimage"},"articleSection":"\u6e38\u620f\u5f00\u53d1,\u7f51\u7edc\u7f16\u7a0b"}]}</script>
<!-- / Yoast SEO plugin. -->
<link rel="dns-prefetch" href="//cdn.jsdelivr.net" />
<link rel="dns-prefetch" href="//s.w.org" />
<link rel="alternate" type="application/rss+xml" title="Skywind Inside » 游戏服务端架构发展史（中） Comments Feed" href="http://www.skywind.me/blog/archives/1301/feed" />
<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.skywind.me\/blog\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.2.4"}};
!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&amp;&amp;(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&amp;&amp;k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i&lt;j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&amp;&amp;c.supports[j[i]],"flag"!==j[i]&amp;&amp;(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&amp;&amp;c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&amp;&amp;!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&amp;&amp;c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&amp;&amp;g.twemoji&amp;&amp;(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
</script><script src="http://www.skywind.me/blog/wp-includes/js/wp-emoji-release.min.js?ver=5.2.4" type="text/javascript" defer=""></script>
<style type="text/css">
img.wp-smiley,
img.emoji {
display: inline !important;
border: none !important;
box-shadow: none !important;
height: 1em !important;
width: 1em !important;
margin: 0 .07em !important;
vertical-align: -0.1em !important;
background: none !important;
padding: 0 !important;
}
</style>
<!-- <link rel='stylesheet' id='wp-block-library-css'  href='http://www.skywind.me/blog/wp-includes/css/dist/block-library/style.min.css?ver=5.2.4' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='likebtn_style-css'  href='http://www.skywind.me/blog/wp-content/plugins/likebtn-like-button/public/css/style.css?ver=5.2.4' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='font-awesome-styles-css'  href='http://www.skywind.me/blog/wp-content/plugins/page-views-count/admin/assets/css/font-awesome.min.css?ver=4.5.0' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='a3-pvc-style-css'  href='http://www.skywind.me/blog/wp-content/plugins/page-views-count/assets/css/style.min.css?ver=2.2.0' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='SFSImainCss-css'  href='http://www.skywind.me/blog/wp-content/plugins/ultimate-social-media-icons/css/sfsi-style.css?ver=5.2.4' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='wordpress-popular-posts-css-css'  href='http://www.skywind.me/blog/wp-content/plugins/wordpress-popular-posts/public/css/wpp.css?ver=4.2.2' type='text/css' media='all' /> -->
<!-- <link rel='stylesheet' id='a3pvc-css'  href='//www.skywind.me/blog/wp-content/uploads/sass/pvc.min.css?ver=1557431066' type='text/css' media='all' /> -->
<link rel="stylesheet" type="text/css" href="//www.skywind.me/blog/wp-content/cache/wpfc-minified/1eotzlxt/6eu8x.css" media="all" />
<script type="text/javascript">
/* &lt;![CDATA[ */
var likebtn_eh_data = {"ajaxurl":"http:\/\/www.skywind.me\/blog\/wp-admin\/admin-ajax.php","security":"fc573ef5ec"};
/* ]]&gt; */
</script>
<script src="//www.skywind.me/blog/wp-content/cache/wpfc-minified/8ht2w6bm/6eu8x.js" type="text/javascript"></script>
<!-- <script type='text/javascript' src='http://www.skywind.me/blog/wp-content/plugins/likebtn-like-button/public/js/frontend.js?ver=5.2.4'></script> -->
<!-- <script type='text/javascript' src='http://www.skywind.me/blog/wp-includes/js/jquery/jquery.js?ver=1.12.4-wp'></script> -->
<!-- <script type='text/javascript' src='http://www.skywind.me/blog/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script> -->
<!-- <script type='text/javascript' src='http://www.skywind.me/blog/wp-includes/js/underscore.min.js?ver=1.8.3'></script> -->
<!-- <script type='text/javascript' src='http://www.skywind.me/blog/wp-includes/js/backbone.min.js?ver=1.2.3'></script> -->
<script type="text/javascript">
/* &lt;![CDATA[ */
var vars = {"rest_api_url":"http:\/\/www.skywind.me\/blog\/wp-json\/pvc\/v1"};
/* ]]&gt; */
</script>
<script src="//www.skywind.me/blog/wp-content/cache/wpfc-minified/l8n5gsbg/6eu8x.js" type="text/javascript"></script>
<!-- <script type='text/javascript' src='http://www.skywind.me/blog/wp-content/plugins/page-views-count/assets/js/pvc.backbone.min.js?ver=2.2.0'></script> -->
<script type="text/javascript">
/* &lt;![CDATA[ */
var wpp_params = {"sampling_active":"0","sampling_rate":"100","ajax_url":"http:\/\/www.skywind.me\/blog\/wp-json\/wordpress-popular-posts\/v1\/popular-posts\/","ID":"1301","token":"c3806b4ec2","debug":""};
/* ]]&gt; */
</script>
<script src="//www.skywind.me/blog/wp-content/cache/wpfc-minified/22pqmytr/6eu8x.js" type="text/javascript"></script>
<!-- <script type='text/javascript' src='http://www.skywind.me/blog/wp-content/plugins/wordpress-popular-posts/public/js/wpp-4.2.0.min.js?ver=4.2.2'></script> -->
<link rel="https://api.w.org/" href="http://www.skywind.me/blog/wp-json/" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.skywind.me/blog/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.skywind.me/blog/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.2.4" />
<link rel="shortlink" href="http://www.skywind.me/blog/?p=1301" />
<link rel="alternate" type="application/json+oembed" href="http://www.skywind.me/blog/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.skywind.me%2Fblog%2Farchives%2F1301" />
<link rel="alternate" type="text/xml+oembed" href="http://www.skywind.me/blog/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.skywind.me%2Fblog%2Farchives%2F1301&amp;format=xml" />
<!-- HFCM by 99 Robots - Snippet # 2: css-tune -->
<style type="text/css">
.post .content pre {
padding: 1px;
background-image: none;
margin-bottom: 15px;
}
.post .content p {
margin-top: 7px;
margin-bottom: 7px;
}
.post .content h4 {
margin-top: 15px;
margin-bottom: 12px;
font-size: 115%;
}
.post .content h5 {
margin-top: 15px;
margin-bottom: 12px;
font-size: 105%;
}
</style>
<!-- /end HFCM by 99 Robots -->
<!-- HFCM by 99 Robots - Snippet # 3: baidu-tongji -->
<script>
var _hmt = _hmt || [];
(function() {
var hm = document.createElement("script");
hm.src = "https://hm.baidu.com/hm.js?430525c455fa119f047f66ba9aa5e3b1";
var s = document.getElementsByTagName("script")[0]; 
s.parentNode.insertBefore(hm, s);
})();
</script>
<!-- /end HFCM by 99 Robots -->
<!-- HFCM by 99 Robots - Snippet # 4: header-keywords -->
<meta name="keywords" content="编程,游戏开发,游戏同步,KCP,UDP,机器学习,图形,服务端,Linux,Vim" />
<!-- /end HFCM by 99 Robots -->
<meta name="specificfeeds-verification-code-bWRCRDMzMFRkYnoxRWtrRHVlakM3dFV4cnNGUUlKcENTYXQ5UHF3QmUwY3h0V24xbmRXZ0dWNGN5N2RrWnA4QnhLdzU2SzhTVzlSaHF6MHAwN1NoV1dSSDNZcHZhNUdTcUhHeHBqVnJNV05RTVZYTUZMR3M1Nk9XZ254cFZvSnF8aHZldk9EQU1FcmxBb1A2RHI5TmNpc2pLNnpieGw0OXExSWtNOTZ0Tk5pRT0=" content="CqXHCmPJsE2KfEu5HQhb" /><!-- Analytics by WP-Statistics v12.6.10 - https://wp-statistics.com/ -->
<script>var WP_Statistics_http = new XMLHttpRequest();WP_Statistics_http.open('GET', 'http://www.skywind.me/blog/wp-json/wpstatistics/v1/hit?_=1575701454&amp;_wpnonce=c3806b4ec2&amp;wp_statistics_hit_rest=yes&amp;browser=Chrome&amp;platform=Windows&amp;version=6.1&amp;referred=http://www.skywind.me/blog/archives/1301&amp;ip=183.14.29.174&amp;exclude_reason&amp;ua=Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&amp;track_all=1&amp;timestamp=1575730254&amp;search_query&amp;current_page_type=post&amp;current_page_id=1301&amp;page_uri=/archives/1301&amp;user_id=0', true);WP_Statistics_http.setRequestHeader("Content-Type", "application/json;charset=UTF-8");WP_Statistics_http.send(null);</script>
<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<link type="text/css" rel="stylesheet" href="//w.likebtn.com/css/w/widget.css?v=39" /><style type="text/css">.CtxtMenu_InfoClose {  top:.2em; right:.2em;}
.CtxtMenu_InfoContent {  overflow:auto; text-align:left; font-size:80%;  padding:.4em .6em; border:1px inset; margin:1em 0px;  max-height:20em; max-width:30em; background-color:#EEEEEE;  white-space:normal;}
.CtxtMenu_Info.CtxtMenu_MousePost {outline:none;}
.CtxtMenu_Info {  position:fixed; left:50%; width:auto; text-align:center;  border:3px outset; padding:1em 2em; background-color:#DDDDDD;  color:black;  cursor:default; font-family:message-box; font-size:120%;  font-style:normal; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 15px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius:15px;               /* Safari and Chrome */  -moz-border-radius:15px;                  /* Firefox */  -khtml-border-radius:15px;                /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 &amp; Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */  filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color="gray", Positive="true"); /* IE */}
</style><style type="text/css">.CtxtMenu_MenuClose {  position:absolute;  cursor:pointer;  display:inline-block;  border:2px solid #AAA;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  font-family: "Courier New", Courier;  font-size:24px;  color:#F0F0F0}
.CtxtMenu_MenuClose span {  display:block; background-color:#AAA; border:1.5px solid;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  line-height:0;  padding:8px 0 6px     /* may need to be browser-specific */}
.CtxtMenu_MenuClose:hover {  color:white!important;  border:2px solid #CCC!important}
.CtxtMenu_MenuClose:hover span {  background-color:#CCC!important}
.CtxtMenu_MenuClose:hover:focus {  outline:none}
</style><style type="text/css">.CtxtMenu_Menu {  position:absolute;  background-color:white;  color:black;  width:auto; padding:5px 0px;  border:1px solid #CCCCCC; margin:0; cursor:default;  font: menu; text-align:left; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 5px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius: 5px;             /* Safari and Chrome */  -moz-border-radius: 5px;                /* Firefox */  -khtml-border-radius: 5px;              /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 &amp; Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */}
.CtxtMenu_MenuItem {  padding: 1px 2em;  background:transparent;}
.CtxtMenu_MenuArrow {  position:absolute; right:.5em; padding-top:.25em; color:#666666;  font-family: null; font-size: .75em}
.CtxtMenu_MenuActive .CtxtMenu_MenuArrow {color:white}
.CtxtMenu_MenuArrow.CtxtMenu_RTL {left:.5em; right:auto}
.CtxtMenu_MenuCheck {  position:absolute; left:.7em;  font-family: null}
.CtxtMenu_MenuCheck.CtxtMenu_RTL { right:.7em; left:auto }
.CtxtMenu_MenuRadioCheck {  position:absolute; left: .7em;}
.CtxtMenu_MenuRadioCheck.CtxtMenu_RTL {  right: .7em; left:auto}
.CtxtMenu_MenuInputBox {  padding-left: 1em; right:.5em; color:#666666;  font-family: null;}
.CtxtMenu_MenuInputBox.CtxtMenu_RTL {  left: .1em;}
.CtxtMenu_MenuComboBox {  left:.1em; padding-bottom:.5em;}
.CtxtMenu_MenuSlider {  left: .1em;}
.CtxtMenu_SliderValue {  position:absolute; right:.1em; padding-top:.25em; color:#333333;  font-size: .75em}
.CtxtMenu_SliderBar {  outline: none; background: #d3d3d3}
.CtxtMenu_MenuLabel {  padding: 1px 2em 3px 1.33em;  font-style:italic}
.CtxtMenu_MenuRule {  border-top: 1px solid #DDDDDD;  margin: 4px 3px;}
.CtxtMenu_MenuDisabled {  color:GrayText}
.CtxtMenu_MenuActive {  background-color: #606872;  color: white;}
.CtxtMenu_MenuDisabled:focus {  background-color: #E8E8E8}
.CtxtMenu_MenuLabel:focus {  background-color: #E8E8E8}
.CtxtMenu_ContextMenu:focus {  outline:none}
.CtxtMenu_ContextMenu .CtxtMenu_MenuItem:focus {  outline:none}
.CtxtMenu_SelectionMenu {  position:relative; float:left;  border-bottom: none; -webkit-box-shadow:none; -webkit-border-radius:0px; }
.CtxtMenu_SelectionItem {  padding-right: 1em;}
.CtxtMenu_Selection {  right: 40%; width:50%; }
.CtxtMenu_SelectionBox {  padding: 0em; max-height:20em; max-width: none;  background-color:#FFFFFF;}
.CtxtMenu_SelectionDivider {  clear: both; border-top: 2px solid #000000;}
.CtxtMenu_Menu .CtxtMenu_MenuClose {  top:-10px; left:-10px}
</style><style id="MJX-CHTML-styles">
mjx-container[jax="CHTML"] {
  line-height: 0;
}

mjx-container [space="1"] {
  margin-left: .111em;
}

mjx-container [space="2"] {
  margin-left: .167em;
}

mjx-container [space="3"] {
  margin-left: .222em;
}

mjx-container [space="4"] {
  margin-left: .278em;
}

mjx-container [space="5"] {
  margin-left: .333em;
}

mjx-container [rspace="1"] {
  margin-right: .111em;
}

mjx-container [rspace="2"] {
  margin-right: .167em;
}

mjx-container [rspace="3"] {
  margin-right: .222em;
}

mjx-container [rspace="4"] {
  margin-right: .278em;
}

mjx-container [rspace="5"] {
  margin-right: .333em;
}

mjx-container [size="s"] {
  font-size: 70.7%;
}

mjx-container [size="ss"] {
  font-size: 50%;
}

mjx-container [size="Tn"] {
  font-size: 60%;
}

mjx-container [size="sm"] {
  font-size: 85%;
}

mjx-container [size="lg"] {
  font-size: 120%;
}

mjx-container [size="Lg"] {
  font-size: 144%;
}

mjx-container [size="LG"] {
  font-size: 173%;
}

mjx-container [size="hg"] {
  font-size: 207%;
}

mjx-container [size="HG"] {
  font-size: 249%;
}

mjx-container [width="full"] {
  width: 100%;
}

mjx-box {
  display: inline-block;
}

mjx-block {
  display: block;
}

mjx-itable {
  display: inline-table;
}

mjx-row {
  display: table-row;
}

mjx-row &gt; * {
  display: table-cell;
}

mjx-mtext {
  display: inline-block;
}

mjx-mstyle {
  display: inline-block;
}

mjx-merror {
  display: inline-block;
  color: red;
  background-color: yellow;
}

mjx-mphantom {
  visibility: hidden;
}

mjx-assistive-mml {
  position: absolute !important;
  top: 0px;
  left: 0px;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 1px 0px 0px 0px !important;
  border: 0px !important;
  display: block !important;
  width: auto !important;
  overflow: hidden !important;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

mjx-assistive-mml[display="block"] {
  width: 100% !important;
}

mjx-c::before {
  display: block;
  width: 0;
}

.MJX-TEX {
  font-family: MJXZERO, MJXTEX;
}

.TEX-B {
  font-family: MJXZERO, MJXTEX-B;
}

.TEX-I {
  font-family: MJXZERO, MJXTEX-I;
}

.TEX-MI {
  font-family: MJXZERO, MJXTEX-MI;
}

.TEX-BI {
  font-family: MJXZERO, MJXTEX-BI;
}

.TEX-S1 {
  font-family: MJXZERO, MJXTEX-S1;
}

.TEX-S2 {
  font-family: MJXZERO, MJXTEX-S2;
}

.TEX-S3 {
  font-family: MJXZERO, MJXTEX-S3;
}

.TEX-S4 {
  font-family: MJXZERO, MJXTEX-S4;
}

.TEX-A {
  font-family: MJXZERO, MJXTEX-A;
}

.TEX-C {
  font-family: MJXZERO, MJXTEX-C;
}

.TEX-CB {
  font-family: MJXZERO, MJXTEX-CB;
}

.TEX-FR {
  font-family: MJXZERO, MJXTEX-FR;
}

.TEX-FRB {
  font-family: MJXZERO, MJXTEX-FRB;
}

.TEX-SS {
  font-family: MJXZERO, MJXTEX-SS;
}

.TEX-SSB {
  font-family: MJXZERO, MJXTEX-SSB;
}

.TEX-SSI {
  font-family: MJXZERO, MJXTEX-SSI;
}

.TEX-SC {
  font-family: MJXZERO, MJXTEX-SC;
}

.TEX-T {
  font-family: MJXZERO, MJXTEX-T;
}

.TEX-V {
  font-family: MJXZERO, MJXTEX-V;
}

.TEX-VB {
  font-family: MJXZERO, MJXTEX-VB;
}

mjx-stretchy-v mjx-c, mjx-stretchy-h mjx-c {
  font-family: MJXZERO, MJXTEX-S1, MJXTEX-S4, MJXTEX, MJXTEX-A ! important;
}

@font-face /* 0 */ {
  font-family: MJXZERO;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Zero.woff") format("woff");
}

@font-face /* 1 */ {
  font-family: MJXTEX;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Regular.woff") format("woff");
}

@font-face /* 2 */ {
  font-family: MJXTEX-B;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Bold.woff") format("woff");
}

@font-face /* 3 */ {
  font-family: MJXTEX-I;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Math-Italic.woff") format("woff");
}

@font-face /* 4 */ {
  font-family: MJXTEX-MI;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Italic.woff") format("woff");
}

@font-face /* 5 */ {
  font-family: MJXTEX-BI;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Math-BoldItalic.woff") format("woff");
}

@font-face /* 6 */ {
  font-family: MJXTEX-S1;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size1-Regular.woff") format("woff");
}

@font-face /* 7 */ {
  font-family: MJXTEX-S2;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size2-Regular.woff") format("woff");
}

@font-face /* 8 */ {
  font-family: MJXTEX-S3;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size3-Regular.woff") format("woff");
}

@font-face /* 9 */ {
  font-family: MJXTEX-S4;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size4-Regular.woff") format("woff");
}

@font-face /* 10 */ {
  font-family: MJXTEX-A;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_AMS-Regular.woff") format("woff");
}

@font-face /* 11 */ {
  font-family: MJXTEX-C;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Regular.woff") format("woff");
}

@font-face /* 12 */ {
  font-family: MJXTEX-CB;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Bold.woff") format("woff");
}

@font-face /* 13 */ {
  font-family: MJXTEX-FR;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Fraktur-Regular.woff") format("woff");
}

@font-face /* 14 */ {
  font-family: MJXTEX-FRB;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Fraktur-Bold.woff") format("woff");
}

@font-face /* 15 */ {
  font-family: MJXTEX-SS;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Regular.woff") format("woff");
}

@font-face /* 16 */ {
  font-family: MJXTEX-SSB;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Bold.woff") format("woff");
}

@font-face /* 17 */ {
  font-family: MJXTEX-SSI;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Italic.woff") format("woff");
}

@font-face /* 18 */ {
  font-family: MJXTEX-SC;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Script-Regular.woff") format("woff");
}

@font-face /* 19 */ {
  font-family: MJXTEX-T;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Typewriter-Regular.woff") format("woff");
}

@font-face /* 20 */ {
  font-family: MJXTEX-V;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Vector-Regular.woff") format("woff");
}

@font-face /* 21 */ {
  font-family: MJXTEX-VB;
  src: url("http://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Vector-Bold.woff") format("woff");
}
</style><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" /><meta http-equiv="Pragma" content="no-cache" /><meta http-equiv="Expires" content="0" /><link type="text/css" rel="stylesheet" href="//w.likebtn.com/css/w/effect.css?v=39?v=39" /></head>
<body class="sfsi_2.43">
<!-- wrap START -->
<div id="wrap">
<!-- container START -->
<div id="container">
<!-- header START -->
<div id="header">
<!-- banner START -->
<!-- banner END -->
<div id="caption">
<h1 id="title"><a href="http://www.skywind.me/blog/">Skywind Inside</a></h1>
<div id="tagline">写自己的代码，让别人猜去吧</div>
</div>
<div class="fixed"></div>
</div>
<!-- header END -->
<!-- navigation START -->
<div id="navigation">
<!-- menus START -->
<ul id="menus">
<li class="page_item"><a class="home" title="Home" href="http://www.skywind.me/blog/">Home</a></li>
<li class="page_item page-item-11"><a href="/blog/topics/life">大浪淘沙</a></li>
<li class="page_item page-item-16"><a href="/blog/topics/program">编程技术</a></li>
<li class="page_item page-item-18"><a href="/blog/topics/gamedev">游戏开发</a></li>
<li class="page_item page-item-21"><a href="/blog/topics/network">网络编程</a></li>
<li class="page_item page-item-23"><a href="/blog/topics/graphics">图形编程</a></li>
<li class="page_item page-item-25"><a href="/blog/topics/ai">AI</a></li>
<li class="page_item page-item-30"><a href="/blog/topics/compile">编译</a></li>
<li class="page_item page-item-32"><a href="/blog/topics/casual">随笔</a></li>
<li class="page_item page-item-146"><a href="http://www.skywind.me/blog/guest">关于</a></li>
<li><a class="lastmenu" href="javascript:void(0);"></a></li>
</ul>
<!-- menus END -->
<!-- searchbox START -->
<div id="searchbox">
<form action="http://www.skywind.me/blog" method="get">
<div class="content">
<input type="text" class="textfield searchtip" name="s" size="24" value="" />
<input type="submit" class="button" value="" />
</div>
</form>
</div>
<script type="text/javascript">
//&lt;![CDATA[
var searchbox = MGJS.$("searchbox");
var searchtxt = MGJS.getElementsByClassName("textfield", "input", searchbox)[0];
var searchbtn = MGJS.getElementsByClassName("button", "input", searchbox)[0];
var tiptext = "Type text to search here...";
if(searchtxt.value == "" || searchtxt.value == tiptext) {
searchtxt.className += " searchtip";
searchtxt.value = tiptext;
}
searchtxt.onfocus = function(e) {
if(searchtxt.value == tiptext) {
searchtxt.value = "";
searchtxt.className = searchtxt.className.replace(" searchtip", "");
}
}
searchtxt.onblur = function(e) {
if(searchtxt.value == "") {
searchtxt.className += " searchtip";
searchtxt.value = tiptext;
}
}
searchbtn.onclick = function(e) {
if(searchtxt.value == "" || searchtxt.value == tiptext) {
return false;
}
}
//]]&gt;
</script>
<!-- searchbox END -->
<div class="fixed"></div>
</div>
<!-- navigation END -->
<!-- content START -->
<div id="content">
<!-- main START -->
<div id="main">
<div id="postpath">
<a title="Go to homepage" href="http://www.skywind.me/blog/">Home</a>
&gt; <a href="http://www.skywind.me/blog/topics/gamedev" rel="category tag">游戏开发</a>, <a href="http://www.skywind.me/blog/topics/network" rel="category tag">网络编程</a>		 &gt; 游戏服务端架构发展史（中）	</div>
<div class="post" id="post-1301">
<h2>游戏服务端架构发展史（中）</h2>
<div class="info">
<span class="date">April 26th, 2015</span>
<span class="author"><a href="http://www.skywind.me/blog/archives/author/skywind" title="Posts by skywind" rel="author">skywind</a></span>										<span class="addcomment"><a href="#respond">Leave a comment</a></span>
<span class="comments"><a href="#comments">Go to comments</a></span>
<div class="fixed"></div>
</div>
<div class="content">
<p>《游戏服务端发展史》转载请著名出处：<a title="http://www.skywind.me/blog/archives/1301" href="http://www.skywind.me/blog/archives/1301">http://www.skywind.me/blog/archives/1301</a></p>
<p><strong>类型4：第三代游戏服务器 2007</strong></p>
<p>从魔兽世界开始无缝世界地图已经深入人心，比较以往游戏玩家走个几步还需要切换场景，每次切换就要等待 LOADING个几十秒是一件十分破坏游戏体验的事情。于是对于 2005年以后的大型 MMORPG来说，无缝地图已成为一个标准配置。比较以往按照地图来切割游戏而言，无缝世界并不存在一块地图上面的人有且只由一台服务器处理了：</p>
<p><a href="http://www.skywind.me/blog/wp-content/uploads/2015/04/image28.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="image" src="http://www.skywind.me/blog/wp-content/uploads/2015/04/image_thumb29.png" alt="image" width="463" height="204" border="0" /></a></p>
<p><span id="more-1301"></span></p>
<p>每台 Node服务器用来管理一块地图区域，由 NodeMaster（NM）来为他们提供总体管理。更高层次的 World则提供大陆级别的管理服务。这里省略若干细节服务器，比如传统数据库前端，登录服务器，日志和监控等，统统用 ADMIN概括。在这样的结构下，玩家从一块区域走向另外一块区域需要简单处理一下：</p>
<p><a href="http://www.skywind.me/blog/wp-content/uploads/2015/04/image29.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="image" src="http://www.skywind.me/blog/wp-content/uploads/2015/04/image_thumb30.png" alt="image" width="424" height="316" border="0" /></a></p>
<p>玩家1完全由节点A控制，玩家3完全由节点B控制。而处在两个节点边缘的2号玩家，则同时由A和B提供服务。玩家2从A移动到B的过程中，会同时向A请求左边的情况，并向B请求右边的情况。但是此时玩家2还是属于A管理。直到玩家2彻底离开AB边界很远，才彻底交由B管理。按照这样的逻辑将世界地图分割为一块一块的区域，交由不同的 Node去管理。</p>
<p>对于一个 Node所负责的区域，地理上没必要连接在一起，比如大陆的四周边缘部分和高山部分的区块人比较少，可以统一交给一个Node去管理，而这些区块在地理上并没有联系在一起的必要性。一个 Node到底管理哪些区块，可以根据游戏实时运行的负载情况，定时维护的时候进行更改 NodeMaster 上面的配置。</p>
<p>于是碰到第一个问题是很多 Node服务器需要和玩家进行通信，需要问管理服务器特定UID为多少的玩家到底在哪台 Gate上，以前按场景切割的服务器这个问题不大，问了一次以后就可以缓存起来了，但是现在服务器种类增加不少，玩家又会飘来飘去，按UID查找玩家比较麻烦；另外一方面 GATE需要动态根据坐标计算和哪些 Node通信，导致逻辑越来越厚，于是把：“用户对象”从负责连接管理的 GATE中切割出来势在必行于是有了下面的模型：</p>
<p><a href="http://www.skywind.me/blog/wp-content/uploads/2015/04/image31.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="image" src="http://www.skywind.me/blog/wp-content/uploads/2015/04/image_thumb32.png" alt="image" width="464" height="304" border="0" /></a></p>
<p>网关服务器再次退回到精简的网络转发功能，而用户逻辑则由按照 UID划分的 OBJ服务器来承担，GATE是按照网络接入时的负载来分布，而 OBJ则是按照资源的编号（UID）来分布，这样和一个用户通信直接根据 UID计算出 OBJ服务器编号发送数据即可。而新独立出来的 OBJ则提供了更多高层次的服务：</p>
<ul>
<li>对象移动：管理具体玩家在不同的 Node所管辖的区域之间的移动，并同需要的 Node进行沟通。</li>
<li>数据广播：Node可以给每个用户设置若干 TAG，然后通知 Object Master 按照TAG广播。</li>
<li>对象消息：通用消息推送，给某个用户发送数据，直接告诉 OBJ，不需要直接和 GATE打交道。</li>
<li>好友聊天：角色之间聊天直接走 OBJ/OBJ MASTER。</li>
</ul>
<p>整个服务器主体分为三层以后，NODE专注场景，OBJ专注玩家对象，GATE专注网络。这样的模型在无缝场景服务器中得到广泛的应用。但是随着时间的推移，负载问题也越来越明显，做个活动，远来不活跃的区域变得十分活跃，靠每周维护来调整还是比较笨重的，于是有了动态负载均衡。</p>
<p>动态负载均衡有两种方法，第一种是按照负载，由 Node Master 定时动态移动修改一下各个 Node的边界，而不同的玩家对象按照先前的方法从一台 Node上迁移到另外一台 Node上：</p>
<p><a href="http://www.skywind.me/blog/wp-content/uploads/2015/04/image33.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="image" src="http://www.skywind.me/blog/wp-content/uploads/2015/04/image_thumb34.png" alt="image" width="162" height="181" border="0" /></a></p>
<p>图11 动态负载均衡</p>
<p>这样 Node Master定时查找地图上的热点区域，计算新的场景切割方式，然后告诉其他服务器开始调整，具体处理方式还是和上面对象跨越边界移动的方法一样。</p>
<p>但是上面这种方式实现相对复杂一些，于是人们设计出了更为简单直接的一种新方法：</p>
<p><a href="http://www.skywind.me/blog/wp-content/uploads/2015/04/image30.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="image" src="http://www.skywind.me/blog/wp-content/uploads/2015/04/image_thumb31.png" alt="image" width="240" height="239" border="0" /></a></p>
<p>图12 基于网格的动态负载均衡</p>
<p>还是将地图按照标准尺寸均匀切割成静态的网格，每个格子由一个具体的Node负责，但是根据负载情况，能够实时的迁移到其他 Node上。在迁移分为三个阶段：准备，切换，完成。三个状态由Node Master负责维护。准备阶段新的 Node开始同步老 Node上面该网格的数据，完成后告诉NM；NM确认OK后同时通知新旧 Node完成切换。完成切换后，如果 Obj服务器还在和老的 Node进行通信，老的 Node将会对它进行纠正，得到纠正的 OBJ将修正自己的状态，和新的 Node进行通信。</p>
<p>很多无缝动态负载均衡的服务端宣称自己支持无限的人数，但不意味着 MMORPG游戏的人数上限真的可以无限扩充，因为这样的体系会受制于网络带宽和客户端性能。带宽决定了同一个区域最大广播上限，而客户端性能决定了同一个屏幕到底可以绘制多少个角色。</p>
<p>从无缝地图引入了分布式对象模型开始，已经完全脱离 MUDOS体系，成为一种新的服务端模型。又由于动态负载均衡的引入，让无缝服务器如虎添翼，容纳着超过上一代游戏服务器数倍的人数上限，并提供了更好的游戏体验，我们称其为第三代游戏服务端架构。网游以大型多人角色扮演为开端，RPG网游在相当长的时间里一度占据90%以上，使得基于 MMORPG的服务端架构得到了蓬勃的发展，然而随着玩家对RPG的疲惫，各种非MMORPG 游戏如雨后春笋般的出现在人们眼前，受到市场的欢迎。</p>
<p> </p>
<p><strong>类型5：战网游戏服务器</strong></p>
<p>经典战网服务端和 RPG游戏有两个区别：RPG是分区分服的，北京区的用户和广州区的用户老死不相往来。而战网，虽然每局游戏一般都是 8人以内，但全国只有一套服务器，所有的玩家都可以在一起游戏，而玩家和玩家之使用 P2P的方式连接在一起，组成一局游戏：</p>
<p><a href="http://www.skywind.me/blog/wp-content/uploads/2015/04/image35.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="image" src="http://www.skywind.me/blog/wp-content/uploads/2015/04/image_thumb36.png" alt="image" width="469" height="334" border="0" /></a></p>
<p>玩家通过 Match Making 服务器使用：创建、加入、自动匹配、邀请 等方式组成一局游戏。服务器会选择一个人做 Host，其他人 P2P连接到做主的玩家上来。STUN是帮助玩家之间建立 P2P的牵引服务器，而由于 P2P联通情况大概只有 75%，实在联不通的玩家会通过 Forward进行转发。</p>
<p>大量的连接对战，体育竞技游戏采用类似的结构。P2P有网状模型（所有玩家互相连接），和星状模型（所有玩家连接一个主玩家）。复杂的游戏状态在网状模型下难以形成一致，因此星状P2P模型经受住了历史的考验。除去游戏数据，支持语音的战网系统也会将所有人的语音数据发送到做主的那个玩家机器上，通过混音去重再编码的方式返回给所有用户。</p>
<p>战网类游戏，以竞技、体育、动作等类型的游戏为主，较慢节奏的 RPG（包括ARPG）有本质上的区别，而激烈的游戏过程必然带来到较 RPG复杂的多的同步策略，这样的同步机制往往带来的是很多游戏结果由客户端直接计算得出，那在到处都是破解的今天，如何保证游戏结果的公正呢？</p>
<p>主要方法就是投票法，所有客户端都会独立计算，然后传递给服务器。如果结果相同就更新记录，如果结果不一致，会采取类似投票的方式确定最终结果。同时记录本剧游戏的所有输入，在可能的情况下，找另外闲散的游戏客户端验算整局游戏是否为该结果。并且记录经常有作弊嫌疑的用户，供运营人员封号时参考。</p>
<p><strong>类型6：休闲游戏服务器</strong></p>
<p>休闲游戏同战网服务器类似，都是全区架构，不同的是有房间服务器，还有具体的游戏服务器，游戏主体不再以玩家 P2P进行，而是连接到专门的游戏服务器处理：</p>
<p><a href="http://www.skywind.me/blog/wp-content/uploads/2015/04/image36.png"><img style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" title="image" src="http://www.skywind.me/blog/wp-content/uploads/2015/04/image_thumb37.png" alt="image" width="474" height="428" border="0" /></a></p>
<p>和战网一样的全区架构，用户数据不能象分区的 RPG那样一次性load到内存，然后在内存里面直接修改。全区架构下，为了应对一个用户同时玩几个游戏，用户数据需要区分基本数据和不同的游戏数据，而游戏数据又需要区分积分数据、和文档数据。胜平负之类的积分可以直接提交增量修改，而更为普遍的文档类数据则需要提供读写令牌，写令牌只有一块，读令牌有很多块。同帐号同一个游戏同时在两台电脑上玩时，最先开始的那个游戏获得写令牌，可以操作任意的用户数据。而后开始的那个游戏除了可以提交胜平负积分的增量改变外，对用户数据采用只读的方式，保证游戏能运行下去，但是会提示用户，游戏数据锁定。</p>
<p> </p>
<p><strong>类型7：现代动作网游</strong></p>
<p>从早期的韩国动作游戏开始，传统的战网动作类游戏和 RPG游戏开始尝试融合。单纯的动作游戏玩家容易疲倦，留存也没有 RPG那么高；而单纯 RPG战斗却又慢节奏的乏味，无法满足很多玩家激烈对抗的期望，于是二者开始融合成为新一代的：动作 + 城镇 模式。玩家在城镇中聚集，然后以开副本的方式几个人出去以动作游戏的玩法来完成各种 RPG任务。本质就是一套 RPG服务端+副本服务端。由于每次副本时人物可以控制在8人以内，因此可以获得更为实时的游戏体验，让玩家玩的更加爽快。</p>
<p>说了那么多的游戏服务器类型，其实也差不多了，剩下的类型大家拼凑一下其实也就是这个样子而已。游戏服务端经历了那么多结构上的变迁，内部开发模式是否依然不变？究竟是继续延续传统的开发方式？还是有了更多突破性的方法？经历那么多次架构变迁，后面是否有共通的逻辑？未来的发展还会存在哪些困难？游戏服务端开发如何达到最终的彼岸？请看下节：技术的演进。</p>
<p> </p>
<p>《游戏服务端架构发展史》转载请著名出处：<a href="http://www.skywind.me">http://www.skywind.me</a></p>
<p> </p>
<p><a href="http://www.skywind.me/blog/archives/1265" target="_blank">游戏服务端架构发展史（上）</a></p>
<p><a href="http://www.skywind.me/blog/archives/1301" target="_blank">游戏服务端架构发展史（中）</a></p>
<p><a href="http://www.skywind.me/blog/archives/1327" target="_blank">游戏服务端架构发展史（下）</a></p>
<p> </p>
<p>（待续）</p>
<div class="pvc_clear"></div>
<p id="pvc_stats_1301" class="pvc_stats  pvc_load_by_ajax_update" data-element-id="1301" style=""><span>
<i class="fa fa-bar-chart pvc-stats-icon small" aria-hidden="true"></i> 

2167 total views,

5 views today


</span></p>
<div class="pvc_clear"></div>
<div class="likebtn_container" style="clear:both;text-align:right;"><p><!-- LikeBtn.com BEGIN --><span class="likebtn-wrapper lb-loaded lb-style-google lb-popup-position-top lb-popup-style-light" data-identifier="post_1301" data-site_id="5cd3258a6fd08b806f60cafb" data-theme="google" data-ef_voting="push" data-style="" data-unlike_allowed="" data-show_copyright="" data-item_url="http://www.skywind.me/blog/archives/1301" data-item_title="游戏服务端架构发展史（中）" data-item_date="2015-04-26T16:13:57+08:00" data-engine="WordPress" data-plugin_v="2.6.17" data-prx="http://www.skywind.me/blog/wp-admin/admin-ajax.php?action=likebtn_prx" data-event_handler="likebtn_eh"><span class="likebtn-button lb-like lb-ef-push" id="lb-like-0"><span onclick="LikeBtn.vote(1, 0, event);" class="lb-a" data-lb_index="0"><i class="lb-tt lb-tooltip-tt"><i class="lb-tt-lt"></i><i class="lb-tt-rt"></i><i class="lb-tt-m">I like this</i><i class="lb-tt-mu">Unlike</i><i class="lb-tt-m2"></i><i class="lb-tt-lb"></i><i class="lb-tt-rb"></i><i class="lb-tt-a"></i></i><span class="likebtn-icon lb-like-icon"> </span><span class="likebtn-label lb-like-label">Like</span></span><span class="lb-count lb-hidden" data-count="0">0</span></span><span class="likebtn-button lb-dislike  lb-ef-push" id="lb-dislike-0"><span onclick="LikeBtn.vote(-1, 0, event);" class="lb-a" data-lb_index="0"><i class="lb-tt lb-tooltip-tt"><i class="lb-tt-lt"></i><i class="lb-tt-rt"></i><i class="lb-tt-m">I dislike this</i><i class="lb-tt-mu">Undislike</i><i class="lb-tt-m2"></i><i class="lb-tt-lb"></i><i class="lb-tt-rb"></i><i class="lb-tt-a"></i></i><span class="likebtn-icon lb-dislike-icon"> </span></span><span class="lb-count lb-hidden" data-count="0">0</span></span></span><!-- LikeBtn.com END --></p></div>			<div class="fixed"></div>
</div>
<div class="under">
<span class="categories">Categories: </span><span><a href="http://www.skywind.me/blog/topics/gamedev" rel="category tag">游戏开发</a>, <a href="http://www.skywind.me/blog/topics/network" rel="category tag">网络编程</a></span>			<span class="tags">Tags: </span><span></span>		</div>
</div>
<!-- related posts START -->
<!-- related posts END -->
<script type="text/javascript" src="http://www.skywind.me/blog/wp-content/themes/inove/js/comment.js"></script>
<div id="comments">
<div id="cmtswitcher">
<a id="commenttab" class="curtab" href="javascript:void(0);" onclick="MGJS.switchTab('thecomments,commentnavi', 'thetrackbacks', 'commenttab', 'curtab', 'trackbacktab', 'tab');">Comments (13)</a>
<a id="trackbacktab" class="tab" href="javascript:void(0);" onclick="MGJS.switchTab('thetrackbacks', 'thecomments,commentnavi', 'trackbacktab', 'curtab', 'commenttab', 'tab');">Trackbacks (0)</a>
<span class="addcomment"><a href="#respond">Leave a comment</a></span>
<span class="addtrackback"><a href="http://www.skywind.me/blog/archives/1301/trackback">Trackback</a></span>
<div class="fixed"></div>
</div>
<div id="commentlist">
<!-- comments START -->
<ol id="thecomments">
<li class="comment regularcomment" id="comment-2670">
<div class="author">
<div class="pic">
<img alt="" src="http://2.gravatar.com/avatar/bbab26759ee5cff8e7cc5bc57e1ac851?s=32&amp;d=mm&amp;r=g" srcset="http://2.gravatar.com/avatar/bbab26759ee5cff8e7cc5bc57e1ac851?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" />			</div>
<div class="name">
<span id="commentauthor-2670">
yvesma
</span>
</div>
</div>
<div class="info">
<div class="date">
April 26th, 2015 at 23:10					 | <a href="#comment-2670">#1</a>
</div>
<div class="act">
<a href="javascript:void(0);" onclick="MGJS_CMT.reply('commentauthor-2670', 'comment-2670', 'comment');">Reply</a> | 
<a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-2670', 'comment-2670', 'commentbody-2670', 'comment');">Quote</a>
</div>
<div class="fixed"></div>
<div class="content">
<div id="commentbody-2670">
<p>很喜欢这个系列的文章</p>
</div>
</div>
</div>
<div class="fixed"></div>
</li><!-- #comment-## -->
<li class="comment admincomment" id="comment-2673">
<div class="author">
<div class="pic">
<img alt="" src="http://0.gravatar.com/avatar/317acfa0b5f7dd5cb8163103e2bfb3f6?s=32&amp;d=mm&amp;r=g" srcset="http://0.gravatar.com/avatar/317acfa0b5f7dd5cb8163103e2bfb3f6?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" />			</div>
<div class="name">
<a id="commentauthor-2673" class="url" href="http://www.skywind.me/blog" rel="external nofollow">
skywind
</a>
</div>
</div>
<div class="info">
<div class="date">
April 29th, 2015 at 19:44					 | <a href="#comment-2673">#2</a>
</div>
<div class="act">
<a href="javascript:void(0);" onclick="MGJS_CMT.reply('commentauthor-2673', 'comment-2673', 'comment');">Reply</a> | 
<a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-2673', 'comment-2673', 'commentbody-2673', 'comment');">Quote</a>
</div>
<div class="fixed"></div>
<div class="content">
<div id="commentbody-2673">
<p><a href="#comment-2670" rel="nofollow">@yvesma </a><br />
哈，有空继续更新。</p>
</div>
</div>
</div>
<div class="fixed"></div>
</li><!-- #comment-## -->
<li class="comment regularcomment" id="comment-2674">
<div class="author">
<div class="pic">
<img alt="" src="http://1.gravatar.com/avatar/17982d4512a088bf4d3df2071f877a55?s=32&amp;d=mm&amp;r=g" srcset="http://1.gravatar.com/avatar/17982d4512a088bf4d3df2071f877a55?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" />			</div>
<div class="name">
<span id="commentauthor-2674">
rip
</span>
</div>
</div>
<div class="info">
<div class="date">
April 29th, 2015 at 21:02					 | <a href="#comment-2674">#3</a>
</div>
<div class="act">
<a href="javascript:void(0);" onclick="MGJS_CMT.reply('commentauthor-2674', 'comment-2674', 'comment');">Reply</a> | 
<a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-2674', 'comment-2674', 'commentbody-2674', 'comment');">Quote</a>
</div>
<div class="fixed"></div>
<div class="content">
<div id="commentbody-2674">
<p>很喜欢这个系列的文章哦。<br />
我刚接触游戏开发一段时间，目前工作是上篇文章介绍的第2代游戏服务器。对第三代挺感兴趣的，不知道有没有什么这代的游戏代码可以参考的，求博主推荐</p>
</div>
</div>
</div>
<div class="fixed"></div>
</li><!-- #comment-## -->
<li class="comment regularcomment" id="comment-2675">
<div class="author">
<div class="pic">
<img alt="" src="http://1.gravatar.com/avatar/4db9f0f9d54f80168435b200cadb88f4?s=32&amp;d=mm&amp;r=g" srcset="http://1.gravatar.com/avatar/4db9f0f9d54f80168435b200cadb88f4?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" />			</div>
<div class="name">
<span id="commentauthor-2675">
kanaz
</span>
</div>
</div>
<div class="info">
<div class="date">
April 30th, 2015 at 07:14					 | <a href="#comment-2675">#4</a>
</div>
<div class="act">
<a href="javascript:void(0);" onclick="MGJS_CMT.reply('commentauthor-2675', 'comment-2675', 'comment');">Reply</a> | 
<a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-2675', 'comment-2675', 'commentbody-2675', 'comment');">Quote</a>
</div>
<div class="fixed"></div>
<div class="content">
<div id="commentbody-2675">
<p>cool!</p>
</div>
</div>
</div>
<div class="fixed"></div>
</li><!-- #comment-## -->
<li class="comment admincomment" id="comment-2677">
<div class="author">
<div class="pic">
<img alt="" src="http://0.gravatar.com/avatar/317acfa0b5f7dd5cb8163103e2bfb3f6?s=32&amp;d=mm&amp;r=g" srcset="http://0.gravatar.com/avatar/317acfa0b5f7dd5cb8163103e2bfb3f6?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" />			</div>
<div class="name">
<a id="commentauthor-2677" class="url" href="http://www.skywind.me/blog" rel="external nofollow">
skywind
</a>
</div>
</div>
<div class="info">
<div class="date">
April 30th, 2015 at 17:28					 | <a href="#comment-2677">#5</a>
</div>
<div class="act">
<a href="javascript:void(0);" onclick="MGJS_CMT.reply('commentauthor-2677', 'comment-2677', 'comment');">Reply</a> | 
<a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-2677', 'comment-2677', 'commentbody-2677', 'comment');">Quote</a>
</div>
<div class="fixed"></div>
<div class="content">
<div id="commentbody-2677">
<p><a href="#comment-2674" rel="nofollow">@rip </a><br />
这个真么什么开源的代码呀，都是各个公司自己做的。</p>
</div>
</div>
</div>
<div class="fixed"></div>
</li><!-- #comment-## -->
<li class="comment regularcomment" id="comment-2717">
<div class="author">
<div class="pic">
<img alt="" src="http://1.gravatar.com/avatar/1bf8d94feabe5ba4b9a8fcbfebae8e6b?s=32&amp;d=mm&amp;r=g" srcset="http://1.gravatar.com/avatar/1bf8d94feabe5ba4b9a8fcbfebae8e6b?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" />			</div>
<div class="name">
<span id="commentauthor-2717">
dictator
</span>
</div>
</div>
<div class="info">
<div class="date">
May 15th, 2015 at 14:35					 | <a href="#comment-2717">#6</a>
</div>
<div class="act">
<a href="javascript:void(0);" onclick="MGJS_CMT.reply('commentauthor-2717', 'comment-2717', 'comment');">Reply</a> | 
<a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-2717', 'comment-2717', 'commentbody-2717', 'comment');">Quote</a>
</div>
<div class="fixed"></div>
<div class="content">
<div id="commentbody-2717">
<p>这个系列的（下）是不写了么</p>
</div>
</div>
</div>
<div class="fixed"></div>
</li><!-- #comment-## -->
<li class="comment admincomment" id="comment-2718">
<div class="author">
<div class="pic">
<img alt="" src="http://0.gravatar.com/avatar/317acfa0b5f7dd5cb8163103e2bfb3f6?s=32&amp;d=mm&amp;r=g" srcset="http://0.gravatar.com/avatar/317acfa0b5f7dd5cb8163103e2bfb3f6?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" />			</div>
<div class="name">
<a id="commentauthor-2718" class="url" href="http://www.skywind.me/blog" rel="external nofollow">
skywind
</a>
</div>
</div>
<div class="info">
<div class="date">
May 15th, 2015 at 22:32					 | <a href="#comment-2718">#7</a>
</div>
<div class="act">
<a href="javascript:void(0);" onclick="MGJS_CMT.reply('commentauthor-2718', 'comment-2718', 'comment');">Reply</a> | 
<a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-2718', 'comment-2718', 'commentbody-2718', 'comment');">Quote</a>
</div>
<div class="fixed"></div>
<div class="content">
<div id="commentbody-2718">
<p><a href="#comment-2717" rel="nofollow">@dictator </a><br />
先占个位吧，画图和码字太累，最近两周忙，等有整块时间就写出来。</p>
</div>
</div>
</div>
<div class="fixed"></div>
</li><!-- #comment-## -->
<li class="comment regularcomment" id="comment-2751">
<div class="author">
<div class="pic">
<img alt="" src="http://0.gravatar.com/avatar/cdd3ce2ef1eda5e3a79354ddd75eb6c1?s=32&amp;d=mm&amp;r=g" srcset="http://0.gravatar.com/avatar/cdd3ce2ef1eda5e3a79354ddd75eb6c1?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" />			</div>
<div class="name">
<span id="commentauthor-2751">
jjqquu
</span>
</div>
</div>
<div class="info">
<div class="date">
May 25th, 2015 at 19:22					 | <a href="#comment-2751">#8</a>
</div>
<div class="act">
<a href="javascript:void(0);" onclick="MGJS_CMT.reply('commentauthor-2751', 'comment-2751', 'comment');">Reply</a> | 
<a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-2751', 'comment-2751', 'commentbody-2751', 'comment');">Quote</a>
</div>
<div class="fixed"></div>
<div class="content">
<div id="commentbody-2751">
<p><a href="#comment-2718" rel="nofollow">@skywind </a> </p>
<p>期待大牛你的系列的（下）篇：）</p>
<p>自从你码完前两篇，我就落下了病根，隔三差五就得来看看，呵呵。</p>
</div>
</div>
</div>
<div class="fixed"></div>
</li><!-- #comment-## -->
<li class="comment admincomment" id="comment-2764">
<div class="author">
<div class="pic">
<img alt="" src="http://0.gravatar.com/avatar/317acfa0b5f7dd5cb8163103e2bfb3f6?s=32&amp;d=mm&amp;r=g" srcset="http://0.gravatar.com/avatar/317acfa0b5f7dd5cb8163103e2bfb3f6?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" />			</div>
<div class="name">
<a id="commentauthor-2764" class="url" href="http://www.skywind.me/blog" rel="external nofollow">
skywind
</a>
</div>
</div>
<div class="info">
<div class="date">
May 29th, 2015 at 12:13					 | <a href="#comment-2764">#9</a>
</div>
<div class="act">
<a href="javascript:void(0);" onclick="MGJS_CMT.reply('commentauthor-2764', 'comment-2764', 'comment');">Reply</a> | 
<a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-2764', 'comment-2764', 'commentbody-2764', 'comment');">Quote</a>
</div>
<div class="fixed"></div>
<div class="content">
<div id="commentbody-2764">
<p><a href="#comment-2751" rel="nofollow">@jjqquu </a><br />
先占个位，画图很累，有空再写，不会太监的。</p>
</div>
</div>
</div>
<div class="fixed"></div>
</li><!-- #comment-## -->
<li class="comment regularcomment" id="comment-3069">
<div class="author">
<div class="pic">
<img alt="" src="http://2.gravatar.com/avatar/be6220ef3d370e7f41d11175245735ae?s=32&amp;d=mm&amp;r=g" srcset="http://2.gravatar.com/avatar/be6220ef3d370e7f41d11175245735ae?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" />			</div>
<div class="name">
<span id="commentauthor-3069">
wbpmrck
</span>
</div>
</div>
<div class="info">
<div class="date">
July 30th, 2015 at 13:01					 | <a href="#comment-3069">#10</a>
</div>
<div class="act">
<a href="javascript:void(0);" onclick="MGJS_CMT.reply('commentauthor-3069', 'comment-3069', 'comment');">Reply</a> | 
<a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-3069', 'comment-3069', 'commentbody-3069', 'comment');">Quote</a>
</div>
<div class="fixed"></div>
<div class="content">
<div id="commentbody-3069">
<p>真心好文，期待下篇。楼主加油</p>
</div>
</div>
</div>
<div class="fixed"></div>
</li><!-- #comment-## -->
<li class="comment regularcomment" id="comment-9422">
<div class="author">
<div class="pic">
<img alt="" src="http://0.gravatar.com/avatar/f86f02c3227f01349da6276b3c41ba6e?s=32&amp;d=mm&amp;r=g" srcset="http://0.gravatar.com/avatar/f86f02c3227f01349da6276b3c41ba6e?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" />			</div>
<div class="name">
<span id="commentauthor-9422">
AK-47
</span>
</div>
</div>
<div class="info">
<div class="date">
December 10th, 2015 at 11:33					 | <a href="#comment-9422">#11</a>
</div>
<div class="act">
<a href="javascript:void(0);" onclick="MGJS_CMT.reply('commentauthor-9422', 'comment-9422', 'comment');">Reply</a> | 
<a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-9422', 'comment-9422', 'commentbody-9422', 'comment');">Quote</a>
</div>
<div class="fixed"></div>
<div class="content">
<div id="commentbody-9422">
<p>你好，我想请教下，在A、B，node边界处，一个正处于node A管理中的玩家，去攻击一个正被node B管理的玩家或者怪物，这时候该怎么处理呢？</p>
</div>
</div>
</div>
<div class="fixed"></div>
</li><!-- #comment-## -->
<li class="comment regularcomment" id="comment-76948">
<div class="author">
<div class="pic">
<img alt="" src="http://1.gravatar.com/avatar/49e010fa5ab77d83c074f47df40941bb?s=32&amp;d=mm&amp;r=g" srcset="http://1.gravatar.com/avatar/49e010fa5ab77d83c074f47df40941bb?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" />			</div>
<div class="name">
<span id="commentauthor-76948">
subfire hu
</span>
</div>
</div>
<div class="info">
<div class="date">
December 7th, 2019 at 14:49					 | <a href="#comment-76948">#12</a>
</div>
<div class="act">
<a href="javascript:void(0);" onclick="MGJS_CMT.reply('commentauthor-76948', 'comment-76948', 'comment');">Reply</a> | 
<a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-76948', 'comment-76948', 'commentbody-76948', 'comment');">Quote</a>
</div>
<div class="fixed"></div>
<div class="content">
<div id="commentbody-76948">
<p>2019年了 我们公司新项目MMORPG还用的是第二代架构</p>
</div>
</div>
</div>
<div class="fixed"></div>
</li><!-- #comment-## -->
<li class="comment regularcomment" id="comment-76949">
<div class="author">
<div class="pic">
<img alt="" src="http://0.gravatar.com/avatar/3ee1fd24d78e07dbbfa01732bfb94425?s=32&amp;d=mm&amp;r=g" srcset="http://0.gravatar.com/avatar/3ee1fd24d78e07dbbfa01732bfb94425?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" />			</div>
<div class="name">
<span id="commentauthor-76949">
diaojinping
</span>
</div>
</div>
<div class="info">
<div class="date">
December 7th, 2019 at 14:50					 | <a href="#comment-76949">#13</a>
</div>
<div class="act">
<a href="javascript:void(0);" onclick="MGJS_CMT.reply('commentauthor-76949', 'comment-76949', 'comment');">Reply</a> | 
<a href="javascript:void(0);" onclick="MGJS_CMT.quote('commentauthor-76949', 'comment-76949', 'commentbody-76949', 'comment');">Quote</a>
</div>
<div class="fixed"></div>
<div class="content">
<div id="commentbody-76949">
<p>厉害了</p>
</div>
</div>
</div>
<div class="fixed"></div>
</li><!-- #comment-## -->
</ol>
<!-- comments END -->
<!-- trackbacks START -->
<ol id="thetrackbacks">
<li class="messagebox">
No trackbacks yet.				</li>
</ol>
<div class="fixed"></div>
<!-- trackbacks END -->
</div>
</div>
<form action="http://www.skywind.me/blog/wp-comments-post.php" method="post" id="commentform">
<div id="respond">
<div id="author_info">
<div class="row">
<input type="text" name="author" id="author" class="textfield" value="" size="24" tabindex="1" />
<label for="author" class="small">Name (required)</label>
</div>
<div class="row">
<input type="text" name="email" id="email" class="textfield" value="" size="24" tabindex="2" />
<label for="email" class="small">E-Mail (will not be published) (required)</label>
</div>
<div class="row">
<input type="text" name="url" id="url" class="textfield" value="" size="24" tabindex="3" />
<label for="url" class="small">Website</label>
</div>
</div>
<!-- comment input -->
<div class="row">
<textarea name="comment" id="comment" tabindex="4" rows="8" cols="50"></textarea>
</div>
<!-- comment submit and rss -->
<div id="submitbox">
<a class="feed" href="http://www.skywind.me/blog/comments/feed">Subscribe to comments feed</a>
<div class="submitbutton">
<input name="submit" type="submit" id="submit" class="button" tabindex="5" value="Submit Comment" />
</div>
<input type="hidden" name="comment_post_ID" value="1301" />
<div class="fixed"></div>
</div>
</div>
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="22f6362225" /></p><p style="display: none;"></p>	<input type="hidden" id="ak_js" name="ak_js" value="1619510143163" /></form>
<div id="postnavi">
<span class="prev"><a href="http://www.skywind.me/blog/archives/1541" rel="next">计算机图形算法中的光滑边缘算法经历了那些变迁？</a></span>
<span class="next"><a href="http://www.skywind.me/blog/archives/1265" rel="prev">游戏服务端架构发展史（上）</a></span>
<div class="fixed"></div>
</div>
                                	</div>
<!-- main END -->
<!-- sidebar START -->
<div id="sidebar">
<!-- sidebar north START -->
<div id="northsidebar" class="sidebar">
<!-- feeds -->
<div class="widget widget_feeds">
<div class="content">
<div id="subscribe"><a rel="external nofollow" id="feedrss" title="Subscribe to this blog..." href="http://www.skywind.me/blog/feed"><abbr title="Really Simple Syndication">RSS</abbr></a><ul id="feed_readers" style="visibility: hidden; display: block;"><li id="google_reader"><a rel="external nofollow" class="reader" title="Subscribe with Google" href="http://fusion.google.com/add?feedurl=http://www.skywind.me/blog/feed"><span>Google</span></a></li><li id="youdao_reader"><a rel="external nofollow" class="reader" title="Subscribe with Youdao" href="http://reader.youdao.com/#url=http://www.skywind.me/blog/feed"><span>Youdao</span></a></li><li id="xianguo_reader"><a rel="external nofollow" class="reader" title="Subscribe with Xian Guo" href="http://www.xianguo.com/subscribe.php?url=http://www.skywind.me/blog/feed"><span>Xian Guo</span></a></li><li id="zhuaxia_reader"><a rel="external nofollow" class="reader" title="Subscribe with Zhua Xia" href="http://www.zhuaxia.com/add_channel.php?url=http://www.skywind.me/blog/feed"><span>Zhua Xia</span></a></li><li id="yahoo_reader"><a rel="external nofollow" class="reader" title="Subscribe with My Yahoo!" href="http://add.my.yahoo.com/rss?url=http://www.skywind.me/blog/feed"><span>My Yahoo!</span></a></li><li id="newsgator_reader"><a rel="external nofollow" class="reader" title="Subscribe with newsgator" href="http://www.newsgator.com/ngs/subscriber/subfext.aspx?url=http://www.skywind.me/blog/feed"><span>newsgator</span></a></li><li id="bloglines_reader"><a rel="external nofollow" class="reader" title="Subscribe with Bloglines" href="http://www.bloglines.com/sub/http://www.skywind.me/blog/feed"><span>Bloglines</span></a></li><li id="inezha_reader"><a rel="external nofollow" class="reader last" title="Subscribe with iNezha" href="http://inezha.com/add?url=http://www.skywind.me/blog/feed"><span>iNezha</span></a></li></ul></div>
<div class="fixed"></div>
</div>
</div>
<!-- showcase -->
<!-- posts -->
<div class="widget">
<h3>Recent Posts</h3>
<ul>
<li><a href="http://www.skywind.me/blog/archives/2554">如何长时间保存重要数据？</a></li><li><a href="http://www.skywind.me/blog/archives/2343">用 Vim/VsCode 来写 WordPress 博客</a></li><li><a href="http://www.skywind.me/blog/archives/2308">kNN 的花式用法</a></li><li><a href="http://www.skywind.me/blog/archives/2250">如何实现和优化 SVM（支持向量机）？</a></li><li><a href="http://www.skywind.me/blog/archives/2542">内网穿透：在公网访问你家的 NAS</a></li><li><a href="http://www.skywind.me/blog/archives/2546">SSH 命令的三种代理功能（-L/-R/-D）</a></li><li><a href="http://www.skywind.me/blog/archives/2229">别让 cd 浪费你的时间</a></li><li><a href="http://www.skywind.me/blog/archives/2538">Nas 系统的虚拟化方案</a></li><li><a href="http://www.skywind.me/blog/archives/2530">KVM 虚拟化环境搭建 – WebVirtMgr</a></li><li><a href="http://www.skywind.me/blog/archives/2549">常用公有云的替换方案</a></li>		</ul>
</div>
<!-- recent comments -->
<!-- tag cloud -->
<div id="tag_cloud" class="widget">
<h3>Tag Cloud</h3>
<a href="http://www.skywind.me/blog/tags/ai-2" class="tag-cloud-link tag-link-45 tag-link-position-1" style="font-size: 13.591397849462pt;" aria-label="AI (8 items)">AI</a>
<a href="http://www.skywind.me/blog/tags/android" class="tag-cloud-link tag-link-52 tag-link-position-2" style="font-size: 9.5483870967742pt;" aria-label="Android (2 items)">Android</a>
<a href="http://www.skywind.me/blog/tags/as3" class="tag-cloud-link tag-link-37 tag-link-position-3" style="font-size: 9.5483870967742pt;" aria-label="AS3 (2 items)">AS3</a>
<a href="http://www.skywind.me/blog/tags/c" class="tag-cloud-link tag-link-49 tag-link-position-4" style="font-size: 12.731182795699pt;" aria-label="C++ (6 items)">C++</a>
<a href="http://www.skywind.me/blog/tags/cygwin" class="tag-cloud-link tag-link-47 tag-link-position-5" style="font-size: 8pt;" aria-label="cygwin (1 item)">cygwin</a>
<a href="http://www.skywind.me/blog/tags/dos" class="tag-cloud-link tag-link-20 tag-link-position-6" style="font-size: 10.58064516129pt;" aria-label="Dos (3 items)">Dos</a>
<a href="http://www.skywind.me/blog/tags/kcp" class="tag-cloud-link tag-link-54 tag-link-position-7" style="font-size: 8pt;" aria-label="KCP (1 item)">KCP</a>
<a href="http://www.skywind.me/blog/tags/linux" class="tag-cloud-link tag-link-60 tag-link-position-8" style="font-size: 13.591397849462pt;" aria-label="Linux (8 items)">Linux</a>
<a href="http://www.skywind.me/blog/tags/nas" class="tag-cloud-link tag-link-70 tag-link-position-9" style="font-size: 9.5483870967742pt;" aria-label="Nas (2 items)">Nas</a>
<a href="http://www.skywind.me/blog/tags/p2p" class="tag-cloud-link tag-link-42 tag-link-position-10" style="font-size: 8pt;" aria-label="P2P (1 item)">P2P</a>
<a href="http://www.skywind.me/blog/tags/python" class="tag-cloud-link tag-link-32 tag-link-position-11" style="font-size: 9.5483870967742pt;" aria-label="Python (2 items)">Python</a>
<a href="http://www.skywind.me/blog/tags/udp" class="tag-cloud-link tag-link-69 tag-link-position-12" style="font-size: 8pt;" aria-label="Udp (1 item)">Udp</a>
<a href="http://www.skywind.me/blog/tags/vim" class="tag-cloud-link tag-link-57 tag-link-position-13" style="font-size: 16pt;" aria-label="Vim (16 items)">Vim</a>
<a href="http://www.skywind.me/blog/tags/win32" class="tag-cloud-link tag-link-24 tag-link-position-14" style="font-size: 8pt;" aria-label="Win32 (1 item)">Win32</a>
<a href="http://www.skywind.me/blog/tags/%e4%bc%98%e5%8c%96" class="tag-cloud-link tag-link-43 tag-link-position-15" style="font-size: 12.129032258065pt;" aria-label="优化 (5 items)">优化</a>
<a href="http://www.skywind.me/blog/tags/%e5%88%9b%e4%b8%9a" class="tag-cloud-link tag-link-64 tag-link-position-16" style="font-size: 11.440860215054pt;" aria-label="创业 (4 items)">创业</a>
<a href="http://www.skywind.me/blog/tags/%e5%90%8c%e6%ad%a5" class="tag-cloud-link tag-link-28 tag-link-position-17" style="font-size: 11.440860215054pt;" aria-label="同步 (4 items)">同步</a>
<a href="http://www.skywind.me/blog/tags/%e5%91%bd%e4%bb%a4%e8%a1%8c" class="tag-cloud-link tag-link-66 tag-link-position-18" style="font-size: 13.591397849462pt;" aria-label="命令行 (8 items)">命令行</a>
<a href="http://www.skywind.me/blog/tags/%e5%9b%be%e5%bd%a2" class="tag-cloud-link tag-link-41 tag-link-position-19" style="font-size: 15.311827956989pt;" aria-label="图形 (13 items)">图形</a>
<a href="http://www.skywind.me/blog/tags/%e5%b0%8f%e6%b8%b8%e6%88%8f" class="tag-cloud-link tag-link-23 tag-link-position-20" style="font-size: 9.5483870967742pt;" aria-label="小游戏 (2 items)">小游戏</a>
<a href="http://www.skywind.me/blog/tags/%e6%8a%97%e9%94%af%e9%bd%bf" class="tag-cloud-link tag-link-39 tag-link-position-21" style="font-size: 9.5483870967742pt;" aria-label="抗锯齿 (2 items)">抗锯齿</a>
<a href="http://www.skywind.me/blog/tags/%e6%b1%87%e7%bc%96" class="tag-cloud-link tag-link-31 tag-link-position-22" style="font-size: 14.021505376344pt;" aria-label="汇编 (9 items)">汇编</a>
<a href="http://www.skywind.me/blog/tags/%e6%bc%94%e7%a4%ba" class="tag-cloud-link tag-link-25 tag-link-position-23" style="font-size: 12.731182795699pt;" aria-label="演示 (6 items)">演示</a>
<a href="http://www.skywind.me/blog/tags/%e7%9f%a2%e9%87%8f%e4%bd%9c%e5%9b%be" class="tag-cloud-link tag-link-40 tag-link-position-24" style="font-size: 8pt;" aria-label="矢量作图 (1 item)">矢量作图</a>
<a href="http://www.skywind.me/blog/tags/%e7%9f%a5%e4%b9%8e" class="tag-cloud-link tag-link-48 tag-link-position-25" style="font-size: 9.5483870967742pt;" aria-label="知乎 (2 items)">知乎</a>
<a href="http://www.skywind.me/blog/tags/%e7%ad%96%e5%88%92" class="tag-cloud-link tag-link-35 tag-link-position-26" style="font-size: 9.5483870967742pt;" aria-label="策划 (2 items)">策划</a>
<a href="http://www.skywind.me/blog/tags/%e7%ae%97%e6%b3%95" class="tag-cloud-link tag-link-33 tag-link-position-27" style="font-size: 14.021505376344pt;" aria-label="算法 (9 items)">算法</a>
<a href="http://www.skywind.me/blog/tags/%e7%ae%a1%e7%90%86" class="tag-cloud-link tag-link-65 tag-link-position-28" style="font-size: 10.58064516129pt;" aria-label="管理 (3 items)">管理</a>
<a href="http://www.skywind.me/blog/tags/%e7%b3%bb%e7%bb%9f%e5%bc%80%e5%8f%91" class="tag-cloud-link tag-link-51 tag-link-position-29" style="font-size: 12.129032258065pt;" aria-label="系统开发 (5 items)">系统开发</a>
<a href="http://www.skywind.me/blog/tags/%e7%bd%91%e7%bb%9c" class="tag-cloud-link tag-link-27 tag-link-position-30" style="font-size: 14.709677419355pt;" aria-label="网络 (11 items)">网络</a>
<a href="http://www.skywind.me/blog/tags/%e7%bf%bb%e8%af%91" class="tag-cloud-link tag-link-36 tag-link-position-31" style="font-size: 10.58064516129pt;" aria-label="翻译 (3 items)">翻译</a>
<a href="http://www.skywind.me/blog/tags/%e8%99%9a%e6%8b%9f%e6%9c%ba" class="tag-cloud-link tag-link-17 tag-link-position-32" style="font-size: 10.58064516129pt;" aria-label="虚拟机 (3 items)">虚拟机</a>
<a href="http://www.skywind.me/blog/tags/%e8%a7%86%e9%a2%91" class="tag-cloud-link tag-link-53 tag-link-position-33" style="font-size: 10.58064516129pt;" aria-label="视频 (3 items)">视频</a>
<a href="http://www.skywind.me/blog/tags/%e8%ae%b2%e4%b9%89" class="tag-cloud-link tag-link-44 tag-link-position-34" style="font-size: 12.129032258065pt;" aria-label="讲义 (5 items)">讲义</a>
<a href="http://www.skywind.me/blog/tags/%e8%af%8d%e6%b3%95%e5%88%86%e6%9e%90" class="tag-cloud-link tag-link-15 tag-link-position-35" style="font-size: 12.129032258065pt;" aria-label="词法分析 (5 items)">词法分析</a>
<a href="http://www.skywind.me/blog/tags/%e8%af%ad%e6%b3%95%e5%88%86%e6%9e%90" class="tag-cloud-link tag-link-18 tag-link-position-36" style="font-size: 10.58064516129pt;" aria-label="语法分析 (3 items)">语法分析</a>
<a href="http://www.skywind.me/blog/tags/%e8%b6%b3%e8%bf%b9" class="tag-cloud-link tag-link-46 tag-link-position-37" style="font-size: 12.731182795699pt;" aria-label="足迹 (6 items)">足迹</a>
<a href="http://www.skywind.me/blog/tags/%e9%97%b2%e8%81%8a" class="tag-cloud-link tag-link-29 tag-link-position-38" style="font-size: 14.709677419355pt;" aria-label="闲聊 (11 items)">闲聊</a>
<a href="http://www.skywind.me/blog/tags/%e9%9a%8f%e7%ac%94" class="tag-cloud-link tag-link-58 tag-link-position-39" style="font-size: 13.591397849462pt;" aria-label="随笔 (8 items)">随笔</a>	</div>
</div>
<!-- sidebar north END -->
<div id="centersidebar">
<!-- sidebar east START -->
<div id="eastsidebar" class="sidebar">
<div id="linkcat-2" class="widget widget_links"><h3>Links</h3>
<ul class="xoxo blogroll">
<li><a href="https://twitter.com/skywind3000" rel="me" title="我的推特首页" target="_blank">Twitter</a></li>
<li><a href="https://zhihu.com/people/skywind3000" rel="me" title="我的知乎首页" target="_blank">知乎</a></li>
</ul>
</div>
</div>
<!-- sidebar east END -->
<!-- sidebar west START -->
<div id="westsidebar" class="sidebar">
<div id="categories-4" class="widget widget_categories"><h3>Categories</h3>		<ul>
<li class="cat-item cat-item-5"><a href="http://www.skywind.me/blog/topics/ai">人工智能</a> (9)
</li>
<li class="cat-item cat-item-4"><a href="http://www.skywind.me/blog/topics/graphics">图形编程</a> (22)
</li>
<li class="cat-item cat-item-7"><a href="http://www.skywind.me/blog/topics/life">大浪淘沙</a> (19)
</li>
<li class="cat-item cat-item-13"><a href="http://www.skywind.me/blog/topics/opensrc">开源项目</a> (8)
</li>
<li class="cat-item cat-item-1"><a href="http://www.skywind.me/blog/topics/uncategorized">未分类</a> (16)
</li>
<li class="cat-item cat-item-6"><a href="http://www.skywind.me/blog/topics/gamedev">游戏开发</a> (28)
</li>
<li class="cat-item cat-item-11"><a href="http://www.skywind.me/blog/topics/program">编程技术</a> (51)
</li>
<li class="cat-item cat-item-10"><a href="http://www.skywind.me/blog/topics/compile">编译技术</a> (6)
</li>
<li class="cat-item cat-item-3"><a href="http://www.skywind.me/blog/topics/network">网络编程</a> (16)
</li>
<li class="cat-item cat-item-8"><a href="http://www.skywind.me/blog/topics/casual">随笔</a> (60)
</li>
</ul>
</div>	</div>
<!-- sidebar west END -->
<div class="fixed"></div>
</div>
<!-- sidebar south START -->
<div id="southsidebar" class="sidebar">
<div id="wpp-2" class="widget popular-posts">
<h3>Popular Posts</h3><!-- cached -->
<!-- WordPress Popular Posts -->
<ul class="wpp-list">
<li>
<a href="http://www.skywind.me/blog/archives/1048" title="快速可靠协议-KCP" class="wpp-post-title" target="_self">快速可靠协议-KCP</a>
</li>
<li>
<a href="http://www.skywind.me/blog/archives/2542" title="内网穿透：在公网访问你家的 NAS" class="wpp-post-title" target="_self">内网穿透：在公网访问你家的 NAS</a>
</li>
<li>
<a href="http://www.skywind.me/blog/archives/131" title="帧锁定同步算法" class="wpp-post-title" target="_self">帧锁定同步算法</a>
</li>
<li>
<a href="http://www.skywind.me/blog/archives/2021" title="终端里正确设置 ALT 键和 BS 键" class="wpp-post-title" target="_self">终端里正确设置 ALT 键和 BS 键</a>
</li>
<li>
<a href="http://www.skywind.me/blog/archives/2530" title="KVM 虚拟化环境搭建 – WebVirtMgr" class="wpp-post-title" target="_self">KVM 虚拟化环境搭建 – WebVirtMgr</a>
</li>
<li>
<a href="http://www.skywind.me/blog/archives/1813" title="Vim 异步编译插件 vimmake" class="wpp-post-title" target="_self">Vim 异步编译插件 vimmake</a>
</li>
<li>
<a href="http://www.skywind.me/blog/archives/2308" title="kNN 的花式用法" class="wpp-post-title" target="_self">kNN 的花式用法</a>
</li>
<li>
<a href="http://www.skywind.me/blog/archives/2546" title="SSH 命令的三种代理功能（-L/-R/-D）" class="wpp-post-title" target="_self">SSH 命令的三种代理功能（-L/-R/-D）</a>
</li>
<li>
<a href="http://www.skywind.me/blog/archives/1244" title="转换 Intel汇编格式到 AT&amp;T汇编风格" class="wpp-post-title" target="_self">转换 Intel汇编格式到 AT&amp;T汇编风格</a>
</li>
<li>
<a href="http://www.skywind.me/blog/archives/2475" title="如何在高丢包率的链路上建立低延迟连接？" class="wpp-post-title" target="_self">如何在高丢包率的链路上建立低延迟连接？</a>
</li>
</ul>
</div>
<div id="archives-5" class="widget widget_archive"><h3>Archives</h3>		<ul>
<li><a href="http://www.skywind.me/blog/archives/date/2019/05">May 2019</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2019/04">April 2019</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2019/02">February 2019</a> (3)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2019/01">January 2019</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2018/12">December 2018</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2018/11">November 2018</a> (3)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2018/10">October 2018</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2018/08">August 2018</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2018/05">May 2018</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2018/04">April 2018</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2018/03">March 2018</a> (3)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2018/02">February 2018</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2018/01">January 2018</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2017/12">December 2017</a> (3)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2017/10">October 2017</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2017/06">June 2017</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2017/05">May 2017</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2017/02">February 2017</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2017/01">January 2017</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2016/12">December 2016</a> (6)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2016/11">November 2016</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2016/08">August 2016</a> (4)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2016/07">July 2016</a> (3)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2016/06">June 2016</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2016/05">May 2016</a> (7)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2016/04">April 2016</a> (4)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2016/03">March 2016</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2016/02">February 2016</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2015/12">December 2015</a> (3)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2015/11">November 2015</a> (3)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2015/10">October 2015</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2015/08">August 2015</a> (3)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2015/07">July 2015</a> (6)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2015/06">June 2015</a> (5)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2015/05">May 2015</a> (3)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2015/04">April 2015</a> (9)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2013/04">April 2013</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2012/12">December 2012</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2012/11">November 2012</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2011/09">September 2011</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2011/08">August 2011</a> (6)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2011/07">July 2011</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2011/06">June 2011</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2011/04">April 2011</a> (10)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2011/03">March 2011</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2010/12">December 2010</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2010/07">July 2010</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2010/06">June 2010</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2010/01">January 2010</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2009/09">September 2009</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2009/07">July 2009</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2009/01">January 2009</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2008/04">April 2008</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2008/03">March 2008</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2008/02">February 2008</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2008/01">January 2008</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2007/12">December 2007</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2007/11">November 2007</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2007/09">September 2007</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2007/05">May 2007</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2007/04">April 2007</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2007/03">March 2007</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2007/02">February 2007</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2006/10">October 2006</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2006/08">August 2006</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2006/06">June 2006</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2006/03">March 2006</a> (3)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2006/01">January 2006</a> (3)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2005/12">December 2005</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2005/11">November 2005</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2005/10">October 2005</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2005/06">June 2005</a> (2)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2005/04">April 2005</a> (3)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2004/09">September 2004</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2002/09">September 2002</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2002/04">April 2002</a> (1)</li>
<li><a href="http://www.skywind.me/blog/archives/date/2001/04">April 2001</a> (1)</li>
</ul>
</div><div id="recent-comments-3" class="widget widget_recent_comments"><h3>Recent Comments</h3><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">diaojinping</span> on <a href="http://www.skywind.me/blog/archives/1301#comment-76949">游戏服务端架构发展史（中）</a></li><li class="recentcomments"><span class="comment-author-link">subfire hu</span> on <a href="http://www.skywind.me/blog/archives/1301#comment-76948">游戏服务端架构发展史（中）</a></li><li class="recentcomments"><span class="comment-author-link">silverys</span> on <a href="http://www.skywind.me/blog/archives/1327#comment-76795">游戏服务端架构发展史（下）</a></li><li class="recentcomments"><span class="comment-author-link"><a href="https://Drapeaux-print.com/guirlande-fanion-plastique-pub" rel="external nofollow" class="url">drapeau Publicitaire</a></span> on <a href="http://www.skywind.me/blog/archives/501#comment-76701">文莱沙巴旅游照片</a></li><li class="recentcomments"><span class="comment-author-link">HQ</span> on <a href="http://www.skywind.me/blog/archives/1327#comment-76662">游戏服务端架构发展史（下）</a></li></ul></div><div id="meta-3" class="widget widget_meta"><h3>Meta</h3>			<ul>
<li><a rel="nofollow" href="http://www.skywind.me/blog/wp-login.php">Log in</a></li>
<li><a href="http://www.skywind.me/blog/feed">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="http://www.skywind.me/blog/comments/feed">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
</div><div id="wp_statistics_widget-2" class="widget widget_wp_statistics_widget"><h3></h3><ul><li><label>Today's Visits: </label>1</li><li><label>Last 30 Days Visits: </label>392</li><li><label>Total Visits: </label>43,397</li></ul></div></div>
<!-- sidebar south END -->
</div>
<!-- sidebar END -->
<div class="fixed"></div>
</div>
<!-- content END -->
<!-- footer START -->
<div id="footer">
<a id="gotop" href="#" onclick="MGJS.goTop();return false;">Top</a>
<a id="powered" href="http://wordpress.org/">WordPress</a>
<div id="copyright">
Copyright © 2001-2019 Skywind Inside	</div>
<div id="themeinfo">
Theme by <a href="http://www.neoease.com/">NeoEase</a>. Valid <a href="http://validator.w3.org/check?uri=referer">XHTML 1.1</a> and <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3">CSS 3</a>.	</div>
</div>
<!-- footer END -->
</div>
<!-- container END -->
</div>
<!-- wrap END -->
<!-- LikeBtn.com BEGIN -->
<script type="text/javascript">var likebtn_wl = 1; (function(d, e, s) {a = d.createElement(e);m = d.getElementsByTagName(e)[0];a.async = 1;a.src = s;m.parentNode.insertBefore(a, m)})(document, 'script', '//w.likebtn.com/js/w/widget.js'); if (typeof(LikeBtn) != "undefined") { LikeBtn.init(); }</script>
<!-- LikeBtn.com END -->
<div class="sfsiplus_footerLnk" style="margin: 0 auto;z-index:1000; text-align: center;"><a href="https://www.ultimatelysocial.com/usm-premium/" target="new">Wordpress Social Share Plugin </a> powered by Ultimatelysocial</div><script>
window.addEventListener('sfsi_functions_loaded', function() {
if (typeof sfsi_responsive_toggle == 'function') {
sfsi_responsive_toggle(0);
console.log('sfsi_responsive_toggle');
}
})
</script>
<script>
window.addEventListener('sfsi_functions_loaded', function() {
if (typeof sfsi_plugin_version == 'function') {
sfsi_plugin_version(2.43);
}
});
function sfsi_processfurther(ref) {
var feed_id = 'bWRCRDMzMFRkYnoxRWtrRHVlakM3dFV4cnNGUUlKcENTYXQ5UHF3QmUwY3h0V24xbmRXZ0dWNGN5N2RrWnA4QnhLdzU2SzhTVzlSaHF6MHAwN1NoV1dSSDNZcHZhNUdTcUhHeHBqVnJNV05RTVZYTUZMR3M1Nk9XZ254cFZvSnF8aHZldk9EQU1FcmxBb1A2RHI5TmNpc2pLNnpieGw0OXExSWtNOTZ0Tk5pRT0=';
var feedtype = 8;
var email = jQuery(ref).find('input[name="data[Widget][email]"]').val();
var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
if ((email != "Enter your email") &amp;&amp; (filter.test(email))) {
if (feed_id != "") {
if (feedtype == "8") {
var url = "https://www.specificfeeds.com/widgets/subscribeWidget/" + feed_id + "/" + feedtype;
window.open('', "popupwindow", "scrollbars=yes,width=1080,height=760");
ref.action = url;
ref.target = "popupwindow";
return true;
} else {
return false
}
}
} else {
alert("Please enter email address");
jQuery(ref).find('input[name="data[Widget][email]"]').focus();
return false;
}
}
</script>
<style type="text/css" aria-selected="true">
.sfsi_subscribe_Popinner {
width: 100% !important;
height: auto !important;
padding: 18px 0px !important;
background-color: #ffffff !important;
}
.sfsi_subscribe_Popinner form {
margin: 0 20px !important;
}
.sfsi_subscribe_Popinner h5 {
font-family: Helvetica,Arial,sans-serif !important;
font-weight: bold !important;
color: #000000 !important;
font-size: 16px !important;
text-align: center !important;
margin: 0 0 10px !important;
padding: 0 !important;
}
.sfsi_subscription_form_field {
margin: 5px 0 !important;
width: 100% !important;
display: inline-flex;
display: -webkit-inline-flex;
}
.sfsi_subscription_form_field input {
width: 100% !important;
padding: 10px 0px !important;
}
.sfsi_subscribe_Popinner input[type=email] {
font-family: Helvetica,Arial,sans-serif !important;
font-style: normal !important;
color: #000000 !important;
font-size: 14px !important;
text-align: center !important;
}
.sfsi_subscribe_Popinner input[type=email]::-webkit-input-placeholder {
font-family: Helvetica,Arial,sans-serif !important;
font-style: normal !important;
color: #000000 !important;
font-size: 14px !important;
text-align: center !important;
}
.sfsi_subscribe_Popinner input[type=email]:-moz-placeholder {
/* Firefox 18- */
font-family: Helvetica,Arial,sans-serif !important;
font-style: normal !important;
color: #000000 !important;
font-size: 14px !important;
text-align: center !important;
}
.sfsi_subscribe_Popinner input[type=email]::-moz-placeholder {
/* Firefox 19+ */
font-family: Helvetica,Arial,sans-serif !important;
font-style: normal !important;
color: #000000 !important;
font-size: 14px !important;
text-align: center !important;
}
.sfsi_subscribe_Popinner input[type=email]:-ms-input-placeholder {
font-family: Helvetica,Arial,sans-serif !important;
font-style: normal !important;
color: #000000 !important;
font-size: 14px !important;
text-align: center !important;
}
.sfsi_subscribe_Popinner input[type=submit] {
font-family: Helvetica,Arial,sans-serif !important;
font-weight: bold !important;
color: #000000 !important;
font-size: 16px !important;
text-align: center !important;
background-color: #dedede !important;
}
</style>
<!-- <link rel='stylesheet' id='hljstheme-css'  href='http://www.skywind.me/blog/wp-content/plugins/wp-code-highlightjs/styles/rainbow.css?ver=0.6.2' type='text/css' media='all' /> -->
<link rel="stylesheet" type="text/css" href="//www.skywind.me/blog/wp-content/cache/wpfc-minified/f4qw93ph/6eu8x.css" media="all" />
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js?ver=5.2.4"></script>
<script type="text/javascript" src="http://www.skywind.me/blog/wp-includes/js/jquery/ui/core.min.js?ver=1.11.4"></script>
<script type="text/javascript" src="http://www.skywind.me/blog/wp-content/plugins/ultimate-social-media-icons/js/shuffle/modernizr.custom.min.js?ver=5.2.4"></script>
<script type="text/javascript" src="http://www.skywind.me/blog/wp-content/plugins/ultimate-social-media-icons/js/shuffle/jquery.shuffle.min.js?ver=5.2.4"></script>
<script type="text/javascript" src="http://www.skywind.me/blog/wp-content/plugins/ultimate-social-media-icons/js/shuffle/random-shuffle-min.js?ver=5.2.4"></script>
<script type="text/javascript">
/* &lt;![CDATA[ */
var sfsi_icon_ajax_object = {"ajax_url":"http:\/\/www.skywind.me\/blog\/wp-admin\/admin-ajax.php"};
var sfsi_icon_ajax_object = {"ajax_url":"http:\/\/www.skywind.me\/blog\/wp-admin\/admin-ajax.php","plugin_url":"http:\/\/www.skywind.me\/blog\/wp-content\/plugins\/ultimate-social-media-icons\/"};
/* ]]&gt; */
</script>
<script type="text/javascript" src="http://www.skywind.me/blog/wp-content/plugins/ultimate-social-media-icons/js/custom.js?ver=5.2.4"></script>
<script type="text/javascript" src="http://www.skywind.me/blog/wp-content/plugins/page-links-to/js/new-tab.min.js?ver=3.1.2"></script>
<script type="text/javascript" src="http://www.skywind.me/blog/wp-includes/js/wp-embed.min.js?ver=5.2.4"></script>
<script type="text/javascript" src="http://www.skywind.me/blog/wp-content/plugins/wp-code-highlightjs/highlight.common.pack.js?ver=0.6.2"></script>
<script type="text/javascript" src="http://www.skywind.me/blog/wp-content/plugins/wp-code-highlightjs/highlight.custom.pack.js?ver=0.6.2"></script>
<script async="async" type="text/javascript" src="http://www.skywind.me/blog/wp-content/plugins/akismet/_inc/form.js?ver=4.1.2"></script>
<style>code.hljs { 
/* margin: 5px; */
padding: 5px;
background-image: none;
font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
font-size: 13px;
}
</style>
<script type="text/javascript">
(function($, window) {
var init_fn_flag = false;
var init_fn = (function() {
if (init_fn_flag)
return;
init_fn_flag = true;
hljs.configure({"tabReplace":"    "});
$('pre code').each(function(i, block) {
hljs.highlightBlock(block);
});
$('pre:not(:has(code))').each(function(i, block){
var class_desc = $(block).attr("class") || "";
var reg_mat = class_desc.match(/brush\s*:\s*([\w\d]+)/i);
if(!reg_mat || reg_mat.length &lt; 2)
return;
var code_content = $(block).removeClass("brush:").removeClass("ruler:").removeClass("first-line:").removeClass("highlight:")
.removeClass("brush:" + reg_mat[1] + ";").removeClass(reg_mat[1] + ";").removeClass("true;").removeClass("false;").html();
$(block).empty().append($("&lt;code class='hljs'&gt;&lt;/code&gt;").html(code_content)).addClass(reg_mat[1]);
hljs.highlightBlock(block);
});
});
$(document).ready(init_fn);
$(window).on("load", init_fn);
})(jQuery, window);
</script>

</body></html><!-- WP Fastest Cache file was created in 0.40244889259338 seconds, on 07-12-19 14:50:54 -->