<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="referrer" content="no-referrer-when-downgrade" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OpenGL入门-坐标系统_呦呦君 - MdEditor</title>
  <meta name="description" content="OpenGL入门-坐标系统"/>
  <link rel="shortcut icon" href="/static/img/favicon.ico" type="image/x-icon" />
  <link href="/static/img/icon114.png" rel="Bookmark" />
  <link rel="apple-touch-icon" sizes="57x57" href="/static/img/icon57.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="/static/img/icon72.png" />
  <link rel="apple-touch-icon" sizes="114x114" href="/static/img/icon114.png" />
  <link rel="apple-touch-icon" sizes="144x144" href="/static/img/icon144.png"/>
  <link rel="alternate" hreflang="zh-tw" href="//www.mdeditor.tw/pl/pZYE/zh-tw" />
  <link rel="alternate" hreflang="zh-cn" href="//www.mdeditor.tw/pl/pZYE" />
  <link rel="alternate" hreflang="zh-hk" href="//www.mdeditor.tw/pl/pZYE/zh-hk" />
		
  <link href="/static/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/atom-one-dark.min.css" rel="stylesheet">
  <link href="/static/css/content.css" rel="stylesheet">
  <meta name="referrer" content="never">
</head>
<body>
  
  <nav class="nav navbar-default" role="navigation">
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<div class="collapse navbar-collapse">
					<div class="navbar-header">
						<a href="//www.mdeditor.tw/" class="brand">MdEditor</a>    
					</div>
				</div>
			</div>
		</div>
	</div>
  </nav>
		

  <div class="container">  
      
<div class="row">
    <div class="col-md-8">
	  <div class="content">
	    
        <h1>OpenGL入门-坐标系统</h1>
		<div style="float:right">
			语言: <a href="//www.mdeditor.tw/pl/pZYE">CN</a> / <a href="//www.mdeditor.tw/pl/pZYE/zh-tw">TW</a> / <a href="//www.mdeditor.tw/pl/pZYE/zh-hk">HK</a>
		</div>
        <div class="article_meta">
            <div style="margin-bottom: 5px;">
            <span class="timestamp">时间&nbsp;2020-07-05 00:15:26
            </span>

            <span class="from">
                <i class="icon-globe"></i>
                    <a class="cut cut28 from" href="/pla/呦呦君" rel="tag" title="呦呦君">呦呦君
                    </a>
            </span>

            </div>
            <div>
                <span>主题:</span>

                <a href="/plt/OpenGL" rel="tag" title="OpenGL">
                    <span class="new-label">OpenGL</span>
                </a>

            </div>
			<div>
				<!--span>原文地址:</span><a href="/jump/aHR0cHM6Ly9qdWVqaW4uaW0vcG9zdC81ZWZlYjg2MDZmYjlhMDdlOWEwNzlkZDA=" rel="nofollow,noindex" target="_blank" id="src_id"></a-->
			</div>
        </div>
		<div id="ad_top"></div>

			<!--广告-->
			<!--br>
			<div class="ad-link" style="margin-bottom: 8px;">
            <a data-traceid="blog_detail_above_text_link_1" data-tracepid="blog_detail_above_text_link" style="color:#A00; font-weight:bold;" href="https://curl.qcloud.com/4k7JbWbT" target="_blank" rel="nofollow,noindex">【腾讯云】11.11 云上盛惠，云产品限时抢购，1核2G云服务器首年88元 &gt;&gt;&gt; <img src="https://www.oschina.net/img/hot3.png" align="absmiddle" style="max-height: 32px;max-width: 32px;margin-top: -4px;"></a>
            </div-->
            <!--广告-->


        <div data-id="5f001470e51d4534695c1a9d" itemprop="articleBody" class="article_body" data-v-0b1a4f9a=""><h1 class="heading" data-id="heading-0">坐标系统</h1>
<p>在OpenGL中比较重要的总共有<code>5</code>个坐标系统：</p>
<ul>
<li>局部空间(Local Space，或者称为物体空间(Object Space))</li>
<li>世界空间(World Space)</li>
<li>观察空间(View Space，或者称为视觉空间(Eye Space))</li>
<li>裁剪空间(Clip Space)</li>
<li>屏幕空间(Screen Space)</li>
</ul>
<h1 class="heading" data-id="heading-1">多坐标系统的由来</h1>
<p>OpenGL在每次顶点着色器运行之后，希望可见的顶点都可以转化为<code>标准化设备坐标(Normalized Device Coordinate, NDC)</code>，也就是说，每个顶点的<code>x，y，x</code>坐标都应该在<code>（-1.0，1，0）</code>之间，超出这个坐标范围的顶点都将不可见。通常我们会自定一个坐标的范围，之后再在顶点着色器中将这些坐标转换为标准化设备坐标。然后将这些标准化的坐标传入光栅器，变换为屏幕上的二维坐标或者像素。</p>
<p>将原始坐标转化为标准化设备坐标，再转化为屏幕坐标通常是分步骤进行的，类似于流水线的样子。在流水线中，物体的顶点最终转为屏幕坐标之前还会经过多个坐标系统的转换。这样做的好处在于，在特定的坐标系统中，我们只需要关心特定的操作，相当于将复杂的转换过程拆分成了不同的小步骤，更有利于操作和运算。</p>
<h1 class="heading" data-id="heading-2">转换的流程</h1>
<p>在坐标转换的过程中，我们需要用到几个变换矩阵，分别是：</p>
<ul>
<li>模型矩阵<code>（Model Matrix）</code></li>
<li>观察矩阵<code>（View Matrix）</code></li>
<li>投影矩阵<code>（Projection Matrix）</code></li>
</ul>
<p>下图展示了将一个立方体展示到屏幕上所经过的不同的坐标系的转换流程。</p>
<p></p><figure><img class="lazyload" src="https://user-gold-cdn.xitu.io/2020/7/4/1731811959342b31?imageView2/0/w/1280/h/960/ignore-error/1" data-width="809" data-height="403"><figcaption></figcaption></figure><p></p>
<ol>
<li>局部坐标是对象相对于局部远点的坐标，也就是物体的起始坐标</li>
<li>局部坐标经过模型矩阵的变换之后变为世界坐标，在当前世界空间的全部物体都是相对于世界坐标原点进行摆放。例如上图中将立方体转换之后可以看到世界空间中还存在一个三角锥体。</li>
<li>接下来将世界坐标转换为观察空间坐标，使得每个坐标都是从摄像机或者观察者的角度进行观察。</li>
<li>通过投影矩阵将观察空间投影到裁剪空间，裁剪坐标会被处理到-1.0到1.0之间，并判断哪些顶点会出现在屏幕上。</li>
<li>将裁剪坐标转换为屏幕坐标，这一过程需要用到<code>视口变换</code>，视口变换将位于-1.0到1.0范围的坐标转换到由<code>glViewPort</code>函数定义的坐标范围内。最后变换出来的坐标将会送到光栅器，转化为像素。</li>
</ol>
<p>之所以将顶点转换到不同的空间是因为有些操作在特定的坐标系中才有意义。<div class="adblock_fluid"></div></p>
<ul>
<li>当需要对物体进行修改时，在局部空间中操作会相对合理，因为不涉及和其他物体的关系</li>
<li>当需要对物体做出相对于其他物体位置的操作时，在世界坐标系中才说的通。</li>
</ul>
<h1 class="heading" data-id="heading-3">局部空间</h1>
<p>局部空间是物体所在的坐标空间，即对象开始的开始的地方。模型的所有顶点都在局部空间中，他们相对于物体来说都是局部的。</p>
<p></p><figure><img class="lazyload" src="https://user-gold-cdn.xitu.io/2020/7/4/173182c23215eb23?imageView2/0/w/1280/h/960/ignore-error/1" data-width="661" data-height="207"><figcaption></figcaption></figure>
不管物体处于何种的状态，它和物体坐标系的关系是固定的，不会发生改变<p></p>
<h1 class="heading" data-id="heading-4">世界空间</h1>
<p>在世界空间中，每一个物体都有自己的位置，当然，不同的物体也有可能重叠在同一个位置上。世界空间坐标是指物体的顶点相对于世界的坐标，此时世界空间内可能会存在很多个物体，从局部空间到世界空间的变换是通过<code>模型矩阵</code>来实现的。</p>
<p></p><figure><img class="lazyload" src="https://user-gold-cdn.xitu.io/2020/7/4/17318314da6dc063?imageView2/0/w/1280/h/960/ignore-error/1" data-width="498" data-height="456"><figcaption></figcaption></figure>
物体坐标转换到世界坐标中，还有一个<code>惯性坐标</code>的概念。<p></p>
<p>惯性坐标的原点和物体坐标重合，但是惯性坐标的<code>x，y，z</code>轴和世界坐标的<code>x，y，z</code>轴是平行的，这样做的好处是从物体坐标转换到惯性坐标只需要旋转，从惯性坐标到世界坐标只需要平移。</p>
<h1 class="heading" data-id="heading-5">观察空间</h1>
<p></p><figure><img class="lazyload" src="https://user-gold-cdn.xitu.io/2020/7/4/173183453dbba753?imageView2/0/w/1280/h/960/ignore-error/1" data-width="785" data-height="360"><figcaption></figcaption></figure>
观察空间有时候也被成为<code>摄像机空间或视觉空间</code>。观察空间是将世界空间坐标转化为用户视野前方的坐标而产生的结果。上图显示的是世界空间转换到观察空间的过程。<p></p>
<ol>
<li>在世界空间中，假定有一个摄像机从某个角度来观察两个水壶</li>
<li>以摄像机为坐标原点，以摄像机的正面为z-轴的左手坐标系为观察空间的坐标系。</li>
</ol>
<h1 class="heading" data-id="heading-6">裁剪空间</h1>
<p>顶点着色器运行的最后，<code>OpenGL</code>希望所有的坐标都落在一个特定的范围内，且在这个范围外的点都应该被裁掉，剩下的坐标会变成屏幕上可见的片段。</p>
<p>观察坐标变为裁剪坐标的投影矩阵分为两种：</p>
<p></p><figure><img class="lazyload" src="https://user-gold-cdn.xitu.io/2020/7/4/1731846b09568af4?imageView2/0/w/1280/h/960/ignore-error/1" data-width="718" data-height="424"><figcaption></figcaption></figure><p></p>
<h1 class="heading" data-id="heading-7">OpenGL坐标变换全局图</h1>
<p></p><figure><img class="lazyload" src="https://user-gold-cdn.xitu.io/2020/7/4/173184e0cdd334b3?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1052" data-height="507"><figcaption></figcaption></figure>
在上图中，<code>OpenGL</code>定义了后三个坐标系（<code>裁剪坐标、NDC坐标、屏幕坐标</code>），前三个坐标（<code>物体坐标、世界坐标、摄像机坐标</code>）是为了用户方便而自定义的坐标。<p></p>
<p></p><figure><img class="lazyload" src="https://user-gold-cdn.xitu.io/2020/7/4/173184b55b0849f7?imageView2/0/w/1280/h/960/ignore-error/1" data-width="552" data-height="450"><figcaption></figcaption></figure><p></p>
</div>
		<div id="buttom_ad">
                </div>
		分享到: <div class="addthis_inline_share_toolbox"></div>
		<div id="ad_bottom"></div>

			<div id="site_articles" style="clear:both;">
				  <div class="article-part-title">
					<span>「<a href="/plt/OpenGL" rel="tag" title="OpenGL">OpenGL</a>」</span>
				  </div>
				  <ul class="side_article_list">


					<li class="side_article_list_item">
						<a href="/pl/gkLp" rel="bookmark" title="项目实战：Qt多通道数据采集系统（通道配置、电压转换、采样频率、通道补偿值、定时采集、导出exel和图表、自动XY轴、隐藏XY轴、实时隐藏显示通道）">
						项目实战：Qt多通道数据采集系统（通道配置、电压转换、采样频率、通道补偿值、定时采集、导出exel和图表、自动XY轴、隐藏XY轴、实时隐藏显示通道）
						</a>
					</li>

					<li class="side_article_list_item">
						<a href="/pl/gkfB" rel="bookmark" title="OpenGL系列教程之五：OpenGL矩阵类">
						OpenGL系列教程之五：OpenGL矩阵类
						</a>
					</li>

					<li class="side_article_list_item">
						<a href="/pl/gkgw" rel="bookmark" title="OpenGL笔记-2.管线基本流程和各单元介绍">
						OpenGL笔记-2.管线基本流程和各单元介绍
						</a>
					</li>

					<li class="side_article_list_item">
						<a href="/pl/gbJz" rel="bookmark" title="Ubuntu深度学习的环境搭建（输入法安装、显卡驱动安装以及cuda、cudnn安装）">
						Ubuntu深度学习的环境搭建（输入法安装、显卡驱动安装以及cuda、cudnn安装）
						</a>
					</li>

					<li class="side_article_list_item">
						<a href="/pl/gb0M" rel="bookmark" title="OpenGL笔记-1.OpenGL概念基础入门">
						OpenGL笔记-1.OpenGL概念基础入门
						</a>
					</li>

					<li class="side_article_list_item">
						<a href="/pl/gmAx" rel="bookmark" title="作为一个Android程序员，精通音视频开发，寒冬再冷也冻不到你">
						作为一个Android程序员，精通音视频开发，寒冬再冷也冻不到你
						</a>
					</li>

					<li class="side_article_list_item">
						<a href="/pl/gmYD" rel="bookmark" title="Qt源码编译configure配置参数">
						Qt源码编译configure配置参数
						</a>
					</li>

					<li class="side_article_list_item">
						<a href="/pl/p5nm" rel="bookmark" title="抖音短视频爆火的背后到底是什么——如何快速的开发一个完整的直播app">
						抖音短视频爆火的背后到底是什么——如何快速的开发一个完整的直播app
						</a>
					</li>

					<li class="side_article_list_item">
						<a href="/pl/p5GW" rel="bookmark" title="OpenGL ES 初探">
						OpenGL ES 初探
						</a>
					</li>

					<li class="side_article_list_item">
						<a href="/pl/p50E" rel="bookmark" title="蓝松视频编辑SDK常见问答">
						蓝松视频编辑SDK常见问答
						</a>
					</li>


				  </ul>
				  <div id="buttom_ad_1">
                                  </div>

			</div>

		
		  <div id="ad_middle_content">

		  </div>
	  </div>
	</div>
	<div class="col-md-4">

        <div id="ad_right_top">
        </div>
        

		<div id="right_site_articles" class="article_detail_bg">
			<div class="article-part-title">
				<span>其他文章</span>
			</div>
			<ul class="side_article_list">

				<li class="side_article_list_item">
					<a href="/pl/gbVs" rel="bookmark" title="leetCode-5 最长回文子串"> leetCode-5 最长回文子串 </a>
				</li>

				<li class="side_article_list_item">
					<a href="/pl/gbQh" rel="bookmark" title="iOS多线程锁之@synchronized原理分析"> iOS多线程锁之@synchronized原理分析 </a>
				</li>

				<li class="side_article_list_item">
					<a href="/pl/p5LZ" rel="bookmark" title="leetCode-239 滑动窗口最大值"> leetCode-239 滑动窗口最大值 </a>
				</li>

				<li class="side_article_list_item">
					<a href="/pl/pwE8" rel="bookmark" title="fishHook源码分析"> fishHook源码分析 </a>
				</li>

				<li class="side_article_list_item">
					<a href="/pl/p3u7" rel="bookmark" title="objc_msgSend分析-动态解析 消息转发"> objc_msgSend分析-动态解析 消息转发 </a>
				</li>

				<li class="side_article_list_item">
					<a href="/pl/pKmO" rel="bookmark" title="OpenGL-公转与自转以及填充纹理案例"> OpenGL-公转与自转以及填充纹理案例 </a>
				</li>

				<li class="side_article_list_item">
					<a href="/pl/pNZz" rel="bookmark" title="OpenGL基础入门相关知识点总结"> OpenGL基础入门相关知识点总结 </a>
				</li>

				<li class="side_article_list_item">
					<a href="/pl/p1mK" rel="bookmark" title="OpenGL基础渲染"> OpenGL基础渲染 </a>
				</li>

				<li class="side_article_list_item">
					<a href="/pl/pZYE" rel="bookmark" title="OpenGL入门-坐标系统"> OpenGL入门-坐标系统 </a>
				</li>

			</ul>
		</div>


		<div id="ad_right_bottom">
			 <!-- jishuwen_right_bottom -->
		</div>
    </div>
		 
 
</div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://push.wxwenku.com/gad.js"></script>
  <script>
  $("pre").each(function(i, e) {
        hljs.highlightBlock(e)
      });
  $("#src_id").text(window.atob('aHR0cHM6Ly9qdWVqaW4uaW0vcG9zdC81ZWZlYjg2MDZmYjlhMDdlOWEwNzlkZDA='));
  </script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MFWJQ5K');</script>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MFWJQ5K"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
</body>
</html>
