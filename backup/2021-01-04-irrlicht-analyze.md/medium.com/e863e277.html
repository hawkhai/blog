<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en" data-rh="lang"><head><script async="" src="https://cdn.branch.io/branch-latest.min.js"></script><script async="" src="https://www.google-analytics.com/analytics.js"></script><script>!function(n,e){var t,o,i,c=[],f={passive:!0,capture:!0},r=new Date,a="pointerup",u="pointercancel";function p(n,c){t||(t=c,o=n,i=new Date,w(e),s())}function s(){o&gt;=0&amp;&amp;o&lt;i-r&amp;&amp;(c.forEach((function(n){n(o,t)})),c=[])}function l(t){if(t.cancelable){var o=(t.timeStamp&gt;1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,o){function i(){p(t,o),r()}function c(){r()}function r(){e(a,i,f),e(u,c,f)}n(a,i,f),n(u,c,f)}(o,t):p(o,t)}}function w(n){["click","mousedown","keydown","touchstart","pointerdown"].forEach((function(e){n(e,l,f)}))}w(n),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(n){c.push(n),s()}}(addEventListener,removeEventListener)</script><script defer="" src="https://cdn.optimizely.com/js/16180790160.js"></script><title>Ray Marching Metaball in Unity3D. Introduction | by Sehyun Av Kim | Medium</title><meta data-rh="true" charset="utf-8" /><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1" /><meta data-rh="true" name="theme-color" content="#000000" /><meta data-rh="true" name="twitter:app:name:iphone" content="Medium" /><meta data-rh="true" name="twitter:app:id:iphone" content="828256236" /><meta data-rh="true" property="al:ios:app_name" content="Medium" /><meta data-rh="true" property="al:ios:app_store_id" content="828256236" /><meta data-rh="true" property="al:android:package" content="com.medium.reader" /><meta data-rh="true" property="fb:app_id" content="542599432471018" /><meta data-rh="true" property="og:site_name" content="Medium" /><meta data-rh="true" property="og:type" content="article" /><meta data-rh="true" property="article:published_time" content="2018-12-24T16:21:26.981Z" /><meta data-rh="true" name="title" content="Ray Marching Metaball in Unity3D. Introduction | by Sehyun Av Kim | Medium" /><meta data-rh="true" property="og:title" content="Ray Marching Metaball in Unity3D" /><meta data-rh="true" property="twitter:title" content="Ray Marching Metaball in Unity3D" /><meta data-rh="true" name="twitter:site" content="@Medium" /><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/fc6f83766c5d" /><meta data-rh="true" property="al:android:url" content="medium://p/fc6f83766c5d" /><meta data-rh="true" property="al:ios:url" content="medium://p/fc6f83766c5d" /><meta data-rh="true" property="al:android:app_name" content="Medium" /><meta data-rh="true" name="description" content="I’ve been following ray marching sketches from Shadertoy nowadays and amused by it’s smoothness of rendering unlike using polygons. Among many sketches, this metaball example by Inigo Quilez caught…" /><meta data-rh="true" property="og:description" content="Introduction" /><meta data-rh="true" property="twitter:description" content="Introduction" /><meta data-rh="true" property="og:url" content="https://medium.com/@avseoul/ray-marching-metaball-in-unity3d-fc6f83766c5d" /><meta data-rh="true" property="al:web:url" content="https://medium.com/@avseoul/ray-marching-metaball-in-unity3d-fc6f83766c5d" /><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/1055/1*WQOLdESkFEZjrctM--OB0Q.jpeg" /><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/1055/1*WQOLdESkFEZjrctM--OB0Q.jpeg" /><meta data-rh="true" name="twitter:card" content="summary_large_image" /><meta data-rh="true" property="article:author" content="https://medium.com/@avseoul" /><meta data-rh="true" name="twitter:creator" content="@avseoul" /><meta data-rh="true" name="author" content="Sehyun Av Kim" /><meta data-rh="true" name="robots" content="index,follow,max-image-preview:large" /><meta data-rh="true" name="referrer" content="unsafe-url" /><meta data-rh="true" name="twitter:label1" value="Reading time" /><meta data-rh="true" name="twitter:data1" value="21 min read" /><meta data-rh="true" name="parsely-post-id" content="fc6f83766c5d" /><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml" /><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/fit/c/152/152/1*sHhtYhaCe2Uc3IU0IgKwIQ.png" /><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/fit/c/120/120/1*sHhtYhaCe2Uc3IU0IgKwIQ.png" /><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/fit/c/76/76/1*sHhtYhaCe2Uc3IU0IgKwIQ.png" /><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/fit/c/60/60/1*sHhtYhaCe2Uc3IU0IgKwIQ.png" /><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg" color="#171717" /><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css" /><link data-rh="true" rel="author" href="https://medium.com/@avseoul" /><link data-rh="true" rel="canonical" href="https://medium.com/@avseoul/ray-marching-metaball-in-unity3d-fc6f83766c5d" /><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/fc6f83766c5d" /><script data-rh="true">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-24232453-2', 'auto');
ga('send', 'pageview');</script><link rel="preload" href="https://cdn.optimizely.com/js/16180790160.js" as="script" /><style type="text/css" data-fela-rehydration="596" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@-moz-keyframes k1{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@keyframes k1{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@-webkit-keyframes k2{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}@-moz-keyframes k2{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}@keyframes k2{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}@-webkit-keyframes k3{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@-moz-keyframes k3{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@keyframes k3{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{height:100vh}.m{width:100vw}.n{display:flex}.o{align-items:center}.p{justify-content:center}.q{height:35px}.r{fill:rgba(41, 41, 41, 1)}.s{display:block}.t{margin-bottom:36px}.v{padding-top:8px}.w{width:100%}.x{box-shadow:inset 0 -1px 0 rgba(230, 230, 230, 1)}.y{min-height:115px}.ac{flex-direction:column}.ae{display:none}.ag{border-bottom:1px solid rgba(230, 230, 230, 1)}.ah{position:relative}.ai{z-index:500}.ao{max-width:1192px}.ap{min-width:0}.aq{height:62px}.ar{flex-direction:row}.as{flex:1 0 auto}.at{visibility:hidden}.au{margin-right:16px}.av{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.aw{font-size:14px}.ax{line-height:20px}.ay{color:rgba(26, 137, 23, 1)}.az{padding:7px 16px 9px}.ba{background:0}.bb{fill:rgba(26, 137, 23, 1)}.bc{border-color:rgba(26, 137, 23, 1)}.bd:hover{color:rgba(15, 115, 12, 1)}.be:hover{fill:rgba(15, 115, 12, 1)}.bf:hover{border-color:rgba(15, 115, 12, 1)}.bg:hover{cursor:pointer}.bh:disabled{cursor:inherit}.bi:disabled{opacity:0.3}.bj:disabled:hover{color:rgba(26, 137, 23, 1)}.bk:disabled:hover{fill:rgba(26, 137, 23, 1)}.bl:disabled:hover{border-color:rgba(26, 137, 23, 1)}.bm{border-radius:4px}.bn{border-width:1px}.bo{border-style:solid}.bp{box-sizing:border-box}.bq{display:inline-block}.br{text-decoration:none}.bs{margin-left:0px}.bt{color:rgba(117, 117, 117, 1)}.bu{font-size:inherit}.bv{border:inherit}.bw{font-family:inherit}.bx{letter-spacing:inherit}.by{font-weight:inherit}.bz{padding:0}.ca{margin:0}.cb:disabled{cursor:default}.cc:disabled{color:rgba(26, 137, 23, 0.3)}.cd:disabled{fill:rgba(26, 137, 23, 0.3)}.ce{height:25px}.cf{justify-content:space-between}.cl{align-items:flex-start}.cm{margin-bottom:0px}.cn{margin-top:-32px}.co{align-items:flex-end}.cp{flex-wrap:wrap}.cs{margin-top:32px}.ct{margin-right:24px}.cv{font-weight:700}.cw{font-size:27px}.cx{line-height:34px}.cy:before{margin-bottom:-14px}.cz:before{content:""}.da:before{display:table}.db:before{border-collapse:collapse}.dc:after{margin-top:-6px}.dd:after{content:""}.de:after{display:table}.df:after{border-collapse:collapse}.dg{letter-spacing:0}.dh{color:rgba(25, 25, 25, 1)}.di{word-break:break-word}.dj{font-size:16px}.dk{line-height:24px}.dl:before{margin-bottom:-10px}.dm{margin-right:12px}.dn{display:inline-flex}.do{color:inherit}.dp{fill:inherit}.dq:hover{color:rgba(25, 25, 25, 1)}.dr:hover{fill:rgba(25, 25, 25, 1)}.ds:disabled{color:rgba(117, 117, 117, 1)}.dt:disabled{fill:rgba(117, 117, 117, 1)}.du{margin-left:12px}.dv{margin-left:24px}.dx{margin-bottom:-16px}.dy{margin-top:-14px}.dz{color:rgba(41, 41, 41, 1)}.ea{border-color:rgba(117, 117, 117, 1)}.eb:hover{color:rgba(8, 8, 8, 1)}.ec:hover{fill:rgba(8, 8, 8, 1)}.ed:hover{border-color:rgba(41, 41, 41, 1)}.ee:disabled:hover{color:rgba(41, 41, 41, 1)}.ef:disabled:hover{fill:rgba(41, 41, 41, 1)}.eg:disabled:hover{border-color:rgba(117, 117, 117, 1)}.eh{flex:0 0 auto}.ei{justify-self:flex-end}.ej{margin-bottom:-3px}.ek{margin-left:14px}.el{margin-top:-3px}.em{padding:4px 12px 6px}.en{padding-top:1px}.eo{height:70px}.ep{margin-right:32px}.eq{border-top:1px solid rgba(230, 230, 230, 1)}.er{left:0}.es{opacity:0}.et{position:fixed}.eu{right:0}.ev{top:0}.ex{height:60px}.fa{margin-left:16px}.fb{padding-left:24px}.fc{padding-right:24px}.fd{margin-left:auto}.fe{margin-right:auto}.ff{max-width:728px}.fg{position:absolute}.fh{top:calc(100vh + 100px)}.fi{bottom:calc(100vh + 100px)}.fj{width:10px}.fk{pointer-events:none}.fl{word-wrap:break-word}.fm:after{display:block}.fn:after{clear:both}.fo{max-width:680px}.fp{line-height:1.23}.fq{font-style:normal}.gl{margin-bottom:-0.27em}.gp{border-radius:50%}.gq{height:28px}.gr{width:28px}.gs{margin:0 4px}.gt{margin:0 7px}.hc{padding-right:6px}.hd{margin-right:8px}.he{fill:rgba(117, 117, 117, 1)}.hf{margin-right:-6px}.hg{max-width:1055px}.hh{margin-top:33px}.hi{clear:both}.hk{cursor:zoom-in}.hl{z-index:auto}.hm:focus{transform:scale(1.01)}.hn{transition:opacity 100ms 400ms}.ho{height:100%}.hp{overflow:hidden}.hq{will-change:transform}.hr{transform:translateZ(0)}.hs{margin:auto}.ht{background-color:rgba(242, 242, 242, 1)}.hu{padding-bottom:54.21800947867299%}.hv{height:0}.hw{filter:blur(20px)}.hx{transform:scale(1.1)}.hy{visibility:visible}.hz{margin-top:10px}.ia{text-align:center}.id{line-height:1.12}.ie{letter-spacing:-0.022em}.if{font-weight:500}.ja{margin-bottom:-0.28em}.jb{line-height:1.58}.jc{letter-spacing:-0.004em}.jd{font-family:charter, Georgia, Cambria, "Times New Roman", Times, serif}.jw{margin-bottom:-0.46em}.jx{text-decoration:underline}.kd{max-width:320px}.kj{padding-bottom:84.0625%}.kk{line-height:1.18}.la{margin-bottom:-0.31em}.lb{max-width:1031px}.lc{padding-bottom:46.071774975751694%}.ld{font-style:italic}.le{max-width:512px}.lf{padding-bottom:56.25%}.lg{font-style:inherit}.lh{box-shadow:inset 3px 0 0 0 rgba(41, 41, 41, 1)}.li{padding-left:23px}.lj{margin-left:-20px}.lk{max-width:440px}.ll{padding-bottom:108.4090909090909%}.lm{margin-bottom:14px}.ln{padding-top:24px}.lo{padding-bottom:10px}.lp{background-color:rgba(8, 8, 8, 1)}.lq{height:3px}.lr{width:3px}.ls{margin-right:20px}.ly{max-width:332px}.lz{padding-bottom:91.56626506024097%}.ma{padding:20px}.mb{background:rgba(242, 242, 242, 1)}.mc{overflow-x:auto}.md{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.me{margin-top:-0.09em}.mf{margin-bottom:-0.09em}.mg{white-space:pre-wrap}.mm{max-width:480px}.mn{padding-bottom:65%}.mo{padding:2px 4px}.mp{font-size:75%}.mq&gt; strong{font-family:inherit}.mz{max-width:3932px}.na{padding-bottom:5px}.nb{padding-top:5px}.nc{padding-bottom:27.64496439471007%}.nd{list-style-type:disc}.ne{margin-left:30px}.nf{padding-left:0px}.ng{padding-bottom:65.20833333333334%}.nm{max-width:4322px}.nn{padding-bottom:57.42711707542804%}.no{max-width:1281px}.np{padding-bottom:57.45511319281811%}.nq{max-width:1242px}.nr{padding-bottom:59.42028985507247%}.ns{max-width:1246px}.nt{padding-bottom:59.550561797752806%}.nu{padding-bottom:81.875%}.nv{max-width:614px}.nw{padding-bottom:57.328990228013026%}.nx{padding-bottom:52.1875%}.ny{padding-bottom:85.83333333333334%}.nz{will-change:opacity}.oa{width:188px}.ob{left:50%}.oc{transform:translateX(406px)}.od{top:calc(65px + 54px + 14px)}.og{top:159px}.oi{width:131px}.oj{padding-bottom:28px}.ok{font-size:12px}.ol{line-height:16px}.om{letter-spacing:0.083em}.on{text-transform:uppercase}.oo{padding-top:2px}.op{padding-top:14px}.oq{padding-top:28px}.or{margin-bottom:19px}.os{margin-left:-3px}.oy{outline:0}.oz{border:0}.pa{user-select:none}.pb{cursor:pointer}.pc&gt; svg{pointer-events:none}.pd:active{border-style:none}.pe{-webkit-user-select:none}.pf:focus{fill:rgba(117, 117, 117, 1)}.pg:hover{fill:rgba(117, 117, 117, 1)}.po button{text-align:left}.pp{opacity:0.4}.pq{cursor:not-allowed}.pr{padding-right:9px}.qa{margin-top:40px}.qb{padding-bottom:25px}.qc{margin-top:25px}.qd{max-width:155px}.qh{top:1px}.qv{margin-left:-1px}.qw{margin-left:-4px}.re{padding-right:8px}.rf{padding-bottom:40px}.rg{list-style-type:none}.rh{margin-bottom:8px}.ri{font-size:13px}.rj{line-height:22px}.rk{border-radius:3px}.rl{padding:5px 10px}.rm{padding-top:40px}.rp{padding-bottom:4px}.rq{padding-top:32px}.rr{background-color:rgba(250, 250, 250, 1)}.sh{text-overflow:ellipsis}.si{display:-webkit-box}.sj{-webkit-line-clamp:1}.sk{-webkit-box-orient:vertical}.sm{padding-right:168px}.sn{padding-top:25px}.sq{max-width:100%}.sr{background:rgba(255, 255, 255, 1)}.ss{margin-bottom:40px}.st{margin-top:24px}.su{padding-bottom:16px}.sv{margin-bottom:24px}.uf{flex-grow:0}.ug{padding-bottom:24px}.uh{max-width:500px}.ui{flex:0 1 auto}.um{padding-bottom:8px}.uu:hover{text-decoration:underline}.ux{padding-bottom:100%}.vi{padding:32px 0}.vj{background-color:rgba(0, 0, 0, 0.9)}.vl:hover{color:rgba(255, 255, 255, 0.99)}.vm:hover{fill:rgba(255, 255, 255, 0.99)}.vn:disabled{color:rgba(255, 255, 255, 0.7)}.vo:disabled{fill:rgba(255, 255, 255, 0.7)}.vp{fill:rgba(255, 255, 255, 1)}.vq{height:22px}.vr{color:rgba(255, 255, 255, 0.7)}.vs{width:200px}.vu{color:rgba(255, 255, 255, 0.98)}.vz{-webkit-user-select:none}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.an{margin:0 64px}.gh{font-size:46px}.gi{margin-top:0.6em}.gj{line-height:56px}.gk{letter-spacing:-0.011em}.ha{margin-left:30px}.iw{font-size:30px}.ix{margin-top:1.95em}.iy{line-height:36px}.iz{letter-spacing:0}.js{font-size:21px}.jt{margin-top:0.86em}.ju{line-height:32px}.jv{letter-spacing:-0.003em}.kc{margin-top:2em}.ki{margin-top:56px}.kx{font-size:22px}.ky{margin-top:1.72em}.kz{line-height:28px}.lx{margin-top:1.25em}.ml{margin-top:1.91em}.my{max-width:1192px}.nl{margin-top:1.05em}.ox{margin-right:5px}.pn{margin-top:5px}.pz{padding-left:6px}.qj{display:inline-block}.qo{margin-left:7px}.qp{margin-top:8px}.qu{width:25px}.rc{padding-left:7px}.rd{top:3px}.se{font-size:20px}.sf{line-height:24px}.sg{max-height:24px}.sp{margin:0}.tk{width:calc(100% + 32px)}.tl{margin-left:-16px}.tm{margin-right:-16px}.ub{padding-left:16px}.uc{padding-right:16px}.ud{flex-basis:25%}.ue{max-width:25%}.ur{font-size:16px}.us{line-height:20px}.vg{min-width:70px}.vh{min-height:70px}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.gz{margin-left:30px}.ib{margin-left:auto}.ic{text-align:center}.ow{margin-right:5px}.pm{margin-top:5px}.py{padding-left:6px}.qi{display:inline-block}.qm{margin-left:7px}.qn{margin-top:8px}.qt{width:25px}.ra{padding-left:7px}.rb{top:3px}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.gy{margin-left:30px}.ov{margin-right:5px}.pl{margin-top:5px}.pw{padding-left:6px}.px{top:3px}.qg{display:inline-block}.qk{margin-left:7px}.ql{margin-top:8px}.qs{width:15px}.qz{padding-left:3px}.ul{margin-right:16px}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.u{margin-bottom:20px}.z{box-shadow:inset 0 -1px 0 rgba(230, 230, 230, 1)}.ab{min-height:230px}.af{display:block}.cg{min-height:98px}.ch{display:flex}.ci{align-items:flex-start}.cj{flex-direction:column}.ck{justify-content:flex-end}.cq{margin-bottom:28px}.cr{margin-top:0px}.cu{margin-top:28px}.dw{margin-left:24px}.ey{align-items:center}.ez{flex:1 0 auto}.gn{margin-top:32px}.go{flex-direction:column-reverse}.gw{margin-bottom:30px}.gx{margin-left:0px}.ou{margin-left:8px}.pj{margin-top:2px}.pk{margin-right:8px}.pu{padding-left:6px}.pv{top:3px}.qf{display:inline-block}.qr{width:15px}.qy{padding-left:3px}.rn{padding-top:0}.ro{border-top:none}.sw{padding-bottom:12px}.sx{margin-top:16px}.uk{margin-right:16px}.uv{margin-left:16px}.uw{margin-right:0px}.vk{padding:32px 0}.vt{width:140px}.vv{margin-bottom:16px}.vw{margin-top:30px}.vx{width:100%}.vy{flex-direction:row}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.aj{margin:0 24px}.fr{font-size:32px}.fs{margin-top:0.64em}.ft{line-height:40px}.fu{letter-spacing:-0.016em}.gm{margin-top:32px}.gu{margin-bottom:30px}.gv{margin-left:0px}.ig{font-size:22px}.ih{margin-top:1.2em}.ii{line-height:28px}.ij{letter-spacing:0}.je{font-size:18px}.jf{margin-top:0.67em}.jg{letter-spacing:-0.003em}.jy{margin-top:1.56em}.ke{margin-top:40px}.kl{font-size:20px}.km{margin-top:1.23em}.kn{line-height:24px}.lt{margin-top:0.93em}.mh{margin-top:1.41em}.mr{margin:0}.ms{max-width:100%}.nh{margin-top:1.34em}.ot{margin-left:8px}.ph{margin-top:2px}.pi{margin-right:8px}.ps{padding-left:6px}.pt{top:3px}.qe{display:inline-block}.qq{width:15px}.qx{padding-left:3px}.rs{font-size:16px}.rt{line-height:20px}.ru{max-height:20px}.sy{width:calc(100% + 24px)}.sz{margin-left:-12px}.ta{margin-right:-12px}.tn{padding-left:12px}.to{padding-right:12px}.tp{flex-basis:100%}.uj{margin-right:16px}.ut{margin-bottom:0px}.uy{min-width:48px}.uz{min-height:48px}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.am{margin:0 64px}.gd{font-size:46px}.ge{margin-top:0.6em}.gf{line-height:56px}.gg{letter-spacing:-0.011em}.is{font-size:30px}.it{margin-top:1.95em}.iu{line-height:36px}.iv{letter-spacing:0}.jo{font-size:21px}.jp{margin-top:0.86em}.jq{line-height:32px}.jr{letter-spacing:-0.003em}.kb{margin-top:2em}.kh{margin-top:56px}.ku{font-size:22px}.kv{margin-top:1.72em}.kw{line-height:28px}.lw{margin-top:1.25em}.mk{margin-top:1.91em}.mx{max-width:1192px}.nk{margin-top:1.05em}.sb{font-size:20px}.sc{line-height:24px}.sd{max-height:24px}.so{margin:0}.th{width:calc(100% + 32px)}.ti{margin-left:-16px}.tj{margin-right:-16px}.tx{padding-left:16px}.ty{padding-right:16px}.tz{flex-basis:25%}.ua{max-width:25%}.up{font-size:16px}.uq{line-height:20px}.ve{min-width:70px}.vf{min-height:70px}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.al{margin:0 48px}.fz{font-size:46px}.ga{margin-top:0.6em}.gb{line-height:56px}.gc{letter-spacing:-0.011em}.io{font-size:30px}.ip{margin-top:1.95em}.iq{line-height:36px}.ir{letter-spacing:0}.jk{font-size:21px}.jl{margin-top:0.86em}.jm{line-height:32px}.jn{letter-spacing:-0.003em}.ka{margin-top:2em}.kg{margin-top:56px}.kr{font-size:22px}.ks{margin-top:1.72em}.kt{line-height:28px}.lv{margin-top:1.25em}.mj{margin-top:1.91em}.mv{margin:0}.mw{max-width:100%}.nj{margin-top:1.05em}.ry{font-size:20px}.rz{line-height:24px}.sa{max-height:24px}.te{width:calc(100% + 28px)}.tf{margin-left:-14px}.tg{margin-right:-14px}.tt{padding-left:14px}.tu{padding-right:14px}.tv{flex-basis:50%}.tw{max-width:50%}.un{font-size:16px}.uo{line-height:20px}.vc{min-width:48px}.vd{min-height:48px}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.ak{margin:0 24px}.fv{font-size:32px}.fw{margin-top:0.64em}.fx{line-height:40px}.fy{letter-spacing:-0.016em}.ik{font-size:22px}.il{margin-top:1.2em}.im{line-height:28px}.in{letter-spacing:0}.jh{font-size:18px}.ji{margin-top:0.67em}.jj{letter-spacing:-0.003em}.jz{margin-top:1.56em}.kf{margin-top:40px}.ko{font-size:20px}.kp{margin-top:1.23em}.kq{line-height:24px}.lu{margin-top:0.93em}.mi{margin-top:1.41em}.mt{margin:0}.mu{max-width:100%}.ni{margin-top:1.34em}.rv{font-size:16px}.rw{line-height:20px}.rx{max-height:20px}.tb{width:calc(100% + 24px)}.tc{margin-left:-12px}.td{margin-right:-12px}.tq{padding-left:12px}.tr{padding-right:12px}.ts{flex-basis:100%}.va{min-width:48px}.vb{min-height:48px}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="RULE" media="print">.hb{display:none}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.ew{animation:k2 .2s ease-in-out both}.hj{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.oe{transition:opacity 200ms}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="RULE" media="all and (max-width: 1230px)">.of{display:none}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="RULE" media="all and (max-width: 1198px)">.oh{display:none}</style><style type="text/css" data-fela-rehydration="596" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.sl{max-height:none}</style><script type="application/ld+json" data-rh="true">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*WQOLdESkFEZjrctM--OB0Q.jpeg"],"url":"https:\u002F\u002Fmedium.com\u002F@avseoul\u002Fray-marching-metaball-in-unity3d-fc6f83766c5d","dateCreated":"2018-05-07T12:11:02.973Z","datePublished":"2018-05-07T12:11:02.973Z","dateModified":"2018-12-24T16:21:26.981Z","headline":"Ray Marching Metaball in Unity3D - Sehyun Av Kim - Medium","name":"Ray Marching Metaball in Unity3D - Sehyun Av Kim - Medium","description":"I’ve been following ray marching sketches from Shadertoy nowadays and amused by it’s smoothness of rendering unlike using polygons. Among many sketches, this metaball example by Inigo Quilez caught…","identifier":"fc6f83766c5d","keywords":["Lite:true","Tag:Unity3d","Tag:Unity","Tag:Metaball","Tag:Raymarching","Tag:Shadertoy","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:0"],"author":{"@type":"Person","name":"Sehyun Av Kim","url":"https:\u002F\u002Fmedium.com\u002F@avseoul"},"creator":["Sehyun Av Kim"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fmedium.com\u002F","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F308\u002F1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002F@avseoul\u002Fray-marching-metaball-in-unity3d-fc6f83766c5d"}</script><script type="text/javascript" data-rh="true">(function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s&lt;_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent".split(" "), 0);
branch.init('key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm', {metadata: {}, 'no_journeys': true, 'disable_exit_animation': true, 'disable_entry_animation': true, 'tracking_disabled': null}, function(err, data) {});</script><style id="googleidentityservice_button_styles">.qJTHM{-webkit-user-select:none;color:#202124;direction:ltr;-webkit-touch-callout:none;font-family:'Roboto-Regular',arial,sans-serif;-webkit-font-smoothing:antialiased;font-weight:400;margin:0;overflow:hidden;-webkit-text-size-adjust:100%}.ynRLnc{left:-9999px;position:absolute;top:-9999px}.L6cTce{display:none}.bltWBb{word-break:break-all}.hSRGPd{color:#1a73e8;cursor:pointer;font-weight:500;text-decoration:none}.Bz112c-W3lGp{height:16px;width:16px}.Bz112c-E3DyYd{height:20px;width:20px}.Bz112c-r9oPif{height:24px;width:24px}.Bz112c-uaxL4e{-webkit-border-radius:10px;border-radius:10px}.LgbsSe-Bz112c{display:block}.S9gUrf-YoZ4jf,.S9gUrf-YoZ4jf *{border:none;margin:0;padding:0}.fFW7wc-ibnC6b&gt;.aZ2wEe&gt;div{border-color:#4285f4}.P1ekSe-ZMv3u&gt;div:nth-child(1){background-color:#1a73e8!important}.P1ekSe-ZMv3u&gt;div:nth-child(2),.P1ekSe-ZMv3u&gt;div:nth-child(3){background-image:linear-gradient(to right,rgba(255,255,255,0.7),rgba(255,255,255,0.7)),linear-gradient(to right,#1a73e8,#1a73e8)!important}.haAclf{display:inline-block}.nsm7Bb-HzV7m-LgbsSe{-webkit-border-radius:4px;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:background-color .218s,border-color .218s;transition:background-color .218s,border-color .218s;-webkit-user-select:none;-webkit-appearance:none;background-color:#fff;background-image:none;border:1px solid #dadce0;color:#3c4043;cursor:pointer;font-family:'Google Sans',arial,sans-serif;font-size:14px;height:40px;letter-spacing:.25px;outline:none;overflow:hidden;padding:0 12px;position:relative;text-align:center;vertical-align:middle;white-space:nowrap;width:auto}@media screen and (-ms-high-contrast:active){.nsm7Bb-HzV7m-LgbsSe{border:2px solid windowText;color:windowText}}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe{font-size:14px;height:32px;letter-spacing:.25px;padding:0 10px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe{font-size:11px;height:20px;letter-spacing:.3px;padding:0 8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe{padding:0;width:40px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe{width:32px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe{width:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK{-webkit-border-radius:20px;border-radius:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.pSzOP-SxQuSe{-webkit-border-radius:16px;border-radius:16px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.purZT-SxQuSe{-webkit-border-radius:10px;border-radius:10px}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc{border:none;color:#fff}.nsm7Bb-HzV7m-LgbsSe.MFS4be-v3pZbf-Ia7Qfc{background-color:#1a73e8}.nsm7Bb-HzV7m-LgbsSe.MFS4be-JaPV2b-Ia7Qfc{background-color:#202124;color:#e8eaed}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:18px;margin-right:8px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:14px;min-width:14px;width:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:10px;min-width:10px;width:10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin-left:8px;margin-right:-4px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:10px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:4px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:3px;border-top-left-radius:3px;-webkit-border-bottom-left-radius:3px;border-bottom-left-radius:3px;display:-webkit-box;display:-webkit-flex;display:flex;justify-content:center;-webkit-align-items:center;align-items:center;background-color:#fff;height:36px;margin-left:-10px;margin-right:12px;min-width:36px;width:36px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c,.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:28px;margin-left:-8px;margin-right:10px;min-width:28px;width:28px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:16px;margin-left:-6px;margin-right:8px;min-width:16px;width:16px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:3px;border-radius:3px;margin-left:2px;margin-right:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:14px;border-radius:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:8px;border-radius:8px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-bN97Pc-sM5MNb{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-flex-direction:row;flex-direction:row;justify-content:space-between;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;height:100%;position:relative;width:100%}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX{justify-content:center}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:1;flex-grow:1;font-family:'Google Sans',arial,sans-serif;font-weight:500;overflow:hidden;text-overflow:ellipsis;vertical-align:top}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-weight:300}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:0;flex-grow:0}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-MJoBVe{-webkit-transition:background-color .218s;transition:background-color .218s;bottom:0;left:0;position:absolute;right:0;top:0}.nsm7Bb-HzV7m-LgbsSe:hover,.nsm7Bb-HzV7m-LgbsSe:focus{-webkit-box-shadow:none;box-shadow:none;border-color:#d2e3fc;outline:none}.nsm7Bb-HzV7m-LgbsSe:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,0.04)}.nsm7Bb-HzV7m-LgbsSe:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,0.1)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,0.24)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,0.32)}.nsm7Bb-HzV7m-LgbsSe .n1UuX-DkfjY{-webkit-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:flex;height:20px;margin-left:-4px;margin-right:8px;min-width:20px;width:20px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-family:'Roboto';font-size:12px;text-align:left}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .ssJRIf,.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .fmcmS{overflow:hidden;text-overflow:ellipsis}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;color:#5f6368;fill:#5f6368;font-size:11px;font-weight:400}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.MFS4be-Ia7Qfc .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{color:#e8eaed;fill:#e8eaed}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .Bz112c{height:18px;margin:-3px -3px -3px 2px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:0;border-top-left-radius:0;-webkit-border-bottom-left-radius:0;border-bottom-left-radius:0;-webkit-border-top-right-radius:3px;border-top-right-radius:3px;-webkit-border-bottom-right-radius:3px;border-bottom-right-radius:3px;margin-left:12px;margin-right:-10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.L5Fo6c-sM5MNb{border:0;display:block;left:0;position:relative;top:0}.L5Fo6c-bF1uUb{-webkit-border-radius:4px;border-radius:4px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0}.L5Fo6c-bF1uUb:focus{border:none;outline:none}sentinel{}
/*# sourceURL=/_/gsi/_/ss/k=gsi.gsi.WGEtL74yphU.L.W.O/am=CQ/d=1/ct=zgms/rs=AF0KOtX5PgMn-16kcZfrRdoAfFOeWyjuZQ/m=gis_client_button_style */</style><link id="googleidentityservice" type="text/css" media="all" rel="stylesheet" href="https://accounts.google.com/gsi/style" /></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div><script>if (window.self !== window.top) window.location = "about:blank"</script></div><script>window.PARSELY = window.PARSELY || {autotrack: false}</script><div class="s"><div class="t s u"><div class="x y s z ab"><div class="n ac"><div class="ae af"><div class="ag s ah ai"><div class="n p"><div class="aj ak al am an ao ap w"><div class="aq n o"><div class="n o ar as"><div class="hy" id="lo-meta-header-sign-up-button"><div class="au s"><span><button class="av b aw ax ay az ba bb bc bd be bf bg bh bi bj bk bl bm bn bo bp bq br">Get started</button></span></div></div><div class="hy" id="lo-ShowPostUnderUser-navbar-open-in-app-button"><div class="bs ae af"><span class="av b aw ax bt"><a href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ffc6f83766c5d&amp;~feature=LoOpenInAppButton&amp;~channel=ShowPostUnderUser&amp;~stage=mobileNavBar&amp;source=post_page-----fc6f83766c5d--------------------------------" class="ay bb bu bv bw bx by bz ca bg bd be cb cc cd" rel="noopener nofollow">Open in app</a></span></div></div></div><a aria-label="Homepage" rel="noopener" href="/?source=post_page-----fc6f83766c5d--------------------------------"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1043.63 592.71" class="ce r"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"/></g></g></svg></a></div></div></div></div></div><div class="n p"><div class="aj ak al am an ao ap w"><div class="y n o ar cf cg ch ci cj ck"><div class="w n cl cf"><div class="v n w"><div class="cm cn w n co ar cp cq cr ch ci cj"><div class="cs ct s cu"><a aria-label="Author Homepage" rel="noopener" href="/@avseoul?source=post_page-----fc6f83766c5d--------------------------------"><span class="av cv cw cx cy cz da db dc dd de df dg dh di">Sehyun Av Kim</span></a></div><div class="cs s g"><span class="av b dj dk dl cz da db dc dd de df bt"><div class="n o"><div class="dm dn ac"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener" href="/@avseoul/followers?source=post_page-----fc6f83766c5d--------------------------------">204 Followers</a></div><div class="du n ac"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener" href="/@avseoul/about?source=post_page-----fc6f83766c5d--------------------------------">About</a></div><div class="dv s dw"><div class="dx dy s"><span><button class="av b aw ax dz az r ba ea eb ec ed bg bh bi ee ef eg bm bn bo bp bq br">Follow</button></span></div></div></div></span></div></div></div><div class="n o eh ei ai g"><div class="hy" id="lo-meta-header-sign-in-link"><h4 class="av b aw ax bt"><span><a href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2F%40avseoul%2Fray-marching-metaball-in-unity3d-fc6f83766c5d&amp;source=post_page-----fc6f83766c5d---------------------nav_reg-----------" class="ay bb bu bv bw bx by bz ca bg bd be cb cc cd" rel="noopener">Sign in</a></span></h4></div><div class="hy" id="lo-meta-header-sign-up-button"><div class="ej ek el ct s"><span><button class="av b aw ax ay em ba bb bc bd be bf bg bh bi bj bk bl bm bn bo bp bq br">Get started</button></span></div></div><a aria-label="Homepage" rel="noopener" href="/?source=post_page-----fc6f83766c5d--------------------------------"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1043.63 592.71" class="ce r"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"/></g></g></svg></a></div></div></div></div></div></div><div class="ae af"><div class="n p"><div class="aj ak al am an ao ap w"><div><div class="en eo n o"><div class="s"><span class="av b dj dk dl cz da db dc dd de df bt"><div class="n o"><div class="ep s"><div class="dx dy s"><span><button class="av b aw ax dz az r ba ea eb ec ed bg bh bi ee ef eg bm bn bo bp bq br">Follow</button></span></div></div><div class="dm dn ac"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener" href="/@avseoul/followers?source=post_page-----fc6f83766c5d--------------------------------">204 Followers</a></div><div class="du n ac"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener" href="/@avseoul/about?source=post_page-----fc6f83766c5d--------------------------------">About</a></div></div></span></div></div></div></div></div></div></div><div class="ae cr af"><div class="eq ag c er es et eu ev hy ai ew"><div class="n p"><div class="aj ak al am an ao ap w"><div class="ex w n o ev ai"><div class="ae ch ey ez"><div class="hy" id="lo-sticky-header-sign-up-button"><span><button class="av b aw ax ay az ba bb bc bd be bf bg bh bi bj bk bl bm bn bo bp bq br">Get started</button></span></div><div class="hy" id="lo-ShowPostUnderUser-navbar-open-in-app-button"><div class="fa ae af"><span class="av b aw ax bt"><a href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Ffc6f83766c5d&amp;~feature=LoOpenInAppButton&amp;~channel=ShowPostUnderUser&amp;~stage=mobileNavBar&amp;source=post_page-----fc6f83766c5d--------------------------------" class="ay bb bu bv bw bx by bz ca bg bd be cb cc cd" rel="noopener nofollow">Open in app</a></span></div></div></div><a aria-label="Homepage" rel="noopener" href="/?source=post_page-----fc6f83766c5d--------------------------------"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1043.63 592.71" class="ce r"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"/></g></g></svg></a></div></div></div></div></div></div><div class="s hb"><div class="wd we w ho et wf wg pb es wh fk" aria-hidden="true"></div><div class="wi et wj wk wl wd ho bp wm wn wo wp wq wr ws vx wt wu wv ww" aria-hidden="true"><div class="wz xa n o ar cf"><h2 class="av if xb dk dg dz">Responses (3)</h2><div class="n ar"><div class="s ah xc"><div class="ca s ah eu"><button class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" data-testid="close-button" aria-label="close"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" class="he"><path d="M18.13 6.11l-5.61 5.61-5.6-5.61-.81.8 5.61 5.61-5.61 5.61.8.8 5.61-5.6 5.61 5.6.8-.8-5.6-5.6 5.6-5.62"/></svg></button></div></div></div></div><div class="yp xd yq s"><div class="wk yg bm n ac yh yi yj"><div class="n ac"><span><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40avseoul%2Fray-marching-metaball-in-unity3d-fc6f83766c5d&amp;source=responses-----fc6f83766c5d---------------------respond_sidebar-----------" class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener"><div class="yr s"><h4 class="av b aw ax bt">What are your thoughts?</h4></div></a></span><div class="n yk yl ym es yn"><div class="yo"><button class="av b aw ax dz em r ba ea eb ec ed bg bh bi ee ef eg bm bn bo bp bq br">Cancel</button></div><button class="av b aw ax ys em vp yt bc yu bf bg bh bi yv bl bm bn bo bp bq br" disabled="">Respond</button></div></div></div></div><div class="s"><div class="xd"><div class="w ho"><div class="su sn ag s"><div class="n ar cf"><div class="n o ar"><img alt="Richard Ndumu" class="s gp xg xh" src="https://miro.medium.com/fit/c/32/32/0*C1FnezTEP0ItxBAG." width="32" height="32" /><div class="xs s"><div class="n ar"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener" href="/@bekko?source=responses-----fc6f83766c5d----0----------------------------"><h4 class="av b aw ax dz">Richard Ndumu</h4></a></div><a class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener nofollow" href="/@bekko/hi-e017e802a5e5?source=responses-----fc6f83766c5d----0----------------------------"><h4 class="av b aw ax bt">over 1 year ago</h4></a></div></div><button class="pb oz xq dr xr"><svg xmlns="http://www.w3.org/2000/svg" class="overflow-dots-filled-25px_svg__svgIcon-use" width="25" height="25"><path d="M5 12.5c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41A1.93 1.93 0 0 0 7 10.5c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41zm5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59-.39.39-.58.86-.58 1.41zm5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59.56 0 1.03-.2 1.42-.59.39-.39.58-.86.58-1.41 0-.55-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59-.39.39-.58.86-.58 1.41z" fill-rule="evenodd"/></svg></button></div><div class="xt s"><pre class="mg"><div class="xu s"><h4 class="av b aw ax dz"><div class="dk">hi,</div></h4></div><div class="xu s"><h4 class="av b aw ax dz"><div class="dk">insanely cool !!! is it possible to use Gameobject ?</div></h4></div><div class="xu s"><h4 class="av b aw ax dz"><div class="dk">Control the animation using a Gameobject possition ?</div></h4></div></pre></div><div class="xv n o ar"><div class="n o"><div class="s ah ot ou ov ow ox"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fvote%2Fp%2Fe017e802a5e5&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40avseoul%2Fray-marching-metaball-in-unity3d-fc6f83766c5d&amp;source=responses-----e017e802a5e5----0-----------------respond_sidebar-----------" class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener"><div class="bz oy oz pa pb pc pd vz r pf pg"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"/></g></svg></div></a></span></div></div><div class="xw s"></div><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener" href="/@bekko/hi-e017e802a5e5?responsesOpen=true&amp;source=responses-----fc6f83766c5d----0----------------------------"><button class="pb oz bz"><div class="xx n o ar"><div class="s ah xy"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" aria-label="responses"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"/></svg></div><div class="s ah qx xz qy ya qz yb yc yd ye yf"></div></div></button></a></div></div></div></div><div class="xd"><div class="w ho"><div class="su sn ag s"><div class="n ar cf"><div class="n o ar"><img alt="Arseniy Kucherenko" class="s gp xg xh" src="https://miro.medium.com/fit/c/32/32/0*VsZyn_US8WQ8cdTy" width="32" height="32" /><div class="xs s"><div class="n ar"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener" href="/@fruktoed?source=responses-----fc6f83766c5d----1----------------------------"><h4 class="av b aw ax dz">Arseniy Kucherenko</h4></a></div><a class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener nofollow" href="/@fruktoed/github-repo-no-longer-available-a063aa331ca9?source=responses-----fc6f83766c5d----1----------------------------"><h4 class="av b aw ax bt">8 months ago</h4></a></div></div><button class="pb oz xq dr xr"><svg xmlns="http://www.w3.org/2000/svg" class="overflow-dots-filled-25px_svg__svgIcon-use" width="25" height="25"><path d="M5 12.5c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41A1.93 1.93 0 0 0 7 10.5c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41zm5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59-.39.39-.58.86-.58 1.41zm5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59.56 0 1.03-.2 1.42-.59.39-.39.58-.86.58-1.41 0-.55-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59-.39.39-.58.86-.58 1.41z" fill-rule="evenodd"/></svg></button></div><div class="xt s"><pre class="mg"><div class="xu s"><h4 class="av b aw ax dz"><div class="dk">Github repo no longer available.</div></h4></div><div class="xu s"><h4 class="av b aw ax dz"><div class="dk">Btw does it perform well on Android and iOS?</div></h4></div></pre></div><div class="xv n o ar"><div class="n o"><div class="s ah ot ou ov ow ox"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fvote%2Fp%2Fa063aa331ca9&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40avseoul%2Fray-marching-metaball-in-unity3d-fc6f83766c5d&amp;source=responses-----a063aa331ca9----1-----------------respond_sidebar-----------" class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener"><div class="bz oy oz pa pb pc pd vz r pf pg"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"/></g></svg></div></a></span></div></div><div class="xw s"></div><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener" href="/@fruktoed/github-repo-no-longer-available-a063aa331ca9?responsesOpen=true&amp;source=responses-----fc6f83766c5d----1----------------------------"><button class="pb oz bz"><div class="xx n o ar"><div class="s ah xy"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" aria-label="responses"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"/></svg></div><div class="s ah qx xz qy ya qz yb yc yd ye yf"></div></div></button></a></div></div></div></div><div class="xd"><div class="w ho"><div class="su sn s"><div class="n ar cf"><div class="n o ar"><img alt="Daniel Termin" class="s gp xg xh" src="https://miro.medium.com/fit/c/32/32/0*NpixVnBOSZ6iK8__." width="32" height="32" /><div class="xs s"><div class="n ar"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener" href="/@danieltermin?source=responses-----fc6f83766c5d----2----------------------------"><h4 class="av b aw ax dz">Daniel Termin</h4></a></div><a class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener nofollow" href="/@danieltermin/how-performant-is-this-could-you-do-thousands-of-small-balls-9c39d2b44f0a?source=responses-----fc6f83766c5d----2----------------------------"><h4 class="av b aw ax bt">8 months ago</h4></a></div></div><button class="pb oz xq dr xr"><svg xmlns="http://www.w3.org/2000/svg" class="overflow-dots-filled-25px_svg__svgIcon-use" width="25" height="25"><path d="M5 12.5c0 .55.2 1.02.59 1.41.39.4.86.59 1.41.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41A1.93 1.93 0 0 0 7 10.5c-.55 0-1.02.2-1.41.59-.4.39-.59.86-.59 1.41zm5.62 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59.55 0 1.02-.2 1.41-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.59-1.41a1.93 1.93 0 0 0-1.41-.59c-.55 0-1.03.2-1.42.59-.39.39-.58.86-.58 1.41zm5.6 0c0 .55.2 1.02.58 1.41.4.4.87.59 1.43.59.56 0 1.03-.2 1.42-.59.39-.39.58-.86.58-1.41 0-.55-.2-1.02-.58-1.41a1.93 1.93 0 0 0-1.42-.59c-.56 0-1.04.2-1.43.59-.39.39-.58.86-.58 1.41z" fill-rule="evenodd"/></svg></button></div><div class="xt s"><pre class="mg"><div class="xu s"><h4 class="av b aw ax dz"><div class="dk">How performant is this? Could you do thousands of small balls?</div></h4></div></pre></div><div class="xv n o ar"><div class="n o"><div class="s ah ot ou ov ow ox"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fvote%2Fp%2F9c39d2b44f0a&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40avseoul%2Fray-marching-metaball-in-unity3d-fc6f83766c5d&amp;source=responses-----9c39d2b44f0a----2-----------------respond_sidebar-----------" class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener"><div class="bz oy oz pa pb pc pd vz r pf pg"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"/></g></svg></div></a></span></div></div><div class="xw s"></div><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener" href="/@danieltermin/how-performant-is-this-could-you-do-thousands-of-small-balls-9c39d2b44f0a?responsesOpen=true&amp;source=responses-----fc6f83766c5d----2----------------------------"><button class="pb oz bz"><div class="xx n o ar"><div class="s ah xy"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" aria-label="responses"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"/></svg></div><div class="s ah qx xz qy ya qz yb yc yd ye yf"></div></div></button></a></div></div></div></div></div></div></div><article><section class="fb fc fd fe w ff bp s"></section><span class="s"></span><div><div class="fg er wa fi fj fk"></div><section class="di fl fm dd fn"><div class="n p"><div class="aj ak al am an fo ap w"><div class=""><h1 id="36d1" class="fp dg fq av cv fr fs ft fu fv fw fx fy fz ga gb gc gd ge gf gg gh gi gj gk gl dz">Ray Marching Metaball in Unity3D</h1><div class="cs"><div class="n cf gm gn go"><div class="o n"><div><a rel="noopener" href="/@avseoul?source=post_page-----fc6f83766c5d--------------------------------"><img alt="Sehyun Av Kim" class="s gp gq gr" src="https://miro.medium.com/fit/c/56/56/0*NMpaqmxTeM8nxIjc." width="28" height="28" /></a></div><div class="du w n cp"><div class="n"><div style="flex:1"><span class="av b aw ax dz"><a class="" rel="noopener" href="/@avseoul?source=post_page-----fc6f83766c5d--------------------------------"><h4 class="av b aw ax ay">Sehyun Av Kim</h4></a></span></div></div><span class="av b aw ax bt"><a class="" rel="noopener" href="/@avseoul/ray-marching-metaball-in-unity3d-fc6f83766c5d?source=post_page-----fc6f83766c5d--------------------------------"><h4 class="av b aw ax bt"><span class="gs"></span>May 7, 2018<span class="gt">·</span>21 min read</h4></a></span></div></div><div class="n co gu gv gw gx gy gz ha hb"><div class="n o"><div class="hc s"><div class="bq" aria-hidden="false"><button class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" aria-label="Share Post"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" class="r"><g fill-rule="evenodd"><path d="M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"/><path d="M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"/></g></svg></button></div></div><div class="hd s"><div class="he"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fbookmark%2Fp%2Ffc6f83766c5d&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40avseoul%2Fray-marching-metaball-in-unity3d-fc6f83766c5d&amp;source=post_actions_header--------------------------bookmark_preview-----------" class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"/></svg></a></span></div></div><div class="hf s as"></div></div></div></div></div></div><figure class="hh hi fd fe paragraph-image"><div role="button" tabindex="0" class="hj hk ah hl w hm"><div class="fd fe hg"><div class="hs s ah ht"><div class="hu hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*WQOLdESkFEZjrctM--OB0Q.jpeg?q=20" width="1055" height="572" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="1055" height="572" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/2110/1*WQOLdESkFEZjrctM--OB0Q.jpeg" width="1055" height="572" srcSet="https://miro.medium.com/max/552/1*WQOLdESkFEZjrctM--OB0Q.jpeg 276w, https://miro.medium.com/max/1104/1*WQOLdESkFEZjrctM--OB0Q.jpeg 552w, https://miro.medium.com/max/1280/1*WQOLdESkFEZjrctM--OB0Q.jpeg 640w, https://miro.medium.com/max/1400/1*WQOLdESkFEZjrctM--OB0Q.jpeg 700w" sizes="700px"/&gt;</noscript></div></div></div></div><figcaption class="hz ia ff fd fe ib ic av b aw ax bt" data-selectable-paragraph="">Ray Marching Metabll in Unity3D</figcaption></figure><h1 id="6ae6" class="id ie fq av if ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja dz" data-selectable-paragraph="">Introduction</h1><p id="3e83" class="jb jc fq jd b je jf ii jg jh ji im jj jk jl jm jn jo jp jq jr js jt ju jv jw di dz" data-selectable-paragraph="">I’ve been following ray marching sketches from <a href="https://www.shadertoy.com/" class="do jx" rel="noopener nofollow">Shadertoy</a> nowadays and amused by it’s smoothness of rendering unlike using polygons. Among many sketches, <a href="https://www.shadertoy.com/view/ld2GRz" class="do jx" rel="noopener nofollow">this metaball example</a> by <a href="http://www.iquilezles.org/" class="do jx" rel="noopener nofollow">Inigo Quilez</a> caught my attention, simply because of its aesthetics of organic deformations of metaball, which was amplified by smooth and quality surface shading of ray marching.</p><p id="195b" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Since Shadertoy is base on only fragment shader, blobs’ positions are updated in every pixels in this example. I wondered how much performance improvement that it could be made if all calculations except for shading are taken out of fragment shader and done beforehand.</p><p id="a4da" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">But<span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"> </span></span></span></span></span></span></span></span>above all, I wanted to give a shot ray marching by implementing it by myself to understand how it works since this technique can be applied to other useful technique such as volume rendering, my another huge interest nowadays. I thought getting used to ray marching would be a good start.</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div class="fd fe kd"><div class="hs s ah ht"><div class="kj hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/freeze/max/60/1*TkrFrNV-ypCyQHjvC4DAwQ.gif?q=20" width="320" height="269" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="320" height="269" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/640/1*TkrFrNV-ypCyQHjvC4DAwQ.gif" width="320" height="269" srcSet="https://miro.medium.com/max/552/1*TkrFrNV-ypCyQHjvC4DAwQ.gif 276w, https://miro.medium.com/max/640/1*TkrFrNV-ypCyQHjvC4DAwQ.gif 320w" sizes="320px"/&gt;</noscript></div></div></div><figcaption class="hz ia ff fd fe ib ic av b aw ax bt" data-selectable-paragraph="">Inigo Quilez’s Metaball on Shadertoy</figcaption></figure><h2 id="d69f" class="kk ie fq av if kl km kn ij ko kp kq in kr ks kt ir ku kv kw iv kx ky kz iz la dz" data-selectable-paragraph="">1. Ray marching and Distance Field</h2><p id="a9b1" class="jb jc fq jd b je jf ii jg jh ji im jj jk jl jm jn jo jp jq jr js jt ju jv jw di dz" data-selectable-paragraph="">Ray marching is a 3D rendering technique . Unlike ray tracing which uses explicit polygons and functions to find the intersection, ray marching just cast a ray from the camera to each pixel and march along the direction until it finds a close enough to the intersection.</p><p id="32fb" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Distance field represents the closest distance between current point of the marching ray and surface of the scene constructed by mathematical formula called <a href="http://www.iquilezles.org/www/articles/distfunctions/distfunctions.htm" class="do jx" rel="noopener nofollow">distance functions</a>. This value is used as a distance of marching step, which drastically lessen the number of marching steps also lower the overshooting compared with marching with constant step size.</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div role="button" tabindex="0" class="hj hk ah hl w hm"><div class="fd fe lb"><div class="hs s ah ht"><div class="lc hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*ZQ8s0iMuwHXJveRJs25cyw.jpeg?q=20" width="1031" height="475" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="1031" height="475" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/2062/1*ZQ8s0iMuwHXJveRJs25cyw.jpeg" width="1031" height="475" srcSet="https://miro.medium.com/max/552/1*ZQ8s0iMuwHXJveRJs25cyw.jpeg 276w, https://miro.medium.com/max/1104/1*ZQ8s0iMuwHXJveRJs25cyw.jpeg 552w, https://miro.medium.com/max/1280/1*ZQ8s0iMuwHXJveRJs25cyw.jpeg 640w, https://miro.medium.com/max/1400/1*ZQ8s0iMuwHXJveRJs25cyw.jpeg 700w" sizes="700px"/&gt;</noscript></div></div></div></div><figcaption class="hz ia ff fd fe ib ic av b aw ax bt" data-selectable-paragraph="">left : marching with constant size step / right : marching with distance field</figcaption></figure><p id="f7ca" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Ray marching technique, more specifically, ray marching with distance field technique has been popularized and grown by <a href="http://iquilezles.org/prods/index.htm" class="do jx" rel="noopener nofollow"><em class="ld">Inigo Quilez</em></a>, who is also the author of this metaball example on Shadertoy and also a co-creator of Shadertoy. It is capable of creating high quality visuals with significantly lower size excutables than other technique, for example the image below, which is a screenshot of his real-time demo, is created in 4 kilobytes. Too see more his works, visit his <a href="http://iquilezles.org/prods/index.htm" class="do jx" rel="noopener nofollow"><em class="ld">demo archive</em></a>.</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div class="fd fe le"><div class="hs s ah ht"><div class="lf hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*IutMFnBtdU4nAAvsZApmdw.jpeg?q=20" width="512" height="288" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="512" height="288" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/1024/1*IutMFnBtdU4nAAvsZApmdw.jpeg" width="512" height="288" srcSet="https://miro.medium.com/max/552/1*IutMFnBtdU4nAAvsZApmdw.jpeg 276w, https://miro.medium.com/max/1024/1*IutMFnBtdU4nAAvsZApmdw.jpeg 512w" sizes="512px"/&gt;</noscript></div></div></div><figcaption class="hz ia ff fd fe ib ic av b aw ax bt" data-selectable-paragraph="">Slisesix by Inigo Quilez from <a href="http://iquilezles.org/www/material/nvscene2008/nvscene2008.htm" class="do jx" rel="noopener nofollow"><em class="lg">Rendering Worlds With Two Triangles</em></a><em class="lg"> in 2008</em></figcaption></figure><h2 id="8af7" class="kk ie fq av if kl km kn ij ko kp kq in kr ks kt ir ku kv kw iv kx ky kz iz la dz" data-selectable-paragraph="">2. Metaball</h2><p id="bc9a" class="jb jc fq jd b je jf ii jg jh ji im jj jk jl jm jn jo jp jq jr js jt ju jv jw di dz" data-selectable-paragraph="">If I borrow words from <a href="https://en.wikipedia.org/wiki/Metaballs" class="do jx" rel="noopener nofollow"><em class="ld">Wikipedia</em></a>,</p><blockquote class="lh li lj"><p id="ca25" class="jb jc ld jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Metaballs are, in <a href="https://en.wikipedia.org/wiki/Computer_graphics" class="do jx" rel="noopener nofollow">computer graphics</a>, organic-looking n-dimensional objects. The technique for <a href="https://en.wikipedia.org/wiki/Rendering_(computer_graphics)" class="do jx" rel="noopener nofollow">rendering</a> metaballs was invented by <a href="https://en.wikipedia.org/wiki/Jim_Blinn" class="do jx" rel="noopener nofollow">Jim Blinn</a> in the early 1980s.</p></blockquote><p id="1611" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Or some others said,</p><blockquote class="lh li lj"><p id="572f" class="jb jc ld jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Metaball is an isosurface in 3D space (or isoline in 2D space).</p></blockquote><p id="d5e2" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Sometimes, we all find something hard to be explained by just words, don’t we? But I believe you have seen it at least once in the animations, games or motion graphics, cause it’s been around for a long time and fairly popular effects in computer graphics.</p><p id="1615" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Maybe the most similar example you can find in the real life would be a <a href="https://en.wikipedia.org/wiki/Mercury_(element)" class="do jx" rel="noopener nofollow"><em class="ld">Mercury</em></a><em class="ld">.</em></p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div class="fd fe lk"><div class="hs s ah ht"><div class="ll hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/56/1*wu8DgWHEqIccvsME6I6BCg.jpeg?q=20" width="440" height="477" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="440" height="477" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/880/1*wu8DgWHEqIccvsME6I6BCg.jpeg" width="440" height="477" srcSet="https://miro.medium.com/max/552/1*wu8DgWHEqIccvsME6I6BCg.jpeg 276w, https://miro.medium.com/max/880/1*wu8DgWHEqIccvsME6I6BCg.jpeg 440w" sizes="440px"/&gt;</noscript></div></div></div><figcaption class="hz ia ff fd fe ib ic av b aw ax bt" data-selectable-paragraph="">image from <a href="https://en.wikipedia.org/wiki/Mercury_(element)" class="do jx" rel="noopener nofollow">Wikipedia</a></figcaption></figure><p id="e5e2" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">They act like Mercury when more than 2 metaballs are close enough as you can see in the video below. Also this is the demo I’ll break it down in this post.</p><figure class="ke kf kg kh ki hi"><div class="hs s ah"><div class="lf hv s"></div></div></figure></div></div></section><div class="n p cs lm ln lo" role="separator"><span class="lp gp bq lq lr ls"></span><span class="lp gp bq lq lr ls"></span><span class="lp gp bq lq lr"></span></div><section class="di fl fm dd fn"><div class="n p"><div class="aj ak al am an fo ap w"><h1 id="baea" class="id ie fq av if ig lt ii ij ik lu im in io lv iq ir is lw iu iv iw lx iy iz ja dz" data-selectable-paragraph="">Process</h1><h2 id="8e9d" class="kk ie fq av if kl km kn ij ko kp kq in kr ks kt ir ku kv kw iv kx ky kz iz la dz" data-selectable-paragraph="">1. Break it down the example</h2><p id="82cb" class="jb jc fq jd b je jf ii jg jh ji im jj jk jl jm jn jo jp jq jr js jt ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">a. Setup rays</em></strong></p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div class="fd fe ly"><div class="hs s ah ht"><div class="lz hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*RI0lrBK_dwXc4EjYgJBv8Q.jpeg?q=20" width="332" height="304" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="332" height="304" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/664/1*RI0lrBK_dwXc4EjYgJBv8Q.jpeg" width="332" height="304" srcSet="https://miro.medium.com/max/552/1*RI0lrBK_dwXc4EjYgJBv8Q.jpeg 276w, https://miro.medium.com/max/664/1*RI0lrBK_dwXc4EjYgJBv8Q.jpeg 332w" sizes="332px"/&gt;</noscript></div></div></div><figcaption class="hz ia ff fd fe ib ic av b aw ax bt" data-selectable-paragraph="">black dot : ray origin / red dots : pixels on image plane / red line : ray / blue dot : center of image plane</figcaption></figure><p id="b27a" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Since ray marching needs to cast rays from camera to each pixel, we need to know <strong class="jd cv"><em class="ld">Ray Origin</em></strong> which means where your camera at and <strong class="jd cv"><em class="ld">Ray Direction</em></strong> which means direction toward each pixels on image plane from the ray origin. We’ll get to details by examining Inigo’s example.</p><p id="14b8" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Here is the part where the ray direction is setup in Inigo’s example :</p><pre class="ke kf kg kh ki ma mb mc"><span id="2f41" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">*Note that I took out some codes irrelevant to calculating ray direction.</span><span id="680b" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// move camera  <br /><strong class="md cv">float an = 0.5*time;<br />vec3 ro = vec3(5.0*sin(an),2.5*cos(0.4*an),5.0*cos(an));<br />vec3 ta = vec3(0.0,0.0,0.0);</strong></span><span id="cc8f" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// image plane  <br /><strong class="md cv">vec2 p = -1.0 + 2.0 * fragCoord.xy / iResolution.xy;<br />p.x *= iResolution.x/iResolution.y;</strong></span><span id="add4" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// camera matrix<br /><strong class="md cv">vec3 ww = normalize( ta - ro );<br />vec3 uu = normalize( cross(ww,vec3(0.0,1.0,0.0) ) );<br />vec3 vv = normalize( cross(uu,ww));</strong></span><span id="2199" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// create view ray<br /><strong class="md cv">vec3 rd = normalize( p.x*uu + p.y*vv + 2.0*ww );</strong></span></pre><p id="34b0" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Now we’ll break it down from part to part :</p><pre class="ke kf kg kh ki ma mb mc"><span id="9650" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">// move camera in world space <br /><strong class="md cv">float angle = 0.5*time;<br />vec3 ray_origin = vec3(<br />    5.0 * sin(angle), <br />    2.5 * cos(0.4 * angle), <br />    5.0 * cos(angle));</strong></span><span id="9faa" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// this will be used for calculating lookat matrix below <br /><strong class="md cv">vec3 lookat_target = vec3(0.0, 0.0, 0.0);</strong></span></pre><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div class="fd fe mm"><div class="hs s ah ht"><div class="mn hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/freeze/max/60/1*ZbIyslOjApoPr8f8nLT9JQ.gif?q=20" width="480" height="312" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="480" height="312" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/960/1*ZbIyslOjApoPr8f8nLT9JQ.gif" width="480" height="312" srcSet="https://miro.medium.com/max/552/1*ZbIyslOjApoPr8f8nLT9JQ.gif 276w, https://miro.medium.com/max/960/1*ZbIyslOjApoPr8f8nLT9JQ.gif 480w" sizes="480px"/&gt;</noscript></div></div></div><figcaption class="hz ia ff fd fe ib ic av b aw ax bt" data-selectable-paragraph="">Note that it’s not actually a camera but just a point</figcaption></figure><p id="f77a" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Set the <code class="ht mo mp mq md b">ray_origin</code> (the camera) in world space. At the world root (0, 0, 0), it will be circling around Y axis along with going up and down. <br />The <code class="ht mo mp mq md b">lookat_target</code> will be used later.</p><pre class="ke kf kg kh ki ma mb mc"><span id="27ef" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">// image plane construction (-1 ~ 1)<br /><strong class="md cv">vec2 pixel = -1.0 + 2.0 * fragCoord.xy / iResolution.xy;<br />pixel.x *= iResolution.x/iResolution.y;</strong></span></pre><p id="2c38" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Then we construct the image plane with pixel coordinates <code class="ht mo mp mq md b">fragCoord.xy</code> which ranges from left bottom (0. 0) to right top(window.width, window.height).</p></div></div><div class="hi"><div class="n p"><div class="mr ms mt mu mv mw am mx an my ap w"><figure class="ke kf kg kh ki hi na nb paragraph-image"><div role="button" tabindex="0" class="hj hk ah hl w hm"><div class="fd fe mz"><div class="hs s ah ht"><div class="nc hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*Co8SE9mtiBhaqlz1XnixPg.jpeg?q=20" width="3932" height="1087" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="3932" height="1087" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/7864/1*Co8SE9mtiBhaqlz1XnixPg.jpeg" width="3932" height="1087" srcSet="https://miro.medium.com/max/552/1*Co8SE9mtiBhaqlz1XnixPg.jpeg 276w, https://miro.medium.com/max/1104/1*Co8SE9mtiBhaqlz1XnixPg.jpeg 552w, https://miro.medium.com/max/1280/1*Co8SE9mtiBhaqlz1XnixPg.jpeg 640w, https://miro.medium.com/max/1456/1*Co8SE9mtiBhaqlz1XnixPg.jpeg 728w, https://miro.medium.com/max/1632/1*Co8SE9mtiBhaqlz1XnixPg.jpeg 816w, https://miro.medium.com/max/1808/1*Co8SE9mtiBhaqlz1XnixPg.jpeg 904w, https://miro.medium.com/max/1984/1*Co8SE9mtiBhaqlz1XnixPg.jpeg 992w, https://miro.medium.com/max/2000/1*Co8SE9mtiBhaqlz1XnixPg.jpeg 1000w" sizes="1000px"/&gt;</noscript></div></div></div></div></figure></div></div></div><div class="n p"><div class="aj ak al am an fo ap w"><p id="6268" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Since the each pixel’s position needs to be in world space coordinates, we scale the down to 2 units width and height and offset the origin to the center.</p><p id="bb99" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Now we get a directional vector from the camera toward <code class="ht mo mp mq md b">lookat_target</code> which we defined above by subtracting <code class="ht mo mp mq md b">ray_origin</code> from the <code class="ht mo mp mq md b">lookat_target</code> and normalize it. We can assume this directional vector as the forward vector of our camera. With this forward vector, we can get left and up vectors by cross product with perpendicular vectors. Within these 3 axis, we can construct the lookat rotation matrix to the camera. We use this to align the image plane looking toward the ray origin by translating each pixel by multiplying this matrix. The code is following :</p><pre class="ke kf kg kh ki ma mb mc"><span id="ce6f" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">// camera lookat rotation matrix toward lookat_target<br /><strong class="md cv">vec3 world_up = vec3(0.0, 1.0, 0.0);<br />vec3 cam_forward = normalize( lookat_target - ray_origin );<br />vec3 cam_left = normalize( cross(cam_forward, world_up) );<br />vec3 cam_up = normalize( cross(cam_left, cam_forward));</strong></span></pre><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div class="fd fe mm"><div class="hs s ah ht"><div class="mn hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/freeze/max/60/1*dprycJE2PbefSLPMfVCfAQ.gif?q=20" width="480" height="312" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="480" height="312" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/960/1*dprycJE2PbefSLPMfVCfAQ.gif" width="480" height="312" srcSet="https://miro.medium.com/max/552/1*dprycJE2PbefSLPMfVCfAQ.gif 276w, https://miro.medium.com/max/960/1*dprycJE2PbefSLPMfVCfAQ.gif 480w" sizes="480px"/&gt;</noscript></div></div></div><figcaption class="hz ia ff fd fe ib ic av b aw ax bt" data-selectable-paragraph="">axis on the center : visualizes the orientation of lookat matrix</figcaption></figure><p id="b50c" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Since image plane needs to belong in camera’s matrix in order to construct the field of view, following code does that :</p><pre class="ke kf kg kh ki ma mb mc"><span id="151f" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">// original code<br /><strong class="md cv">vec3 ray_direction = normalize( pixel.x*cam_left + pixel.y*cam_up + 2.0*cam_forward );</strong></span><span id="54d3" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">breakdown -------&gt;</span><span id="5a4f" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">#1<br /><strong class="md cv">float focal_length = 2.0<br />vec3 image_plane = vec3(pixel, focal_length)</strong></span><span id="4178" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">#2<br /><strong class="md cv">image_plane = vec3(<br />             image_plane.x * cam_left +<br />             image_plane.y * cam_up + <br />             image_plane.z * cam_forward)</strong></span><span id="e0fb" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">#3<br /><strong class="md cv">image_plane = ray_origin + image_plane</strong></span><span id="759b" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">#4<br /><strong class="md cv">vec3 ray_direction = normalize(image_plane - ray_origin)</strong></span></pre><p id="cc62" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">This part needed a bit more breakdown. I wrote the process in the code above, I’ll explain step by step.</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div class="fd fe mm"><div class="hs s ah ht"><div class="mn hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/freeze/max/60/1*nATAjgaSwKb7CIlmgTUh3Q.gif?q=20" width="480" height="312" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="480" height="312" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/960/1*nATAjgaSwKb7CIlmgTUh3Q.gif" width="480" height="312" srcSet="https://miro.medium.com/max/552/1*nATAjgaSwKb7CIlmgTUh3Q.gif 276w, https://miro.medium.com/max/960/1*nATAjgaSwKb7CIlmgTUh3Q.gif 480w" sizes="480px"/&gt;</noscript></div></div></div></figure><ul class=""><li id="ce70" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw nd ne nf dz" data-selectable-paragraph="">#1 : By giving Z value to the image plane, now the image plane is place in the world space, 2 units far away (0, 0, 2) from the root (0, 0, 0) along Z axis.</li></ul><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div class="fd fe mm"><div class="hs s ah ht"><div class="ng hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/freeze/max/60/1*qaYLrC-felH945HvL2tjjg.gif?q=20" width="480" height="313" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="480" height="313" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/960/1*qaYLrC-felH945HvL2tjjg.gif" width="480" height="313" srcSet="https://miro.medium.com/max/552/1*qaYLrC-felH945HvL2tjjg.gif 276w, https://miro.medium.com/max/960/1*qaYLrC-felH945HvL2tjjg.gif 480w" sizes="480px"/&gt;</noscript></div></div></div></figure><ul class=""><li id="4f42" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw nd ne nf dz" data-selectable-paragraph="">#2 : By multiply the lookat rotation matrix to each pixel’s position in the image plane, now the plane is always facing toward the ray origin.</li></ul><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div class="fd fe mm"><div class="hs s ah ht"><div class="mn hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/freeze/max/60/1*y28HAg6Foz5oNYC-Z5D5xw.gif?q=20" width="480" height="312" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="480" height="312" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/960/1*y28HAg6Foz5oNYC-Z5D5xw.gif" width="480" height="312" srcSet="https://miro.medium.com/max/552/1*y28HAg6Foz5oNYC-Z5D5xw.gif 276w, https://miro.medium.com/max/960/1*y28HAg6Foz5oNYC-Z5D5xw.gif 480w" sizes="480px"/&gt;</noscript></div></div></div></figure><ul class=""><li id="7a07" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw nd ne nf dz" data-selectable-paragraph="">#3 : By adding position of the ray origin, now it moves along with the ray origin while it is facing toward the ray origin 2 units far away. we can assume this is a world position of pixels on the image plane.</li><li id="de02" class="jb jc fq jd b je nh ii jg jh ni im jj jk nj jm jn jo nk jq jr js nl ju jv jw nd ne nf dz" data-selectable-paragraph="">#4 : Since <code class="ht mo mp mq md b">image_plane = ray_origin + image_plane</code>, we can confirm that <code class="ht mo mp mq md b">normalize(pixels_in_world_space — ray_origin)</code> is identical with the original code <code class="ht mo mp mq md b">normalize( pixel.x*cam_left + pixel.y*cam_up + 2.0*cam_forward )</code></li></ul><p id="f51e" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">b. March rays</em></strong></p><pre class="ke kf kg kh ki ma mb mc"><span id="e580" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">// A small number that you want to use to decide if the ray is close enough to surface.<br /><strong class="md cv">const float precis = 0.01;</strong></span><span id="ab14" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// ro - ray_origin<br />// rd - ray_direction<br /><strong class="md cv">vec2 intersect( in vec3 ro, in vec3 rd )<br />{</strong></span><span id="ba99" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">    // Maximum distance - if the ray go further than this, we'll assume there's nothing<br />    <strong class="md cv">float maxd = 10.0;</strong></span><span id="31fa" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">    // Marching step size from the distance field - the closest distance between the current ray position and surface<strong class="md cv">    <br />    float h = precis * 2.0;</strong></span><span id="dd18" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">    // Total travel distance of the ray - the distance between ray origin and surface<br />    <strong class="md cv">float t = 0.0;</strong></span><span id="04d1" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">    // This is a bit mysterious to me.. based on the code it only tells whether the ray is out of the max or not. Maybe there's other usages in specific case but not in this example?<br />    <strong class="md cv">float m = 1.0;<br />    <br />    </strong>// How many steps of marching - the more you iterate, the more precision you will have. But also the more computation cost. <strong class="md cv">  <br />    for( int i = 0; i &lt; 75; i++ )<br />    {<br />        </strong>// When the ray is close enough to the surface or the total travel distance is bigger than maximum distance then break the loop<br />        <strong class="md cv">if( h &lt; precis || t &gt; maxd ) break;</strong></span><span id="d44e" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">        // Update the total travel distance with the updated marching distance from previous loop<br />        <strong class="md cv">t += h;</strong></span><span id="d0da" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">        // Update the marching distance from the distance field <br />        // ro + rd * t - current position of your ray <br />        // map(ray) - return the closest distance between the ray and the the scene<br />        <strong class="md cv">h = map( ro + rd * t );<br />    }</strong></span><span id="fd18" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// update m if the ray travels further than the maximum distance. This value will be used to decide whether we render background or metaball in this example <br />    <strong class="md cv">if( t &gt; maxd ) <br />        m = -1.0;<br />       <br />    return vec2( t, m );<br />}</strong></span></pre><p id="4cef" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">This function marches ray a number of iterations to find a point close enough to the surface of the scene. I think the code explains itself so I just leave comments in the code above to briefly explain the details.</p><p id="191c" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">c. Distance Field</em></strong></p><p id="e08d" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">As I briefly mentioned above, distance field gives you the closest distance between your current ray’s position and the scene. In this example, we only render the metabll so the distance filed function is equivalent with distance function of metaball as you see in the code below, so we move on to the distance function of metaball.</p><pre class="ke kf kg kh ki ma mb mc"><span id="7b66" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">// Distance Field function. it's also called Distance Map or Distance Transform <br /><strong class="md cv">float map( in vec3 p )<br />{<br />    return sdMetaBalls( p );<br />}</strong></span></pre><p id="1d3c" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">*If you curious to see how to construct a distance field with various distance functions, I recommend to read <a href="http://www.iquilezles.org/www/articles/distfunctions/distfunctions.htm" class="do jx" rel="noopener nofollow"><em class="ld">Modeling with Distance Functions</em></a> by Inigo Quilez.</p><p id="025a" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">d. Render Metaball</em></strong></p><p id="e41c" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Following is the distance function of metaball in this example :</p><pre class="ke kf kg kh ki ma mb mc"><span id="6982" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">vec4 blobs[numballs];</span><span id="6f53" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">float sdMetaBalls( vec3 pos )<br />{<br />    float m = 0.0;<br />    float p = 0.0;<br />    float dmin = 1e20;<br />  <br />    float h = 1.0; // track Lipschitz constant<br /> <br />    for( int i=0; i&lt;numballs; i++ )<br />    {<br />        // bounding sphere for ball<br />        float db = length( blobs[i].xyz - pos );<br />        if( db &lt; blobs[i].w )<br />        {<br />            float x = db/blobs[i].w;<br />            p += 1.0 - x*x*x*(x*(x*6.0-15.0)+10.0);<br />            m += 1.0;<br />            h = max( h, 0.5333*blobs[i].w );<br />         }<br />         else // bouncing sphere distance<br />         {<br />            dmin = min( dmin, db - blobs[i].w );<br />         }<br />     }<br />     float d = dmin + 0.1;<br /> <br />     if( m&gt;0.5 )<br />     {<br />         float th = 0.2;<br />         d = h*(th-p);<br />     }<br /> <br />     return d;<br />}</span></pre><p id="61db" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">*I should mention that the metaball part break down is based on my quick research while I was writing this post, so I had to rely on the assumption on many parts. So please kindly understand and please do not hesitate to point them out for me.</p><p id="c59d" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">So… let me take a deep breath... and here we go.</p><p id="1efb" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">We can divide this metaball function into 2 big part :</p><ul class=""><li id="a3cc" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw nd ne nf dz" data-selectable-paragraph="">Bounding sphere</li><li id="1490" class="jb jc fq jd b je nh ii jg jh ni im jj jk nj jm jn jo nk jq jr js nl ju jv jw nd ne nf dz" data-selectable-paragraph="">Metaball field</li></ul><p id="7e47" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">d-1. Bounding sphere</em></strong></p><p id="6af1" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">For the performance reason, we ignore the calculation for metaball field until the ray hits any of bounding sphere in the group of blobs. The radius of bounding spheres are defined by each blob’s radius <code class="ht mo mp mq md b">blobs[i].w</code></p><pre class="ke kf kg kh ki ma mb mc"><span id="f434" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">// minimum distance between current ray and closest blob's surface. start with the big enough number. <br /><strong class="md cv">float dmin = 1e20;</strong></span><span id="faca" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph=""><strong class="md cv">for( int i=0; i&lt;numballs; i++ )<br />{</strong><br />    // distance between current ray and current blob<br />    <strong class="md cv">float db = length( blobs[i].xyz - pos );</strong></span><span id="a3a2" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">    // if the distance is shorter than current blob's radius<br />    <strong class="md cv">if( db &lt; blobs[i].w )<br />    {<br />        </strong>// the ray is in the blob <br />        // do metaball field calculation<br />    <strong class="md cv">}<br />    else<br />    {</strong><br />        // the ray is still out of current blob's boundary<br />        // update dmin with the closest distance between current ray and the surface of blobs<em class="ld"><br />        </em><strong class="md cv">dmin = min( dmin, db - blobs[i].w );<br />    }<br />}</strong></span><span id="9227" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// add just big enough to push the ray into the blob when the ray hit the bounding sphere. <br /><strong class="md cv">float d = dmin + 0.1; </strong></span><span id="ce88" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// return the updated distance for the next marching step  <br /><strong class="md cv">return d;</strong></span></pre><p id="084a" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Let me give more detail on the reason for adding 0.1 to the closest distance. For the simplicity and better understanding, let’s assume we only have 2 blobs in 2D space. See the image below :</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div role="button" tabindex="0" class="hj hk ah hl w hm"><div class="fd fe nm"><div class="hs s ah ht"><div class="nn hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*dGYbmE7mq5cGq0E9OUV10A.jpeg?q=20" width="4322" height="2482" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="4322" height="2482" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/8644/1*dGYbmE7mq5cGq0E9OUV10A.jpeg" width="4322" height="2482" srcSet="https://miro.medium.com/max/552/1*dGYbmE7mq5cGq0E9OUV10A.jpeg 276w, https://miro.medium.com/max/1104/1*dGYbmE7mq5cGq0E9OUV10A.jpeg 552w, https://miro.medium.com/max/1280/1*dGYbmE7mq5cGq0E9OUV10A.jpeg 640w, https://miro.medium.com/max/1400/1*dGYbmE7mq5cGq0E9OUV10A.jpeg 700w" sizes="700px"/&gt;</noscript></div></div></div></div></figure><p id="f971" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Let’s say the ray is not almost close to the surface of Blob <code class="ht mo mp mq md b">P1</code>. It will most likely get closer to next iteration, maybe it might get smaller than <code class="ht mo mp mq md b">precision = 0.01</code>value in the ray marching function. That means, the ray marching function will stop the ray and will return current distance which is the closest distance between ray and bounding sphere (not a metaball). We only need bounding spheres as a entry point for the ray into the metaball field (let’s just say inside of the blob) so we add up just enough number to fool the marching function and let the ray jump into the bounding sphere. If we zoom into the image :</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div role="button" tabindex="0" class="hj hk ah hl w hm"><div class="fd fe no"><div class="hs s ah ht"><div class="np hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*lL2SmCG7xFDrfVA7TC-eyg.jpeg?q=20" width="1281" height="736" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="1281" height="736" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/2562/1*lL2SmCG7xFDrfVA7TC-eyg.jpeg" width="1281" height="736" srcSet="https://miro.medium.com/max/552/1*lL2SmCG7xFDrfVA7TC-eyg.jpeg 276w, https://miro.medium.com/max/1104/1*lL2SmCG7xFDrfVA7TC-eyg.jpeg 552w, https://miro.medium.com/max/1280/1*lL2SmCG7xFDrfVA7TC-eyg.jpeg 640w, https://miro.medium.com/max/1400/1*lL2SmCG7xFDrfVA7TC-eyg.jpeg 700w" sizes="700px"/&gt;</noscript></div></div></div></div></figure><p id="0da8" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">The <strong class="jd cv">darker grey curve</strong> is the edge of bounding sphere, the <strong class="jd cv">red dot</strong> is the current ray, the <strong class="jd cv">blue line</strong> is the closest distance between the ray and surface, the <strong class="jd cv">green line</strong> is also the closest distance applied to ray direction, and the <strong class="jd cv">red line</strong> is the little push <code class="ht mo mp mq md b"><strong class="jd cv">d = dmin + 0.1</strong></code> to let the next ray go into the bounding sphere and to prevent terminating ray marching function’s iteration. Again, without a little push, the ray marching function will just return the closest distance to bounding sphere. Note that, as soon as we jump into the bounding sphere then we don’t need this small push anymore. I’ll point it out again in next part.</p><p id="e725" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">So, we’re in the blob. Let’s metaball them.</p><p id="6edf" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">d-2. Metaball field</em></strong></p><pre class="ke kf kg kh ki ma mb mc"><span id="795e" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph=""><strong class="md cv">float m = 0.0;<br />float p = 0.0;</strong><br /><em class="ld">float dmin = 1e20;</em><br />  <br /><strong class="md cv">float h = 1.0; // track Lipschitz constant</strong><br /> <br /><strong class="md cv">for( int i=0; i&lt;numballs; i++ )<br />{</strong><br />    // bounding sphere for ball<br />    <strong class="md cv">float db = length( blobs[i].xyz - pos );<br />    if( db &lt; blobs[i].w )<br />    {<br />        float x = db/blobs[i].w;<br />        p += 1.0 - x*x*x*(x*(x*6.0-15.0)+10.0);<br />        m += 1.0;<br />        h = max( h, 0.5333*blobs[i].w );<br />    }</strong><br /><em class="ld">    else // bouncing sphere distance<br />    {<br />        dmin = min( dmin, db - blobs[i].w );<br />    }</em><br /><strong class="md cv">}</strong><br /><em class="ld">float d = dmin + 0.1;</em><br /> <br /><strong class="md cv">if( m&gt;0.5 )<br />{<br />    float th = 0.2;<br />    d = h*(th-p);<br />}</strong><br /> <br /><strong class="md cv">return d;</strong></span></pre><p id="5bb8" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Note that the italic lines will not be used from this point anymore because we’re inside of the bounding sphere. Like I mentioned, the little push is not used anymore as it is overwritten by this line :<code class="ht mo mp mq md b">d = h * (th — p)</code><strong class="jd cv">.</strong></p><p id="e4e9" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Before I directly explain the code, let’s start with the case when the ray is inside only one blob :</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div role="button" tabindex="0" class="hj hk ah hl w hm"><div class="fd fe nm"><div class="hs s ah ht"><div class="nn hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*_V5oUV1A1AP43xexEA3HiQ.jpeg?q=20" width="4322" height="2482" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="4322" height="2482" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/8644/1*_V5oUV1A1AP43xexEA3HiQ.jpeg" width="4322" height="2482" srcSet="https://miro.medium.com/max/552/1*_V5oUV1A1AP43xexEA3HiQ.jpeg 276w, https://miro.medium.com/max/1104/1*_V5oUV1A1AP43xexEA3HiQ.jpeg 552w, https://miro.medium.com/max/1280/1*_V5oUV1A1AP43xexEA3HiQ.jpeg 640w, https://miro.medium.com/max/1400/1*_V5oUV1A1AP43xexEA3HiQ.jpeg 700w" sizes="700px"/&gt;</noscript></div></div></div></div></figure><p id="0939" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">For the simplicity, I set the direction of ray aligned to the center of blob’s center so we don’t need to re-align the distance with ray’s direction.</p><p id="7c15" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Since we’re in the blob, we know db is less than blob’s radius so we can normalize it by <code class="ht mo mp mq md b"><strong class="jd cv">x = db/blobs[i].w</strong></code><strong class="jd cv">. </strong>By doing this, we can describe current distance between ray and blob’s center in relative scale 0–1. So let’s say if rays are in the middle between the center and surface of each blob then we can say they are 0.5 unit far away from the each blob’s center in each blob’s coordinates :</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div role="button" tabindex="0" class="hj hk ah hl w hm"><div class="fd fe nm"><div class="hs s ah ht"><div class="nn hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*XRJGjWFRNg9u7BslAg8dpg.jpeg?q=20" width="4322" height="2482" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="4322" height="2482" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/8644/1*XRJGjWFRNg9u7BslAg8dpg.jpeg" width="4322" height="2482" srcSet="https://miro.medium.com/max/552/1*XRJGjWFRNg9u7BslAg8dpg.jpeg 276w, https://miro.medium.com/max/1104/1*XRJGjWFRNg9u7BslAg8dpg.jpeg 552w, https://miro.medium.com/max/1280/1*XRJGjWFRNg9u7BslAg8dpg.jpeg 640w, https://miro.medium.com/max/1400/1*XRJGjWFRNg9u7BslAg8dpg.jpeg 700w" sizes="700px"/&gt;</noscript></div></div></div></div><figcaption class="hz ia ff fd fe ib ic av b aw ax bt" data-selectable-paragraph="">X = DISTANCE_BETWEEN_RAY_AND_BLOB_CENTER / BLOB_RADIUS</figcaption></figure><p id="36c7" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">In graph form :</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div role="button" tabindex="0" class="hj hk ah hl w hm"><div class="fd fe nq"><div class="hs s ah ht"><div class="nr hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*0iGi4wE4-9eHWSeFCxmRyw.png?q=20" width="1242" height="738" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="1242" height="738" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/2484/1*0iGi4wE4-9eHWSeFCxmRyw.png" width="1242" height="738" srcSet="https://miro.medium.com/max/552/1*0iGi4wE4-9eHWSeFCxmRyw.png 276w, https://miro.medium.com/max/1104/1*0iGi4wE4-9eHWSeFCxmRyw.png 552w, https://miro.medium.com/max/1280/1*0iGi4wE4-9eHWSeFCxmRyw.png 640w, https://miro.medium.com/max/1400/1*0iGi4wE4-9eHWSeFCxmRyw.png 700w" sizes="700px"/&gt;</noscript></div></div></div></div><figcaption class="hz ia ff fd fe ib ic av b aw ax bt" data-selectable-paragraph="">X = DISTANCE_BETWEEN_RAY_AND_BLOB_CENTER / BLOB_RADIUS</figcaption></figure><p id="1061" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">By using this normalized distance, we’ll calculate metaball’s falloff by using this inverted polynomial equation :</p><pre class="ke kf kg kh ki ma mb mc"><span id="0b29" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph=""><strong class="md cv">p += 1.0 - x*x*x*(x*(x*6.0-15.0)+10.0);</strong></span></pre><p id="d932" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Note that we invert it because we need to march ray into the blob not the opposite so the distance should be measured from the surface :</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div role="button" tabindex="0" class="hj hk ah hl w hm"><div class="fd fe nm"><div class="hs s ah ht"><div class="nn hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*H5Artpg28_pZlrDy8DrfaA.jpeg?q=20" width="4322" height="2482" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="4322" height="2482" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/8644/1*H5Artpg28_pZlrDy8DrfaA.jpeg" width="4322" height="2482" srcSet="https://miro.medium.com/max/552/1*H5Artpg28_pZlrDy8DrfaA.jpeg 276w, https://miro.medium.com/max/1104/1*H5Artpg28_pZlrDy8DrfaA.jpeg 552w, https://miro.medium.com/max/1280/1*H5Artpg28_pZlrDy8DrfaA.jpeg 640w, https://miro.medium.com/max/1400/1*H5Artpg28_pZlrDy8DrfaA.jpeg 700w" sizes="700px"/&gt;</noscript></div></div></div></div><figcaption class="hz ia ff fd fe ib ic av b aw ax bt" data-selectable-paragraph="">P = 1. — X*X*X*(X*(X*6.0–15.0)+10.0)</figcaption></figure><p id="1e6e" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Now the direction is from surface to center. Even though it’s a same scale, it’s gradient is smoothed by the equation. You can see in the graph :</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div role="button" tabindex="0" class="hj hk ah hl w hm"><div class="fd fe ns"><div class="hs s ah ht"><div class="nt hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*anDzTYnSSvfunwQ_Qqsc9A.png?q=20" width="1246" height="742" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="1246" height="742" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/2492/1*anDzTYnSSvfunwQ_Qqsc9A.png" width="1246" height="742" srcSet="https://miro.medium.com/max/552/1*anDzTYnSSvfunwQ_Qqsc9A.png 276w, https://miro.medium.com/max/1104/1*anDzTYnSSvfunwQ_Qqsc9A.png 552w, https://miro.medium.com/max/1280/1*anDzTYnSSvfunwQ_Qqsc9A.png 640w, https://miro.medium.com/max/1400/1*anDzTYnSSvfunwQ_Qqsc9A.png 700w" sizes="700px"/&gt;</noscript></div></div></div></div><figcaption class="hz ia ff fd fe ib ic av b aw ax bt" data-selectable-paragraph="">X = DISTANCE_BETWEEN_RAY_AND_BLOB_CENTER / BLOB_RADIUS</figcaption></figure><p id="493f" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">So now we got a smooth curve for metaball’s falloff. Now, we need to decide metaballs’ volume with threshold and weight with following codes :</p><pre class="ke kf kg kh ki ma mb mc"><span id="4c30" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">if( m&gt;0.5 )<br />{<strong class="md cv"><br />    float th = 0.2;<br />    d = h*(th-p);<br /></strong>}</span></pre><p id="90ce" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">The <code class="ht mo mp mq md b">h</code> is the weight for metaball’s falloff and it also scales normalized distance back to world coordinates and it’s decided in the following code :</p><pre class="ke kf kg kh ki ma mb mc"><span id="8ad9" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph=""><strong class="md cv">h = max( h, 0.5333*blobs[i].w );</strong></span></pre><p id="c518" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">To be honest, I don’t still fully understand why it has to be multiplied with the number. Without multiplying it, I saw some artifacts on metaball’s surface. My best guess at this moment is that it’s for calibrating the metaball’s falloff from the polynomial equation, based on his comment in the original code. I’ll follow up this as soon as I have better understanding. I leave his his original comment for the reference.</p><blockquote class="lh li lj"><p id="1dd6" class="jb jc ld jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">The quintic polynomial p(x) = 6x^5–15x^4 + 10x^3 has zero first and second derivatives in its corners. The maxium slope p’’(x)=0 happens in the middle x=1/2, and its value is p’(1/2) = 15/8. Therefore the minimum distance to a metaball (in metaball canonical coordinates) is at least 8/15 = 0.533333</p></blockquote><p id="0f32" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Back to deciding metaball’s volume. As we can see in the code, if the falloff is bigger than threshold <code class="ht mo mp mq md b">th = 0.2</code><strong class="jd cv">, </strong>the distance becomes negative. It means the ray is inside of the metaball volume and also the ray marching function will return current travel distance since the distance becomes less than <code class="ht mo mp mq md b">precision = 0.01</code>.</p><p id="5bc7" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">If we apply this into the case if the ray is in the intersection of 2 blobs’ bounding sphere, the total p value is a sum of p1 and p2 :</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div role="button" tabindex="0" class="hj hk ah hl w hm"><div class="fd fe nm"><div class="hs s ah ht"><div class="nn hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*yFQIExatzVr9c4YTk5OSlg.jpeg?q=20" width="4322" height="2482" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="4322" height="2482" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/8644/1*yFQIExatzVr9c4YTk5OSlg.jpeg" width="4322" height="2482" srcSet="https://miro.medium.com/max/552/1*yFQIExatzVr9c4YTk5OSlg.jpeg 276w, https://miro.medium.com/max/1104/1*yFQIExatzVr9c4YTk5OSlg.jpeg 552w, https://miro.medium.com/max/1280/1*yFQIExatzVr9c4YTk5OSlg.jpeg 640w, https://miro.medium.com/max/1400/1*yFQIExatzVr9c4YTk5OSlg.jpeg 700w" sizes="700px"/&gt;</noscript></div></div></div></div></figure><p id="028f" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">In 3D space, the distance map of the metaballs from this process looks like :</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div class="fd fe mm"><div class="hs s ah ht"><div class="nu hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/freeze/max/60/1*dUEPb8Lp1zzDt_HnrXw-oQ.gif?q=20" width="480" height="393" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="480" height="393" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/960/1*dUEPb8Lp1zzDt_HnrXw-oQ.gif" width="480" height="393" srcSet="https://miro.medium.com/max/552/1*dUEPb8Lp1zzDt_HnrXw-oQ.gif 276w, https://miro.medium.com/max/960/1*dUEPb8Lp1zzDt_HnrXw-oQ.gif 480w" sizes="480px"/&gt;</noscript></div></div></div></figure><p id="f7a2" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">e. Surface geometry and normal</em></strong></p><p id="8a27" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Since we know the distance from ray origin and the scene surface, we can construct the virtual geometry surface based on those information by :</p><p id="fa13" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><code class="ht mo mp mq md b">surface_geometry = ray_origin + distance_field * ray_direction</code></p><p id="fa97" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Now we need the surface normal in order to apply lighting techniques. With polygons, we can compute surface normal by interpolating the vertex normals of triangle but we don’t have triangles, but only know the position(<code class="ht mo mp mq md b">surface_geometry</code>) of the surface from the current ray. So we need to estimate the surface normal by taking the gradient of 2 points, one just behind and the other front of current ray. We sample these 2 points with a very smaller step size and get direction from behind to front then the direction will be almost perpendicular to the position, we can assume this as surface normal. In code :</p><pre class="ke kf kg kh ki ma mb mc"><span id="3236" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">vec3 epsilon = vec3(precision,0.0,0.0);</span><span id="00d3" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">vec3 surface_normal = normalize( vec3(<br />    map(pos+epsilon.xyy) — map(pos-epsilon.xyy),<br />    map(pos+epsilon.yxy) — map(pos-epsilon.yxy),<br />    map(pos+epsilon.yyx) — map(pos-epsilon.yyx) ) <br />);</span></pre><p id="3a34" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">However in this example, we have for loop in metaball’s distance function to iterate blobs’ array, it’s a bit inefficient because we need to run the loop 6 more times. So Inigo uses analytic approach by using polynomial :</p><pre class="ke kf kg kh ki ma mb mc"><span id="742a" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">vec3 nor = vec3( 0.0, 0.0001, 0.0 );<br /> <br />for( int i=0; i&lt;numballs; i++ )<br />{<br />    float db = length( blobs[i].xyz — pos );<br />    float x = clamp( db/blobs[i].w, 0.0, 1.0 );<br />    float p = x*x*(30.0*x*x — 60.0*x + 30.0);<br />    nor += normalize( pos — blobs[i].xyz ) * p / blobs[i].w;<br />}<br /> <br />return normalize( nor );</span></pre><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div class="fd fe nv"><div class="hs s ah ht"><div class="nw hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*9jIYH7yECWnLfEtaVVS-rw.jpeg?q=20" width="614" height="352" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="614" height="352" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/1228/1*9jIYH7yECWnLfEtaVVS-rw.jpeg" width="614" height="352" srcSet="https://miro.medium.com/max/552/1*9jIYH7yECWnLfEtaVVS-rw.jpeg 276w, https://miro.medium.com/max/1104/1*9jIYH7yECWnLfEtaVVS-rw.jpeg 552w, https://miro.medium.com/max/1228/1*9jIYH7yECWnLfEtaVVS-rw.jpeg 614w" sizes="614px"/&gt;</noscript></div></div></div></figure><p id="95ba" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">My best guess at this moment, metaballs’ spherical surface normal can be calculated with <code class="ht mo mp mq md b">normalize( pos — blobs[i].xyz )</code>. This polynomial would be used mostly for the falloff. I’ll follow up this as soon as I have a better understanding after more research as well.</p><h2 id="6eb7" class="kk ie fq av if kl km kn ij ko kp kq in kr ks kt ir ku kv kw iv kx ky kz iz la dz" data-selectable-paragraph="">2. Implementing in Unity3D</h2><h2 id="1ce3" class="kk ie fq av if kl km kn ij ko kp kq in kr ks kt ir ku kv kw iv kx ky kz iz la dz" data-selectable-paragraph="">2–1. Implementing in Unity3D — Compute blobs’ attributes</h2><p id="808c" class="jb jc fq jd b je jf ii jg jh ji im jj jk jl jm jn jo jp jq jr js jt ju jv jw di dz" data-selectable-paragraph="">Based on the example, in order to ray-march the metaball in fragment shader, the requirements are values of attributes for each blob such as position and radius before it starts rendering in fragment shader. <br />So I decided to use compute shader to calculate them and export them into textures, and then pass them to fragment shader.</p><p id="0b26" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">a. Render Texture setup</em></strong><em class="ld"><br /></em>I use pairs of 2 render textures in order to write/read blobs’ attributes. Dimension of the textures decides the number of blobs (texture.width * texture.height) for the simplicity. Following is my render texture setup.</p><pre class="ke kf kg kh ki ma mb mc"><span id="cab4" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">RenderTexture create_cs_out_texture(int _w, int _h)<br />{<br />    RenderTexture _out = new RenderTexture(_w, _h, 24);<br />    _out.format = RenderTextureFormat.ARGBFloat; <br />    _out.filterMode = FilterMode.Point;<br />    _out.wrapMode = TextureWrapMode.Clamp;<br />    _out.enableRandomWrite = true;<br />    _out.Create();</span><span id="0e7e" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">return _out;<br />}</span><span id="948b" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">for (int i = 0; i &lt; 2; i++)<br />{<br />    m_cs_out_pos_and_life[i] = create_cs_out_texture(tex_w, tex_h);<br />    m_cs_out_vel_and_scale[i] = create_cs_out_texture(tex_w, tex_h);<br />}</span><span id="cbb6" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">num_particles = tex_w * tex_h;</span></pre><p id="64aa" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Note that :</p><ul class=""><li id="51cf" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw nd ne nf dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">Why pairs?</em></strong><em class="ld"> <br />- </em>I design them like a force based particle system, so all attributes are updated and related based on their previous values.</li></ul><pre class="ke kf kg kh ki ma mb mc"><span id="5d5f" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">// pass the render textures to compute shade updated previous loop<br />cs.SetTexture(kernel_id, "out_pos_and_life", tex_a[cur_frame^1]);<br />cs.SetTexture(kernel_id, "out_vel_and_scale", tex_b[cur_frame^1]);</span><span id="8b6a" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// update current render textures         <br />cs.Dispatch(kernel_id, num_cs_threadGroup, num_cs_threadGroup, 1);</span><span id="a83b" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// swap index between 0-1<br />cur_frame ^= 1;</span></pre><ul class=""><li id="6381" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw nd ne nf dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">32 bit float for ARGB channels texture format</em></strong><em class="ld"> </em><strong class="jd cv"><br />- </strong>I need 8 channels (2 x ARGB) in order to write blob’s position(float3), lifespan(float), velocity(float3), and scale(float) values in higher precision</li><li id="2d36" class="jb jc fq jd b je nh ii jg jh ni im jj jk nj jm jn jo nk jq jr js nl ju jv jw nd ne nf dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">Point filter</em></strong><em class="ld"> <br />- </em>No filter interpolation so that I read correct values as I wrote.</li><li id="fc40" class="jb jc fq jd b je nh ii jg jh ni im jj jk nj jm jn jo nk jq jr js nl ju jv jw nd ne nf dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">EnableRandomWrite</em><br /></strong>-<strong class="jd cv"> </strong>In order to allow compute shader to write into arbitrary locations of textures — <a href="https://docs.unity3d.com/Manual/ComputeShaders.html" class="do jx" rel="noopener nofollow">Unity3D compute shader documentation</a></li></ul><p id="676f" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">b. Compute Shader setup</em></strong><em class="ld"><br /></em>Compute shader has 2 kernels, one is for setup and the other is for update. As I have mentioned above, compute shader calculates blobs’ attributes and writes into 2 render textures.</p><pre class="ke kf kg kh ki ma mb mc"><span id="d459" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">out_pos_and_life[global_id.xy] = float4(m_pos, m_life);<br />out_vel_and_scale[global_id.xy] = float4(m_vel, m_scale);</span></pre><p id="ca6f" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">The basic rules of blobs’ attributes are following :</p><ul class=""><li id="5916" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw nd ne nf dz" data-selectable-paragraph="">blobs’ attributes are initiated based on 3d simplex noise gradient with different seed. I use <a href="https://github.com/keijiro/NoiseShader" class="do jx" rel="noopener nofollow">Noise Shader Library for Unity by Keijiro Takahashi</a>. Following is the functions that I use for setup.</li></ul><pre class="ke kf kg kh ki ma mb mc"><span id="cea2" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">float4 reset_pos_and_life(in float3 _seed) <br />{<br />    float4 _data = snoise_grad(_seed * 5678.9012);<br />    float3 pos = _data.xyz;<br />    float life = abs(_data.w * 3. + 1.);</span><span id="0ea3" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">return float4(pos, life);<br />}</span><span id="c450" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">float4 reset_vel_and_scale(in float3 _seed)<br />{<br />    float4 _data = snoise_grad(_seed * 1234.5678);<br />    float3 vel = _data.xyz * 2.;<br />    float scale = length((vel * .1 + .9) * .9);</span><span id="0748" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">return float4(vel, scale);<br />}</span><span id="ad07" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">[numthreads(8, 8, 1)]<br />void cs_init_buffers(uint3 id : SV_DispatchThreadID)<br />{<br />    float4 seed = reset_pos_and_life(float3(id));<br />    out_pos_and_life[id.xy] = seed;<br />    out_vel_and_scale[id.xy] = reset_vel_and_scale(seed.xyz);<br />}</span></pre><ul class=""><li id="db68" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw nd ne nf dz" data-selectable-paragraph="">These functions are used for re-initiation when blob died by calling following function. Note that the seed(<code class="ht mo mp mq md b"><em class="ld">_pos</em></code>) is updated after <code class="ht mo mp mq md b"><em class="ld">reset_pos_and_life(_pos)</em></code> is called.</li></ul><pre class="ke kf kg kh ki ma mb mc"><span id="d8c1" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">void revive(inout float3 _pos, inout float _life, inout float3 _vel, inout float _scale)<br />{<br />    float4 _data = <strong class="md cv">reset_pos_and_life</strong>(_pos);<br />    _pos = _data.xyz; <strong class="md cv">//&lt;- seed is updated</strong><br />    _life = _data.w;<br /> <br />    _data = <strong class="md cv">reset_vel_and_scale</strong>(_pos);<br />    _vel = _data.xyz;<br />    _scale = _data.w;<br />}</span></pre><ul class=""><li id="0fa7" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw nd ne nf dz" data-selectable-paragraph="">After the setup, blobs’ attributes are updated in update kernel. The rules are basically :<br /><strong class="jd cv">.</strong> Fetch the previous values of attributes from the previous textures which I mentioned above in render texture setup. <br /><strong class="jd cv">.</strong> Velocity and life are easing-out(fast-in to slow-out) in every loop by divided by value less than 1<br /><strong class="jd cv">.</strong> Scale is updated with jello-ish bouncing motion and after the life goes below than 1 then it starts decreasing to disappear <br /><strong class="jd cv">.</strong> Position is updated by adding velocity to itself after the velocity is updated<br /><strong class="jd cv">.</strong> Blobs stay in certain size of cube in order to emphasize the metaball effects by letting them touching each others<br /><strong class="jd cv">.</strong> When they died, they are revived by calling the function I have mentioned above</li></ul><pre class="ke kf kg kh ki ma mb mc"><span id="5416" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">[numthreads(8, 8, 1)]<br />void cs_update_buffers(uint3 global_id : SV_DispatchThreadID, uint3 local_id : SV_GroupThreadID)<br />{ <br />    // unpack data to vars<br />    float4 _data = u_p_pos_and_life.Load(int3(global_id.xy, 0));<br />    float3 m_pos = _data.xyz;<br />    float m_life = _data.w;<br />    _data = u_p_vel_and_scale.Load(int3(global_id.xy, 0));<br />    float3 m_vel = _data.xyz;<br />    float m_scale = _data.w;</span><span id="c285" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// update events<br />    if (m_life &lt; .001) <br />       revive(m_pos, m_life, m_vel, m_scale);<br />    stay_in_cube(m_pos, m_scale, m_vel);</span><span id="c207" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// update data <br />    clamp_vel(m_vel);</span><span id="703d" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">m_vel *= .96;<br />    m_life *= .96;</span><span id="1408" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">float _rad = u_time_delta * u_time * 3.1459/180.;<br />    m_scale += 0.06 * sin((_rad + m_life) * 30.) / sqrt((_rad + m_life)) * (1. - sqrt((_rad + m_life)));<br />    m_scale *= min(m_life * 15., 1.);<br />    m_scale = max(m_scale, 0.);</span><span id="04a2" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">m_pos += m_vel * u_time_delta;<br /> <br />    // out data<br />    out_pos_and_life[global_id.xy] = float4(m_pos, m_life);<br />    out_vel_and_scale[global_id.xy] = float4(m_vel, m_scale);<br />}</span></pre><p id="489f" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">c. Debug Blobs’ attributes with instance mesh</em></strong><br />So now I have got the values of blobs’ attributes, in order to see if they works as I intended before I start ray marching with them, I renders it with instancing mesh.</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div class="fd fe kd"><div class="hs s ah ht"><div class="nx hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/freeze/max/60/1*5PB-G7j7RCN1NFCGxEMOwQ.gif?q=20" width="320" height="167" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="320" height="167" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/640/1*5PB-G7j7RCN1NFCGxEMOwQ.gif" width="320" height="167" srcSet="https://miro.medium.com/max/552/1*5PB-G7j7RCN1NFCGxEMOwQ.gif 276w, https://miro.medium.com/max/640/1*5PB-G7j7RCN1NFCGxEMOwQ.gif 320w" sizes="320px"/&gt;</noscript></div></div></div><figcaption class="hz ia ff fd fe ib ic av b aw ax bt" data-selectable-paragraph="">okay</figcaption></figure><p id="3259" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">I use <em class="ld">DrawMeshInstancedIndirect </em>to render instance mesh with custom shader and the render textures I just updated. Basically, I followed Unity’s <a href="https://docs.unity3d.com/ScriptReference/Graphics.DrawMeshInstancedIndirect.html" class="do jx" rel="noopener nofollow">documentation</a> to setup <em class="ld">.cs</em> and shader, but in this documentation, it uses <a href="https://docs.unity3d.com/ScriptReference/ComputeBuffer.html" class="do jx" rel="noopener nofollow">Compute Buffer</a> instead of Render Texture which I’m using. So note that looking up the values with InstanceID is slightly different. See the comparison below :</p><pre class="ke kf kg kh ki ma mb mc"><span id="7290" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">// in documentation<br />StructuredBuffer&lt;float4&gt; buf;<br />float4 data = buf[unity_InstanceID];</span><span id="12b7" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">-----------&gt;</span><span id="a72b" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// my case <br />Texture2D tex;<br />float tex_w;</span><span id="639c" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// since the number of instance are same with tex.w * tex.h<br />int3 _coords = int3(<br />    unity_InstanceID % (int)tex_w,<br />    (int)((float)unity_InstanceID / tex_w),<br />    0);<br />);<br />float4 data = tex.Load(_coords)</span></pre><h2 id="4935" class="kk ie fq av if kl km kn ij ko kp kq in kr ks kt ir ku kv kw iv kx ky kz iz la dz" data-selectable-paragraph="">2–2. Implementing in Unity3D — Render metaball in fragment shader</h2><p id="2dab" class="jb jc fq jd b je jf ii jg jh ji im jj jk jl jm jn jo jp jq jr js jt ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">a. Setup .cs script for ray marching</em></strong></p><p id="70ea" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Unity3D provides <a href="https://docs.unity3d.com/Manual/ExecutionOrder.html" class="do jx" rel="noopener nofollow">pre-defined functions</a> for you to access specific stage of event. Since ray marching is fragment shader based, I chose to implement it on <a href="https://docs.unity3d.com/ScriptReference/MonoBehaviour.OnRenderImage.html" class="do jx" rel="noopener nofollow"><em class="ld">OnRenderImage</em></a><em class="ld"> </em>which is the last stage of screen rendering. Structure of the function is following :</p><pre class="ke kf kg kh ki ma mb mc"><span id="438a" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">void OnRenderImage(RenderTexture _src, RenderTexture _dst)<br />{ <br />    * pass the updated textures form compute shaders and other uniforms</span><span id="317b" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">    Graphics.Blit(_src, _dst, raymarching_material);<br />}</span></pre><p id="3175" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">The function gives you a render texture <em class="ld">(</em><code class="ht mo mp mq md b"><em class="ld">_src</em></code><em class="ld">), </em>a frame buffer which contains rendering image of the scene as a texture. This will be passed to the material as a built-in uniform sampler2D <em class="ld">_MainTex </em>when you run <code class="ht mo mp mq md b">Graphics.<a href="https://docs.unity3d.com/ScriptReference/Graphics.Blit.html" class="do jx" rel="noopener nofollow"><em class="ld">Blit</em></a></code><em class="ld"> </em>and then process the ray marching shader attached on the material to output processed image into a render texture given by the function(<code class="ht mo mp mq md b"><em class="ld">_dst</em></code><em class="ld">), </em>which is<em class="ld"> </em>the final frame buffer that will be rendered on the screen.</p><p id="5874" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">*Note that this .cs script needs to be attached to the camera you render.</p><p id="3e01" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">b. Setup shader for ray marching<br /></em></strong>Move on to the ray marching. I use custom <a href="https://docs.unity3d.com/550/Documentation/Manual/WritingImageEffects.html" class="do jx" rel="noopener nofollow"><em class="ld">Image Effect Shader</em></a><em class="ld"> </em>which gives you a template for you to start straight to write fragment shader code for Blit.</p><p id="c3f9" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Basically, I just translated the code from Shadertoy(GLSL) to Unity3D(HLSL) so the basic structure is same but in slightly different syntax. So I’ll not explain entire codes but only couple things which differently implemented.</p><p id="5aa4" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">b-1. Setup rays <br /></em></strong>Remeber how complex it was to setup rays in the example? Fortunately, it’s a lot simpler in Unity3D cause it provides tons of useful predefined functions and variables for you. Following is how I setup the rays :</p><pre class="ke kf kg kh ki ma mb mc"><span id="9dbc" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">// Setup rays</span><span id="fcfa" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// Image plane in NDC space - UNITY_NEAR_CLIP_VALUE will give you the near plane value based on the platform you are working on. ex, Direct3D-like platforms use 0.0 while OpenGL-like platforms use –1.0.<br />// https://docs.unity3d.com/Manual/SL-BuiltinMacros.html<br /><strong class="md cv">float4 m_pixels = float4(_uv * 2. - 1., UNITY_NEAR_CLIP_VALUE, 1);</strong></span><span id="e4b1" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// to view space<br /><strong class="md cv">m_pixels = mul(unity_CameraInvProjection, m_pixels);<br /></strong>// Perspective division<br /><strong class="md cv">m_pixels.xyz /= m_pixels.w;</strong></span><span id="4cf9" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// to world space</span><span id="7f59" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// you can get the inversed view matrix on .cs  <br />// cam.cameraToWorldMatrix<br /><strong class="md cv">m_pixels = mul(u_inv_view, m_pixels);</strong></span><span id="a51d" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// camera position in world space<br /><strong class="md cv">float3 m_rayOrigin = _WorldSpaceCameraPos;</strong></span><span id="de2d" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">// compute ray direction<br /><strong class="md cv">float3 m_rayDir = normalize(m_pixels.xyz - m_rayOrigin);</strong></span></pre><p id="dddf" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">It’s slightly different than how we did in the example. In the example, we manually define camera’s behaviors such as filed of view and transform matrix. However, in Unity3D, we can use properties of camera object provided by the engine so we just need to undo the <a href="https://en.wikipedia.org/wiki/Transformation_matrix" class="do jx" rel="noopener nofollow"><em class="ld">Matrix Transformation</em></a> in opposite order.</p><p id="2743" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">As you can see, I use some predefined variables provided by the engine, <code class="ht mo mp mq md b">UNITY_NEAR_CLIP_VALUE</code>, <code class="ht mo mp mq md b">unity_CameraInvProjection</code>, and<code class="ht mo mp mq md b">_WorldSpaceCameraPos</code>. You can find more information via their <a href="https://docs.unity3d.com/Manual/SL-ShaderPrograms.html" class="do jx" rel="noopener nofollow"><em class="ld">official documention for shader</em></a></p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div class="fd fe mm"><div class="hs s ah ht"><div class="ny hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/freeze/max/60/1*_rlBAcZA8V44MH7tSLAeTw.gif?q=20" width="480" height="412" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="480" height="412" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/960/1*_rlBAcZA8V44MH7tSLAeTw.gif" width="480" height="412" srcSet="https://miro.medium.com/max/552/1*_rlBAcZA8V44MH7tSLAeTw.gif 276w, https://miro.medium.com/max/960/1*_rlBAcZA8V44MH7tSLAeTw.gif 480w" sizes="480px"/&gt;</noscript></div></div></div><figcaption class="hz ia ff fd fe ib ic av b aw ax bt" data-selectable-paragraph="">instance mesh cubes and ray marching spheres</figcaption></figure><p id="4d01" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">To see if I set the ray correctly, I render ray marching spheres on top of instance cubes. We can see it’s aligned.</p><p id="a99f" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">Since ray marching is happening after the mesh rendering, it overwrites the pixels on top of the frame buffer like you see above. However, it’s possible to composite the ray marching object with real mesh by using depth buffer. I haven’t tried it by myself yet in this project but you can see how it’s done in this blog post <a href="http://flafla2.github.io/2016/10/01/raymarching.html" class="do jx" rel="noopener nofollow"><em class="ld">Raymarching Distance Fields: Concepts and Implementation in Unity</em></a> by Adrian Biagioli.</p><p id="d50d" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">b-2. Ray marching metaball</em></strong></p><p id="6bcd" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">The distance function is same with the example but only I fetch the blob’s attributes from the texture :</p><pre class="ke kf kg kh ki ma mb mc"><span id="b665" class="dz kk ie fq md b dj me mf s mg" data-selectable-paragraph="">for (int i = 0; i &lt; 8; i++)<br />{<br />     for (int j = 0; j &lt; 8; j++)<br />     {<br />         <strong class="md cv">int3 _texel_coords = int3(i, j, 0);<br />         float3 blob_pos = u_tex_pos_life.Load(_texel_coords).xyz;<br />         float blob_scale = u_tex_vel_scale.Load(_texel_coords).w;</strong></span><span id="a3d2" class="dz kk ie fq md b dj mh mi mj mk ml mf s mg" data-selectable-paragraph="">         // bounding sphere for ball<br />         float db = length(blob_pos - _point);<br />         if (db &lt; blob_scale)<br />         {<br />             float x = db / blob_scale;<br />             p += 1.0 - x * x*x*(x*(x*6.0 - 15.0) + 10.0);<br />             is_in_sphere = 1.0;<br />             h = max(h, 0.5333 * blob_scale);<br />         }<br />         else <br />         { <br />             dmin = min(dmin, db - blob_scale);<br />         }<br />     }<br />}</span></pre><p id="6fbe" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">b-3. Shading and Lighting</em></strong></p><p id="e1df" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph="">I borrow a lighting equation from Inigo’s another shadertoy sketch <a href="https://www.shadertoy.com/view/lssGRM" class="do jx" rel="noopener nofollow"><em class="ld">Angles</em></a><em class="ld">. </em>For blobs’ color and illumination is defined by blobs’ direction and speed. I decided to follow up shading and lighting in ray marching in another post cause this post has got already too long. In case if you are curious, I’ve attached project source in this post.</p><figure class="ke kf kg kh ki hi fd fe paragraph-image"><div class="fd fe kd"><div class="hs s ah ht"><div class="lf hv s"><div class="es hn fg ev er ho w hp hq hr"><img alt="Image for post" class="fg ev er ho w hw hx hy" src="https://miro.medium.com/freeze/max/60/1*buTc_yqWin57a1E3S1FWvg.gif?q=20" width="320" height="180" /></div><img alt="Image for post" class="es hn fg ev er ho w c" width="320" height="180" /><noscript>&lt;img alt="Image for post" class="fg ev er ho w" src="https://miro.medium.com/max/640/1*buTc_yqWin57a1E3S1FWvg.gif" width="320" height="180" srcSet="https://miro.medium.com/max/552/1*buTc_yqWin57a1E3S1FWvg.gif 276w, https://miro.medium.com/max/640/1*buTc_yqWin57a1E3S1FWvg.gif 320w" sizes="320px"/&gt;</noscript></div></div></div></figure></div></div></section><div class="n p cs lm ln lo" role="separator"><span class="lp gp bq lq lr ls"></span><span class="lp gp bq lq lr ls"></span><span class="lp gp bq lq lr"></span></div><section class="di fl fm dd fn"><div class="n p"><div class="aj ak al am an fo ap w"><h1 id="90c5" class="id ie fq av if ig lt ii ij ik lu im in io lv iq ir is lw iu iv iw lx iy iz ja dz" data-selectable-paragraph="">Resources</h1><h2 id="5455" class="kk ie fq av if kl km kn ij ko kp kq in kr ks kt ir ku kv kw iv kx ky kz iz la dz" data-selectable-paragraph="">Project Source</h2><p id="4c48" class="jb jc fq jd b je jf ii jg jh ji im jj jk jl jm jn jo jp jq jr js jt ju jv jw di dz" data-selectable-paragraph=""><a href="https://github.com/avseoul/Unity3D_RayMarching_MetaBall" class="do jx" rel="noopener nofollow">Github</a></p><h2 id="9f8d" class="kk ie fq av if kl km kn ij ko kp kq in kr ks kt ir ku kv kw iv kx ky kz iz la dz" data-selectable-paragraph="">References</h2><p id="d44f" class="jb jc fq jd b je jf ii jg jh ji im jj jk jl jm jn jo jp jq jr js jt ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">Ray marching metaball and surface Shading<br /></em></strong><em class="ld">-</em><strong class="jd cv"><em class="ld"> </em></strong>Raymarching metaball — <a href="https://www.shadertoy.com/view/ld2GRz" class="do jx" rel="noopener nofollow">Inigo Quilez’s raymarching metaball</a><br />- Raymarching surface rendering — <a href="https://www.shadertoy.com/view/lssGRM" class="do jx" rel="noopener nofollow">Inigo Quilez’s Angels</a></p><p id="3fc3" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">Ray marching<br /></em></strong><em class="ld">-</em><strong class="jd cv"><em class="ld"> </em></strong><a href="http://iquilezles.org/www/articles/raymarchingdf/raymarchingdf.htm" class="do jx" rel="noopener nofollow"><em class="ld">Raymarching Distance Field</em></a><em class="ld"> by Inigo Quilez<br />- </em><a href="http://iquilezles.org/www/material/nvscene2008/nvscene2008.htm" class="do jx" rel="noopener nofollow"><em class="ld">nvscene 2008 — Rendering Worlds With Two Triangles</em></a><em class="ld"> by Inigo Quilez<br />- </em><a href="http://9bitscience.blogspot.com/2013/07/raymarching-distance-fields_14.html" class="do jx" rel="noopener nofollow"><em class="ld">Ray Marching Distance Field</em></a><em class="ld"> by Simen Haugo<br />- </em><a href="https://en.wikipedia.org/wiki/Distance_transform" class="do jx" rel="noopener nofollow"><em class="ld">Distance Transform</em></a><em class="ld"> Wikipedia <br />-</em><strong class="jd cv"><em class="ld"> </em></strong><a href="https://www.alanzucconi.com/2016/07/01/volumetric-rendering/" class="do jx" rel="noopener nofollow"><em class="ld">Volumetric Rendering: Raymarching by Allan Zucconi</em></a><em class="ld"><br />- </em><a href="http://flafla2.github.io/2016/10/01/raymarching.html" class="do jx" rel="noopener nofollow"><em class="ld">Raymarching Distance Fields: Concepts and Implementation in Unity by Adrian Biagioli</em></a><em class="ld"><br />- </em><a href="http://jamie-wong.com/2016/07/15/ray-marching-signed-distance-functions/" class="do jx" rel="noopener nofollow"><em class="ld">Ray Marching and Signed Distance Functions</em></a><em class="ld"> by Jamie Wong</em></p><p id="e70d" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">Metaball<br /></em></strong><em class="ld">- </em><a href="http://www.geisswerks.com/ryan/BLOBS/blobs.html" class="do jx" rel="noopener nofollow"><em class="ld">Metaballs (also known as: Blobs)</em></a><em class="ld"> By Ryan Geiss<br />- </em><a href="https://en.wikipedia.org/wiki/Metaballs" class="do jx" rel="noopener nofollow"><em class="ld">Metaball</em></a><em class="ld"> Wikipedia</em></p><p id="082f" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">Compute Shader<br /></em></strong><em class="ld">-</em><strong class="jd cv"><em class="ld"> </em></strong><a href="https://www.youtube.com/watch?time_continue=1&amp;v=qDk-WIOYUSY" class="do jx" rel="noopener nofollow"><em class="ld">Unity Compute Shader — Part 1 by Claire Blackshaw</em></a><em class="ld"><br />- </em><a href="https://www.youtube.com/watch?v=4AVc2YkOGtA&amp;t=1085s" class="do jx" rel="noopener nofollow"><em class="ld">Unity Compute Shader — Part 2 by Claire Blackshaw</em></a></p><p id="da72" class="jb jc fq jd b je jy ii jg jh jz im jj jk ka jm jn jo kb jq jr js kc ju jv jw di dz" data-selectable-paragraph=""><strong class="jd cv"><em class="ld">Matrix Transformation / Camera Frustum / Ray Casting<br /></em></strong><em class="ld">-</em><strong class="jd cv"><em class="ld"> </em></strong><a href="http://www.scratchapixel.com/lessons/3d-basic-rendering/ray-tracing-generating-camera-rays/generating-camera-rays?http://www.scratchapixel.com/lessons/3d-basic-rendering/computing-pixel-coordinates-of-3d-point?" class="do jx" rel="noopener nofollow"><em class="ld">Ray-Tracing: Generating Camera Rays</em></a><em class="ld"> by Scratchapixel 2.0<br />- </em><a href="http://www.scratchapixel.com/lessons/3d-basic-rendering/computing-pixel-coordinates-of-3d-point/mathematics-computing-2d-coordinates-of-3d-points" class="do jx" rel="noopener nofollow"><em class="ld">Computing the Pixel Coordinates of a 3D Point</em></a><em class="ld"> by Scratchapixel 2.0<br />- </em><a href="http://www.scratchapixel.com/lessons/3d-basic-rendering/perspective-and-orthographic-projection-matrix/building-basic-perspective-projection-matrix" class="do jx" rel="noopener nofollow"><em class="ld">The Perspective and Orthographic Projection Matrix</em></a><em class="ld"> by Scratchapixel 2.0<br />- </em><a href="https://en.wikipedia.org/wiki/Viewing_frustum" class="do jx" rel="noopener nofollow"><em class="ld">Viewing Frustum</em></a><em class="ld"> Wikipedia<br />- </em><a href="http://www.songho.ca/opengl/gl_transform.html" class="do jx" rel="noopener nofollow"><em class="ld">OpenGL Transformation</em></a><em class="ld"> by Song Ho Ahn<br />- </em><a href="http://www.songho.ca/opengl/gl_projectionmatrix.html" class="do jx" rel="noopener nofollow"><em class="ld">OpenGL Projection Matrix</em></a><em class="ld"> by Song Ho Ahn<br />- </em><a href="http://www.songho.ca/math/homogeneous/homogeneous.html" class="do jx" rel="noopener nofollow"><em class="ld">Homogeneous Coordinates</em></a><em class="ld"> by Song Ho Ahn<br />- </em><a href="http://www.songho.ca/opengl/gl_lookattoaxes.html" class="do jx" rel="noopener nofollow"><em class="ld">OpenGL Lookat</em></a><em class="ld"> to Axis by Song Ho Ahn</em></p><h2 id="df6d" class="kk ie fq av if kl km kn ij ko kp kq in kr ks kt ir ku kv kw iv kx ky kz iz la dz" data-selectable-paragraph="">Development Environment</h2><p id="6685" class="jb jc fq jd b je jf ii jg jh ji im jj jk jl jm jn jo jp jq jr js jt ju jv jw di dz" data-selectable-paragraph="">Windows 10 / GeForce GTX 970<br />Unity3D 2017.4.0f1</p></div></div></section></div></article><div class="es fk et nz w wc oe oh" data-test-id="post-sidebar"><div class="n p"><div class="aj ak al am an ao ap w"><div class="oi n ac"><div class="fk"><div><div class="oj ag s"><p class="av b ok ol om bt on">Written by</p><div class="na nb s"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener" href="/@avseoul?source=post_sidebar--------------------------post_sidebar-----------"><h2 class="av if dj ax dg dz di">Sehyun Av Kim</h2></a></div><div class="oo s"><h4 class="av b aw ax bt">computer graphics artist / creative dev - <a href="http://avseoul.net" class="do dp bu bv bw bx by bz ca bg cb ds dt jx fl" rel="noopener nofollow">avseoul.net</a></h4></div><div class="op s"><span><button class="av b aw ax dz em r ba ea eb ec ed bg bh bi ee ef eg bm bn bo bp bq br">Follow</button></span></div></div><div class="oq or os n"><div class="n o"><div class="s ah ot ou ov ow ox"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fvote%2Fp%2Ffc6f83766c5d&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40avseoul%2Fray-marching-metaball-in-unity3d-fc6f83766c5d&amp;source=post_sidebar-----fc6f83766c5d---------------------clap_sidebar-----------" class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener"><div class="bz oy oz pa pb pc pd pe r pf pg"><svg xmlns="http://www.w3.org/2000/svg" width="29" height="29" aria-label="clap"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"/></g></svg></div></a></span></div><div class="s ph pi pj pk pl pm pn"><div class="po"><h4 class="av b aw ax bt"><button class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt">406 </button></h4></div></div></div></div><div class="or s"><button class="pb oz bz"><div class="pr n o ar"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" class="r" aria-label="responses"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"/></svg><div class="s ah ps pt pu pv pw px py pz"><h4 class="av b aw ax bt">3<!-- --> </h4></div></div></button></div><div class="he"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fbookmark%2Fp%2Ffc6f83766c5d&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40avseoul%2Fray-marching-metaball-in-unity3d-fc6f83766c5d&amp;source=post_sidebar-----fc6f83766c5d---------------------bookmark_sidebar-----------" class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"/></svg></a></span></div></div></div></div></div></div></div><div class="es fk nz et oa ob oc od oe of"></div><div><div class="qa hi n ac p"><div class="n p"><div class="aj ak al am an fo ap w"><div class="n cp"></div><div class="n o cp"></div><div class="qb qc s"><div class="qc n cf hb"><div class="n ar"><div class="qd s"><span class="s qe qf qg e d"><div class="n o"><div class="s ah ot ou ov ow ox"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fvote%2Fp%2Ffc6f83766c5d&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40avseoul%2Fray-marching-metaball-in-unity3d-fc6f83766c5d&amp;source=post_actions_footer-----fc6f83766c5d---------------------clap_footer-----------" class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener"><div class="bz oy oz pa pb pc pd pe r pf pg"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"/></g></svg></div></a></span></div><div class="s ph pi pj pk pl pm pn"><div class="ah qh po"><h4 class="av b aw ax dz"><button class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt">406<span class="s h g f qi qj"> </span></button><span class="s h g f qi qj"></span></h4></div></div></div></span><span class="s h g f qi qj"><div class="n cl"><div class="s ah ot ou"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fvote%2Fp%2Ffc6f83766c5d&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40avseoul%2Fray-marching-metaball-in-unity3d-fc6f83766c5d&amp;source=post_actions_footer-----fc6f83766c5d---------------------clap_footer-----------" class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener"><div class="bz oy oz pa pb pc pd pe r pf pg"><svg xmlns="http://www.w3.org/2000/svg" width="33" height="33" viewBox="0 0 33 33" aria-label="clap"><path d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z" fill-rule="evenodd"/></svg></div></a></span></div><div class="s ph pi pj pk qk ql qm qn qo qp"><div class="ah qh po"><h4 class="av b aw ax dz"><button class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt">406<span class="s h g f qi qj"> </span></button><span class="s h g f qi qj"></span></h4></div></div></div></span></div><div class="s qq qr qs qt qu"></div><button class="pb oz bz"><div class="pr n o ar"><div><div class="bq" role="tooltip" aria-hidden="false" aria-describedby="1" aria-labelledby="1"><span class="qv s h g f qi qj"><svg xmlns="http://www.w3.org/2000/svg" width="33" height="33" viewBox="0 0 33 33" fill="none" class="r" aria-label="responses"><path clip-rule="evenodd" d="M24.28 25.5l.32-.29c2.11-1.94 3.4-4.61 3.4-7.56C28 11.83 22.92 7 16.5 7S5 11.83 5 17.65s5.08 10.66 11.5 10.66c1.22 0 2.4-.18 3.5-.5l.5-.15.41.33a8.86 8.86 0 0 0 4.68 2.1 7.34 7.34 0 0 1-1.3-4.15v-.43zm1 .45c0 1.5.46 2.62 1.69 4.44.22.32.01.75-.38.75a9.69 9.69 0 0 1-6.31-2.37c-1.2.35-2.46.54-3.78.54C9.6 29.3 4 24.09 4 17.65 4 11.22 9.6 6 16.5 6S29 11.22 29 17.65c0 3.25-1.42 6.18-3.72 8.3z"/></svg></span><span class="qw s qe qf qg e d"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" class="r" aria-label="responses"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"/></svg></span></div></div><div class="s ah qx pt qy pv qz px ra rb rc rd"><h4 class="av b aw ax dz">3<!-- --> </h4></div></div></button></div><div class="n o"><div class="hc s"><div class="bq" aria-hidden="false"><button class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" aria-label="Share Post"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" class="r"><g fill-rule="evenodd"><path d="M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"/><path d="M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"/></g></svg></button></div></div><div class="re s eh"><div class="he"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fbookmark%2Fp%2Ffc6f83766c5d&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40avseoul%2Fray-marching-metaball-in-unity3d-fc6f83766c5d&amp;source=post_actions_footer--------------------------bookmark_footer-----------" class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"/></svg></a></span></div></div></div></div></div><div class="rf qc s"><ul class="bz ca"><li class="bq rg hd rh"><a href="/tag/unity3d" class="av b ri rj bt rk rl br s mb">Unity3d</a></li><li class="bq rg hd rh"><a href="/tag/unity" class="av b ri rj bt rk rl br s mb">Unity</a></li><li class="bq rg hd rh"><a href="/tag/metaball" class="av b ri rj bt rk rl br s mb">Metaball</a></li><li class="bq rg hd rh"><a href="/tag/raymarching" class="av b ri rj bt rk rl br s mb">Raymarching</a></li><li class="bq rg hd rh"><a href="/tag/shadertoy" class="av b ri rj bt rk rl br s mb">Shadertoy</a></li></ul></div><div class="rm s"></div></div></div><div><div class="n p"><div class="aj ak al am an fo ap w"><div class="s rn ro hb"></div></div></div><div class="s hb"><div class="rp rq s rr"><div class="n p"><div class="aj ak al am an fo ap w"><div class="n o cf"><h2 class="av if rs rt ru ij rv rw rx in ry rz sa ir sb sc sd iv se sf sg iz hp sh si sj sk sl dz"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt" rel="noopener" href="/@avseoul?source=follow_footer-------------------------------------">More from Sehyun Av Kim</a></h2><span><button class="av b aw ax dz em r ba ea eb ec ed bg bh bi ee ef eg bm bn bo bp bq br">Follow</button></span></div><div class="nb sm s"><h4 class="av b aw ax bt">computer graphics artist / creative dev - avseoul.net</h4></div></div></div></div></div><div class="sn s rr hb"><div class="n p"><div class="mr mt mv so sp sq ap w"></div></div></div><div class="s sr hb"><div class="n p"><div class="aj ak al am an ao ap w"><div class="ss st s"><div class="su ag sv st s sw sx"><h2 class="av if kl kn ij ko kq in kr kt ir ku kw iv kx kz iz dz">More From Medium</h2></div><div class="cl n ar cp sy sz ta tb tc td te tf tg th ti tj tk tl tm"><div class="tn to tp ms tq tr ts mu tt tu tv tw tx ty tz ua ub uc ud ue uf"><div class="ug uh s"><div class="w ho"><div class="n cf"><div class="s ui uj uk ul"><div class="um s"><h2 class="av if rs rt ij rv rw in un uo ir up uq iv ur us iz dz"><a rel="noopener" href="/storiusmag/capture-the-story-in-3d-tell-the-story-in-augmented-reality-6c85372cc342?source=post_internal_links---------0----------------------------">Capture the Story in 3D, Tell It in Augmented Reality</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax dz"><div class="cm n o ut"><span class="av b ri ax dz"><a class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener" href="/@tcd004_48855?source=post_internal_links---------0----------------------------">Travis Daub</a><span> <!-- -->in<!-- --> <a href="/storiusmag?source=post_internal_links---------0----------------------------" class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener">Storius Magazine</a></span></span></div></span></div></div></div></div></div><div class="du hd s uv uw"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt s" rel="noopener" href="/storiusmag/capture-the-story-in-3d-tell-the-story-in-augmented-reality-6c85372cc342?source=post_internal_links---------0----------------------------"><div class="hs s ah ht"><div class="ux hv s"><div class="es hn fg ev er ho w hp hq hr"><img class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*w0v5qbzp92cqtnFzBGBR8w.jpeg?q=20" width="70" height="70" role="presentation" /></div><img class="es hn uy uz va vb vc vd ve vf vg vh c" width="70" height="70" role="presentation" /><noscript>&lt;img class="uy uz va vb vc vd ve vf vg vh" src="https://miro.medium.com/fit/c/140/140/1*w0v5qbzp92cqtnFzBGBR8w.jpeg" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*w0v5qbzp92cqtnFzBGBR8w.jpeg 48w, https://miro.medium.com/fit/c/140/140/1*w0v5qbzp92cqtnFzBGBR8w.jpeg 70w" sizes="70px" role="presentation"/&gt;</noscript></div></div></a></div></div></div></div></div><div class="tn to tp ms tq tr ts mu tt tu tv tw tx ty tz ua ub uc ud ue uf"><div class="ug uh s"><div class="w ho"><div class="n cf"><div class="s ui uj uk ul"><div class="um s"><h2 class="av if rs rt ij rv rw in un uo ir up uq iv ur us iz dz"><a rel="noopener" href="/dotcrossdot/raymarching-simulating-a-black-hole-53624a3684d3?source=post_internal_links---------1----------------------------">Raymarching: Simulating a Black Hole</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax dz"><div class="cm n o ut"><span class="av b ri ax dz"><a class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener" href="/@johansvensson_48308?source=post_internal_links---------1----------------------------">Johan Svensson</a><span> <!-- -->in<!-- --> <a href="/dotcrossdot?source=post_internal_links---------1----------------------------" class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener">dotcrossdot</a></span></span></div></span></div></div></div></div></div><div class="du hd s uv uw"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt s" rel="noopener" href="/dotcrossdot/raymarching-simulating-a-black-hole-53624a3684d3?source=post_internal_links---------1----------------------------"><div class="hs s ah ht"><div class="ux hv s"><div class="es hn fg ev er ho w hp hq hr"><img class="fg ev er ho w hw hx hy" src="https://miro.medium.com/freeze/max/60/1*XB6C0avmtMnIf4ueAo_0CQ.gif?q=20" width="70" height="70" role="presentation" /></div><img class="es hn uy uz va vb vc vd ve vf vg vh c" width="70" height="70" role="presentation" /><noscript>&lt;img class="uy uz va vb vc vd ve vf vg vh" src="https://miro.medium.com/fit/c/140/140/1*XB6C0avmtMnIf4ueAo_0CQ.gif" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*XB6C0avmtMnIf4ueAo_0CQ.gif 48w, https://miro.medium.com/fit/c/140/140/1*XB6C0avmtMnIf4ueAo_0CQ.gif 70w" sizes="70px" role="presentation"/&gt;</noscript></div></div></a></div></div></div></div></div><div class="tn to tp ms tq tr ts mu tt tu tv tw tx ty tz ua ub uc ud ue uf"><div class="ug uh s"><div class="w ho"><div class="n cf"><div class="s ui uj uk ul"><div class="um s"><h2 class="av if rs rt ij rv rw in un uo ir up uq iv ur us iz dz"><a rel="noopener" href="/free-code-camp/a-primer-on-a-frame-audio-52dd56e54876?source=post_internal_links---------2----------------------------">Bang on A (Virtual) Can: A Primer on A-Frame Audio</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax dz"><div class="cm n o ut"><span class="av b ri ax dz"><a class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener" href="/@berraknil?source=post_internal_links---------2----------------------------">Berrak Nil</a><span> <!-- -->in<!-- --> <a href="/free-code-camp?source=post_internal_links---------2----------------------------" class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener">freeCodeCamp.org</a></span></span></div></span></div></div></div></div></div><div class="du hd s uv uw"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt s" rel="noopener" href="/free-code-camp/a-primer-on-a-frame-audio-52dd56e54876?source=post_internal_links---------2----------------------------"><div class="hs s ah ht"><div class="ux hv s"><div class="es hn fg ev er ho w hp hq hr"><img class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*XnHzLrB2S17DUeetCPElXg.png?q=20" width="70" height="70" role="presentation" /></div><img class="es hn uy uz va vb vc vd ve vf vg vh c" width="70" height="70" role="presentation" /><noscript>&lt;img class="uy uz va vb vc vd ve vf vg vh" src="https://miro.medium.com/fit/c/140/140/1*XnHzLrB2S17DUeetCPElXg.png" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*XnHzLrB2S17DUeetCPElXg.png 48w, https://miro.medium.com/fit/c/140/140/1*XnHzLrB2S17DUeetCPElXg.png 70w" sizes="70px" role="presentation"/&gt;</noscript></div></div></a></div></div></div></div></div><div class="tn to tp ms tq tr ts mu tt tu tv tw tx ty tz ua ub uc ud ue uf"><div class="ug uh s"><div class="w ho"><div class="n cf"><div class="s ui uj uk ul"><div class="um s"><h2 class="av if rs rt ij rv rw in un uo ir up uq iv ur us iz dz"><a rel="noopener" href="/@axaq/the-state-of-immersive-web-in-2019-df4caa6069d3?source=post_internal_links---------3----------------------------">The state of Immersive Web in 2019</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax dz"><div class="cm n o ut"><span class="av b ri ax dz"><a class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener" href="/@axaq?source=post_internal_links---------3----------------------------">Hakan Karlidag</a></span></div></span></div></div></div></div></div><div class="du hd s uv uw"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt s" rel="noopener" href="/@axaq/the-state-of-immersive-web-in-2019-df4caa6069d3?source=post_internal_links---------3----------------------------"><div class="hs s ah ht"><div class="ux hv s"><div class="es hn fg ev er ho w hp hq hr"><img class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*VNZLQTe3kRXit4g7p_XxQA.jpeg?q=20" width="70" height="70" role="presentation" /></div><img class="es hn uy uz va vb vc vd ve vf vg vh c" width="70" height="70" role="presentation" /><noscript>&lt;img class="uy uz va vb vc vd ve vf vg vh" src="https://miro.medium.com/fit/c/140/140/1*VNZLQTe3kRXit4g7p_XxQA.jpeg" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*VNZLQTe3kRXit4g7p_XxQA.jpeg 48w, https://miro.medium.com/fit/c/140/140/1*VNZLQTe3kRXit4g7p_XxQA.jpeg 70w" sizes="70px" role="presentation"/&gt;</noscript></div></div></a></div></div></div></div></div><div class="tn to tp ms tq tr ts mu tt tu tv tw tx ty tz ua ub uc ud ue uf"><div class="ug uh s"><div class="w ho"><div class="n cf"><div class="s ui uj uk ul"><div class="um s"><h2 class="av if rs rt ij rv rw in un uo ir up uq iv ur us iz dz"><a rel="noopener" href="/@saitec/looking-through-the-jio-glass-4fa516ea2b36?source=post_internal_links---------4----------------------------">Looking through the Jio Glass</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax dz"><div class="cm n o ut"><span class="av b ri ax dz"><a class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener" href="/@saitec?source=post_internal_links---------4----------------------------">Sai Krishna V. K</a></span></div></span></div></div></div></div></div><div class="du hd s uv uw"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt s" rel="noopener" href="/@saitec/looking-through-the-jio-glass-4fa516ea2b36?source=post_internal_links---------4----------------------------"><div class="hs s ah ht"><div class="ux hv s"><div class="es hn fg ev er ho w hp hq hr"><img class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/0*khMkqPYjef1Qcg7g?q=20" width="70" height="70" role="presentation" /></div><img class="es hn uy uz va vb vc vd ve vf vg vh c" width="70" height="70" role="presentation" /><noscript>&lt;img class="uy uz va vb vc vd ve vf vg vh" src="https://miro.medium.com/fit/c/140/140/0*khMkqPYjef1Qcg7g" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/0*khMkqPYjef1Qcg7g 48w, https://miro.medium.com/fit/c/140/140/0*khMkqPYjef1Qcg7g 70w" sizes="70px" role="presentation"/&gt;</noscript></div></div></a></div></div></div></div></div><div class="tn to tp ms tq tr ts mu tt tu tv tw tx ty tz ua ub uc ud ue uf"><div class="ug uh s"><div class="w ho"><div class="n cf"><div class="s ui uj uk ul"><div class="um s"><h2 class="av if rs rt ij rv rw in un uo ir up uq iv ur us iz dz"><a rel="noopener" href="/futurepi/magic-leap-one-in-depth-review-bcbf5b0e643a?source=post_internal_links---------5----------------------------">Magic Leap One In-Depth Review</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax dz"><div class="cm n o ut"><span class="av b ri ax dz"><a class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener" href="/@lucasrizzotto?source=post_internal_links---------5----------------------------">Lucas Rizzotto</a><span> <!-- -->in<!-- --> <a href="/futurepi?source=post_internal_links---------5----------------------------" class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener">Lucas Rizzotto's Blog</a></span></span></div></span></div></div></div></div></div><div class="du hd s uv uw"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt s" rel="noopener" href="/futurepi/magic-leap-one-in-depth-review-bcbf5b0e643a?source=post_internal_links---------5----------------------------"><div class="hs s ah ht"><div class="ux hv s"><div class="es hn fg ev er ho w hp hq hr"><img class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*EhYai7dBTJieTH-6FQzggQ.jpeg?q=20" width="70" height="70" role="presentation" /></div><img class="es hn uy uz va vb vc vd ve vf vg vh c" width="70" height="70" role="presentation" /><noscript>&lt;img class="uy uz va vb vc vd ve vf vg vh" src="https://miro.medium.com/fit/c/140/140/1*EhYai7dBTJieTH-6FQzggQ.jpeg" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*EhYai7dBTJieTH-6FQzggQ.jpeg 48w, https://miro.medium.com/fit/c/140/140/1*EhYai7dBTJieTH-6FQzggQ.jpeg 70w" sizes="70px" role="presentation"/&gt;</noscript></div></div></a></div></div></div></div></div><div class="tn to tp ms tq tr ts mu tt tu tv tw tx ty tz ua ub uc ud ue uf"><div class="ug uh s"><div class="w ho"><div class="n cf"><div class="s ui uj uk ul"><div class="um s"><h2 class="av if rs rt ij rv rw in un uo ir up uq iv ur us iz dz"><a rel="noopener" href="/free-code-camp/build-a-multiplayer-browser-based-vr-game-with-a-frame-pubnub-and-webvr-b7de33ba088?source=post_internal_links---------6----------------------------">Build a Multiplayer Browser-based VR Game with A-Frame, PubNub, and WebVR</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax dz"><div class="cm n o ut"><span class="av b ri ax dz"><a class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener" href="/@namrathasubramanya?source=post_internal_links---------6----------------------------">Namratha Subramanya</a><span> <!-- -->in<!-- --> <a href="/free-code-camp?source=post_internal_links---------6----------------------------" class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener">freeCodeCamp.org</a></span></span></div></span></div></div></div></div></div><div class="du hd s uv uw"><a class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt s" rel="noopener" href="/free-code-camp/build-a-multiplayer-browser-based-vr-game-with-a-frame-pubnub-and-webvr-b7de33ba088?source=post_internal_links---------6----------------------------"><div class="hs s ah ht"><div class="ux hv s"><div class="es hn fg ev er ho w hp hq hr"><img class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*Iu7_DRv1Pr_9dHfkr22ZVw.png?q=20" width="70" height="70" role="presentation" /></div><img class="es hn uy uz va vb vc vd ve vf vg vh c" width="70" height="70" role="presentation" /><noscript>&lt;img class="uy uz va vb vc vd ve vf vg vh" src="https://miro.medium.com/fit/c/140/140/1*Iu7_DRv1Pr_9dHfkr22ZVw.png" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*Iu7_DRv1Pr_9dHfkr22ZVw.png 48w, https://miro.medium.com/fit/c/140/140/1*Iu7_DRv1Pr_9dHfkr22ZVw.png 70w" sizes="70px" role="presentation"/&gt;</noscript></div></div></a></div></div></div></div></div><div class="tn to tp ms tq tr ts mu tt tu tv tw tx ty tz ua ub uc ud ue uf"><div class="ug uh s"><div class="w ho"><div class="n cf"><div class="s ui uj uk ul"><div class="um s"><h2 class="av if rs rt ij rv rw in un uo ir up uq iv ur us iz dz"><a href="https://sonyreconsidered.com/sony-ceo-kenichiro-yoshida-talks-vr-89b7b3e82d23?source=post_internal_links---------7----------------------------" rel="noopener nofollow">Sony CEO Kenichiro Yoshida talks VR</a></h2></div><div class="o n"><div></div><div class="w s"><div class="n"><div style="flex:1"><span class="av b aw ax dz"><div class="cm n o ut"><span class="av b ri ax dz"><a class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener" href="/@sohrabosati?source=post_internal_links---------7----------------------------">Sohrab Osati</a><span> <!-- -->in<!-- --> <a href="https://sonyreconsidered.com/?source=post_internal_links---------7----------------------------" class="do dp bu bv bw bx by bz ca bg uu cb ds dt" rel="noopener nofollow">Sony Reconsidered</a></span></span></div></span></div></div></div></div></div><div class="du hd s uv uw"><a href="https://sonyreconsidered.com/sony-ceo-kenichiro-yoshida-talks-vr-89b7b3e82d23?source=post_internal_links---------7----------------------------" class="do dp bu bv bw bx by bz ca bg dq dr cb ds dt s" rel="noopener nofollow"><div class="hs s ah ht"><div class="ux hv s"><div class="es hn fg ev er ho w hp hq hr"><img class="fg ev er ho w hw hx hy" src="https://miro.medium.com/max/60/1*ZmrIRsXV1eApqUj1p2nbtA.jpeg?q=20" width="70" height="70" role="presentation" /></div><img class="es hn uy uz va vb vc vd ve vf vg vh c" width="70" height="70" role="presentation" /><noscript>&lt;img class="uy uz va vb vc vd ve vf vg vh" src="https://miro.medium.com/fit/c/140/140/1*ZmrIRsXV1eApqUj1p2nbtA.jpeg" width="70" height="70" srcSet="https://miro.medium.com/fit/c/96/140/1*ZmrIRsXV1eApqUj1p2nbtA.jpeg 48w, https://miro.medium.com/fit/c/140/140/1*ZmrIRsXV1eApqUj1p2nbtA.jpeg 70w" sizes="70px" role="presentation"/&gt;</noscript></div></div></a></div></div></div></div></div></div></div></div></div></div></div></div></div><div class="vi s vj vk"><div class="n p"><div class="aj ak al am an ao ap w"><div class="n ac"><div class="n o cf"><a aria-label="Go to homepage" class="do dp bu bv bw bx by bz ca bg vl vm cb vn vo" rel="noopener" href="/?source=post_page-----fc6f83766c5d--------------------------------"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3940 610" class="vp vq"><path d="M594.79 308.2c0 163.76-131.85 296.52-294.5 296.52S5.8 472 5.8 308.2 137.65 11.69 300.29 11.69s294.5 132.75 294.5 296.51M917.86 308.2c0 154.16-65.93 279.12-147.25 279.12s-147.25-125-147.25-279.12S689.29 29.08 770.61 29.08s147.25 125 147.25 279.12M1050 308.2c0 138.12-23.19 250.08-51.79 250.08s-51.79-112-51.79-250.08 23.19-250.08 51.8-250.08S1050 170.09 1050 308.2M1862.77 37.4l.82-.18v-6.35h-167.48l-155.51 365.5-155.51-365.5h-180.48v6.35l.81.18c30.57 6.9 46.09 17.19 46.09 54.3v434.45c0 37.11-15.58 47.4-46.15 54.3l-.81.18V587H1327v-6.35l-.81-.18c-30.57-6.9-46.09-17.19-46.09-54.3V116.9L1479.87 587h11.33l205.59-483.21V536.9c-2.62 29.31-18 38.36-45.68 44.61l-.82.19v6.3h213.3v-6.3l-.82-.19c-27.71-6.25-43.46-15.3-46.08-44.61l-.14-445.2h.14c0-37.11 15.52-47.4 46.08-54.3m97.43 287.8c3.49-78.06 31.52-134.4 78.56-135.37 14.51.24 26.68 5 36.14 14.16 20.1 19.51 29.55 60.28 28.09 121.21zm-2.11 22h250v-1.05c-.71-59.69-18-106.12-51.34-138-28.82-27.55-71.49-42.71-116.31-42.71h-1c-23.26 0-51.79 5.64-72.09 15.86-23.11 10.7-43.49 26.7-60.45 47.7-27.3 33.83-43.84 79.55-47.86 130.93-.13 1.54-.24 3.08-.35 4.62s-.18 2.92-.25 4.39a332.64 332.64 0 0 0-.36 21.69C1860.79 507 1923.65 600 2035.3 600c98 0 155.07-71.64 169.3-167.8l-7.19-2.53c-25 51.68-69.9 83-121 79.18-69.76-5.22-123.2-75.95-118.35-161.63m532.69 157.68c-8.2 19.45-25.31 30.15-48.24 30.15s-43.89-15.74-58.78-44.34c-16-30.7-24.42-74.1-24.42-125.51 0-107 33.28-176.21 84.79-176.21 21.57 0 38.55 10.7 46.65 29.37zm165.84 76.28c-30.57-7.23-46.09-18-46.09-57V5.28L2424.77 60v6.7l1.14-.09c25.62-2.07 43 1.47 53.09 10.79 7.9 7.3 11.75 18.5 11.75 34.26v71.14c-18.31-11.69-40.09-17.38-66.52-17.38-53.6 0-102.59 22.57-137.92 63.56-36.83 42.72-56.3 101.1-56.3 168.81C2230 518.72 2289.53 600 2378.13 600c51.83 0 93.53-28.4 112.62-76.3V588h166.65v-6.66zm159.29-505.33c0-37.76-28.47-66.24-66.24-66.24-37.59 0-67 29.1-67 66.24s29.44 66.24 67 66.24c37.77 0 66.24-28.48 66.24-66.24m43.84 505.33c-30.57-7.23-46.09-18-46.09-57h-.13V166.65l-166.66 47.85v6.5l1 .09c36.06 3.21 45.93 15.63 45.93 57.77V588h166.8v-6.66zm427.05 0c-30.57-7.23-46.09-18-46.09-57V166.65L3082 212.92v6.52l.94.1c29.48 3.1 38 16.23 38 58.56v226c-9.83 19.45-28.27 31-50.61 31.78-36.23 0-56.18-24.47-56.18-68.9V166.66l-166.66 47.85V221l1 .09c36.06 3.2 45.94 15.62 45.94 57.77v191.27a214.48 214.48 0 0 0 3.47 39.82l3 13.05c14.11 50.56 51.08 77 109 77 49.06 0 92.06-30.37 111-77.89v66h166.66v-6.66zM3934.2 588v-6.67l-.81-.19c-33.17-7.65-46.09-22.07-46.09-51.43v-243.2c0-75.83-42.59-121.09-113.93-121.09-52 0-95.85 30.05-112.73 76.86-13.41-49.6-52-76.86-109.06-76.86-50.12 0-89.4 26.45-106.25 71.13v-69.87l-166.66 45.89v6.54l1 .09c35.63 3.16 45.93 15.94 45.93 57V588h155.5v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66V255.72c7-16.35 21.11-35.72 49-35.72 34.64 0 52.2 24 52.2 71.28V588h155.54v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66v-248a160.45 160.45 0 0 0-2.2-27.68c7.42-17.77 22.34-38.8 51.37-38.8 35.13 0 52.2 23.31 52.2 71.28V588z"/></svg></a><h4 class="av b aw ax vr"><div class="v vs n cf vt ch"><h4 class="av b dj dk vu"><a href="https://medium.com/about?autoplay=1&amp;source=post_page-----fc6f83766c5d--------------------------------" class="do dp bu bv bw bx by bz ca bg uu cb vn vo" rel="noopener">About</a></h4><h4 class="av b dj dk vu"><a href="https://help.medium.com/hc/en-us?source=post_page-----fc6f83766c5d--------------------------------" class="do dp bu bv bw bx by bz ca bg uu cb vn vo" rel="noopener">Help</a></h4><h4 class="av b dj dk vu"><a href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----fc6f83766c5d--------------------------------" class="do dp bu bv bw bx by bz ca bg uu cb vn vo" rel="noopener">Legal</a></h4></div></h4></div><div class="ae vv vw ch"><h4 class="av b dj dk vr">Get the Medium app</h4></div><div class="ae vv vx ch vy"><div class="au s"><a href="https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&amp;mt=8&amp;ct=post_page&amp;source=post_page-----fc6f83766c5d--------------------------------" class="do dp bu bv bw bx by bz ca bg vl vm cb vn vo" rel="noopener nofollow"><img alt="A button that says 'Download on the App Store', and if clicked it will lead you to the iOS App store" class="" src="https://miro.medium.com/max/270/1*Crl55Tm6yDNMoucPo1tvDg.png" width="135" height="41" /></a></div><div class="s"><a href="https://play.google.com/store/apps/details?id=com.medium.reader&amp;source=post_page-----fc6f83766c5d--------------------------------" class="do dp bu bv bw bx by bz ca bg vl vm cb vn vo" rel="noopener nofollow"><img alt="A button that says 'Get it on, Google Play', and if clicked it will lead you to the Google Play store" class="" src="https://miro.medium.com/max/270/1*W_RAPQ62h0em559zluJLdQ.png" width="135" height="41" /></a></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__ = "main-20201216-210848-5e392fe835"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"auroraPage":{"isAuroraPageEnabled":true},"config":{"nodeEnv":"production","version":"main-20201216-210848-5e392fe835","target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"lightstep.medium.systems","token":"ce5be895bef60919541332990ac9fef2","appVersion":"main-20201216-210848-5e392fe835"},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","datadog":{"clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","context":{"deployment":{"target":"production","tag":"main-20201216-210848-5e392fe835","commit":"5e392fe83572111d38f4f1e54c064bc6faed97e0"}},"datacenter":"us"},"isAmp":false,"googleAnalyticsCode":"UA-24232453-2","signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["544c7006046e","bcc38c8f6edf","444d13b52878","8d6b8a439e32","92d2092dc598","1285ba81cada","cb8577c9149e","8ccfed20cbb2","ae2a65f35510","3f6ecf56618","7b6769f2748b","fc8964313712","ef8e90590e66","191186aaafa0","d944778ce714","bdc4052bbdba","88d9857e584e","9dc80918cc93","8a9336e5bb4","cef6983b292","54c98c43354d","193b68bd4fba","b7e45b22fec3","55760f21cdc5"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*3sela1OADrJr7dJk_CXaEQ.png","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"performanceTags":[],"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","errorTracking":"none"},"debug":{"requestId":"c2dc83ca-f15c-4ef6-b4ed-6ac7f46d87d5","branchDeployConfig":null,"originalSpanCarrier":{"ot-tracer-spanid":"4d1f49a54112e444","ot-tracer-traceid":"8d91c23da53444","ot-tracer-sampled":"true"}},"session":{"user":{"id":"lo_0f0fb0c7e591"},"xsrf":"","isSpoofed":false},"stats":{"itemCount":0,"sending":false,"timeout":null,"backup":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedGoogleOneTap":null,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fmedium.com\u002F@avseoul\u002Fray-marching-metaball-in-unity3d-fc6f83766c5d","host":"medium.com","hostname":"medium.com","susiModal":{"step":null,"operation":"register"},"postRead":false},"client":{"isBot":false,"isEu":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"inAppBrowserName":"","routingEntity":{"type":"DEFAULT","explicit":false},"supportsWebp":true,"useNeedForSpeed":false},"multiVote":{"clapsPerPost":{}},"tracing":{}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","viewer":null,"variantFlags":[{"__typename":"VariantFlag","name":"allow_access","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_signup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_test_auth","valueType":{"__typename":"VariantFlagString","value":"disallow"}},{"__typename":"VariantFlag","name":"android_enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"assign_default_topic_to_posts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_annual_plan","valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"}},{"__typename":"VariantFlag","name":"available_monthly_plan","valueType":{"__typename":"VariantFlagString","value":"60e220181034"}},{"__typename":"VariantFlag","name":"bane_add_user","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"bane_verify_domain","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"branch_seo_metadata","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"browsable_stream_config_bucket","valueType":{"__typename":"VariantFlagString","value":"curated-topics"}},{"__typename":"VariantFlag","name":"coronavirus_topic_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"covid_19_cdc_banner","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"default_seo_post_titles","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_android_subscription_activity_carousel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_ios_resume_reading_toast","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_ios_subscription_activity_carousel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_mobile_featured_chunk","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_post_recommended_from_friends_provider","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_admin_braintree_discounts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_local_currency","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_annual_renewal_reminder_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_app_flirty_thirty","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_parse_expires_at","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_sign_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_webhook_renewal_failure","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_about_page_routing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_general_admission","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_nav","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_profile_follow_pages","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_profile_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_pub_follower_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_sticky_nav","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_tag_page_routing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_autotier","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_automated_mission_control_triggers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_apple_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_client","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_integration","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_paypal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_io","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_text_me_the_app","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branding_fonts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cleansweep_double_writes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_client_error_tracking","valueType":{"__typename":"VariantFlagString","value":"none"}},{"__typename":"VariantFlag","name":"enable_confirm_sign_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cta_meter","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_curation_priority_queue_experiment","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_dedicated_series_tab_api_ios","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_detailed_billing_history","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_different_grid","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_feature_logging","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_tagline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_disregard_trunc_state_for_footer","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_earn_redirect","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_edit_alt_text","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_email_sign_in_captcha","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_embedding_based_diversification","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_end_of_post_cleanup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_evhead_com_to_ev_medium_com_redirect","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_expanded_feature_chunk_pool","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_filter_by_resend_rules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_filter_expire_processor","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_footer_app_buttons","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_fyf_authors_and_collections","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_global_susi_modal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_one_tap","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_highlander_member_digest","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_homepage_feed_module","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_homepage_ranked_modules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_homepage_write_button","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_increased_digest_timeout","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_post_stats","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_json_logs_trained_ranker","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_kbfd_rex","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_kbfd_rex_app_highlights","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_kbfd_rex_daily_digest","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_homepage","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_homepage_feed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_lo_homepage","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_notifications","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_pay_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_post","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_post_cd","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_post_highlights","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_post_highlights_view_only","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_profile","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_pub_header_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_pub_homepage_for_selected_domains","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_server_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_stories","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_topics","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_unread_notification_count_mutation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_login_code_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_marketing_emails","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_media_resource_try_catch","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_medium2_kbfd","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_membership_remove_section_a","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_miro_on_kubernetes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mission_control","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ml_rank_modules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ml_rank_rex_anno","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_more_on_coronavirus","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mute","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_checkout_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_collaborative_filtering_data","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_suspended_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_three_dot_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_user_onboarding_emails","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_no_name_follower_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_parsely","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_patronus_on_kubernetes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_popularity_feature","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_import","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_page_nav_stickiness_removal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_seo_settings_screen","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_settings_screen","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_table_of_contents","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_primary_topic_for_mobile","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_profile_design_reminder","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_profile_page_seo_titles","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_all","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_edit_and_delete","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_highlight","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_moderation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rito_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rtr_channel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_s3_sites","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_save_to_medium","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_signup_friction","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_sohne","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_starspace","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_starspace_ranker_starspace","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tick_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tipalti_onboarding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_topic_lifecycle_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_trending_posts_diversification","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tribute_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_triton_predictions","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_trumpland_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_unbound","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"glyph_embed_commands","valueType":{"__typename":"VariantFlagString","value":"control"}},{"__typename":"VariantFlag","name":"glyph_font_set","valueType":{"__typename":"VariantFlagString","value":"m2-unbound"}},{"__typename":"VariantFlag","name":"google_sign_in_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_generic_home_modules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_home_post_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_iceland_paywall","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_iceland_nux","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_pub_follow_email_opt_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"is_not_medium_subscriber","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"kill_fastrak","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"kill_stripe_express","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"limit_post_referrers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"make_nav_sticky","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"new_transition_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"provider_for_credit_card_form","valueType":{"__typename":"VariantFlagString","value":"BRAINTREE"}},{"__typename":"VariantFlag","name":"pub_sidebar","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"redefine_average_post_reading_time","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"remove_post_post_similarity","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"retrained_ranker","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"sign_up_with_email_button","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"signin_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"signup_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"skip_sign_in_recaptcha","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"smart_truncation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"use_new_admin_topic_backend","valueType":{"__typename":"VariantFlagBoolean","value":true}}],"meterPost({\"postId\":\"fc6f83766c5d\",\"postMeteringOptions\":{}})":{"__ref":"MeteringInfo:{}"},"postResult({\"id\":\"fc6f83766c5d\"})":{"__ref":"Post:fc6f83766c5d"},"userDomainValidity({\"domain\":\".medium.com\"})":true},"MeteringInfo:{}":{"__typename":"MeteringInfo","postIds":[],"maxUnlockCount":3,"unlocksRemaining":3},"User:ae7da3fab1cb":{"id":"ae7da3fab1cb","__typename":"User","isSuspended":false,"name":"Sehyun Av Kim","hasCompletedProfile":false,"bio":"computer graphics artist \u002F creative dev - avseoul.net","imageId":"0*NMpaqmxTeM8nxIjc.","customStyleSheet":null,"hasDomain":false,"username":"avseoul","isAuroraVisible":true,"socialStats":{"__typename":"SocialStats","followerCount":204},"isBlocking":null,"mediumMemberAt":0,"isMuting":null,"isFollowing":null,"allowNotes":true,"newsletterV3":null,"viewerIsUser":false,"twitterScreenName":"avseoul","isPartnerProgramEnrolled":false},"Paragraph:f9f2b8bed628_0":{"id":"f9f2b8bed628_0","__typename":"Paragraph","name":"36d1","text":"Ray Marching Metaball in Unity3D","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_1":{"id":"f9f2b8bed628_1","__typename":"Paragraph","name":"82e5","text":"Ray Marching Metabll in Unity3D","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*WQOLdESkFEZjrctM--OB0Q.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_2":{"id":"f9f2b8bed628_2","__typename":"Paragraph","name":"6ae6","text":"Introduction","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_3":{"id":"f9f2b8bed628_3","__typename":"Paragraph","name":"3e83","text":"I’ve been following ray marching sketches from Shadertoy nowadays and amused by it’s smoothness of rendering unlike using polygons. Among many sketches, this metaball example by Inigo Quilez caught my attention, simply because of its aesthetics of organic deformations of metaball, which was amplified by smooth and quality surface shading of ray marching.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":47,"end":56,"type":"A","href":"https:\u002F\u002Fwww.shadertoy.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":153,"end":174,"type":"A","href":"https:\u002F\u002Fwww.shadertoy.com\u002Fview\u002Fld2GRz","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":178,"end":190,"type":"A","href":"http:\u002F\u002Fwww.iquilezles.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_4":{"id":"f9f2b8bed628_4","__typename":"Paragraph","name":"195b","text":"Since Shadertoy is base on only fragment shader, blobs’ positions are updated in every pixels in this example. I wondered how much performance improvement that it could be made if all calculations except for shading are taken out of fragment shader and done beforehand.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_5":{"id":"f9f2b8bed628_5","__typename":"Paragraph","name":"a4da","text":"But above all, I wanted to give a shot ray marching by implementing it by myself to understand how it works since this technique can be applied to other useful technique such as volume rendering, my another huge interest nowadays. I thought getting used to ray marching would be a good start.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_6":{"id":"f9f2b8bed628_6","__typename":"Paragraph","name":"86bb","text":"Inigo Quilez’s Metaball on Shadertoy","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*TkrFrNV-ypCyQHjvC4DAwQ.gif"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_7":{"id":"f9f2b8bed628_7","__typename":"Paragraph","name":"d69f","text":"1. Ray marching and Distance Field","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_8":{"id":"f9f2b8bed628_8","__typename":"Paragraph","name":"a9b1","text":"Ray marching is a 3D rendering technique . Unlike ray tracing which uses explicit polygons and functions to find the intersection, ray marching just cast a ray from the camera to each pixel and march along the direction until it finds a close enough to the intersection.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_9":{"id":"f9f2b8bed628_9","__typename":"Paragraph","name":"32fb","text":"Distance field represents the closest distance between current point of the marching ray and surface of the scene constructed by mathematical formula called distance functions. This value is used as a distance of marching step, which drastically lessen the number of marching steps also lower the overshooting compared with marching with constant step size.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":157,"end":175,"type":"A","href":"http:\u002F\u002Fwww.iquilezles.org\u002Fwww\u002Farticles\u002Fdistfunctions\u002Fdistfunctions.htm","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_10":{"id":"f9f2b8bed628_10","__typename":"Paragraph","name":"b0bb","text":"left : marching with constant size step \u002F right : marching with distance field","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*ZQ8s0iMuwHXJveRJs25cyw.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_11":{"id":"f9f2b8bed628_11","__typename":"Paragraph","name":"f7ca","text":"Ray marching technique, more specifically, ray marching with distance field technique has been popularized and grown by Inigo Quilez, who is also the author of this metaball example on Shadertoy and also a co-creator of Shadertoy. It is capable of creating high quality visuals with significantly lower size excutables than other technique, for example the image below, which is a screenshot of his real-time demo, is created in 4 kilobytes. Too see more his works, visit his demo archive.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":120,"end":132,"type":"A","href":"http:\u002F\u002Fiquilezles.org\u002Fprods\u002Findex.htm","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":476,"end":488,"type":"A","href":"http:\u002F\u002Fiquilezles.org\u002Fprods\u002Findex.htm","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":120,"end":132,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":476,"end":488,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_12":{"id":"f9f2b8bed628_12","__typename":"Paragraph","name":"e3d6","text":"Slisesix by Inigo Quilez from Rendering Worlds With Two Triangles in 2008","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*IutMFnBtdU4nAAvsZApmdw.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":30,"end":65,"type":"A","href":"http:\u002F\u002Fiquilezles.org\u002Fwww\u002Fmaterial\u002Fnvscene2008\u002Fnvscene2008.htm","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":30,"end":73,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_13":{"id":"f9f2b8bed628_13","__typename":"Paragraph","name":"8af7","text":"2. Metaball","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_14":{"id":"f9f2b8bed628_14","__typename":"Paragraph","name":"bc9a","text":"If I borrow words from Wikipedia,","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":23,"end":32,"type":"A","href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMetaballs","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":23,"end":32,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_15":{"id":"f9f2b8bed628_15","__typename":"Paragraph","name":"ca25","text":"Metaballs are, in computer graphics, organic-looking n-dimensional objects. The technique for rendering metaballs was invented by Jim Blinn in the early 1980s.","type":"BQ","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":18,"end":35,"type":"A","href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FComputer_graphics","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":94,"end":103,"type":"A","href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FRendering_(computer_graphics)","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":130,"end":139,"type":"A","href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FJim_Blinn","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_16":{"id":"f9f2b8bed628_16","__typename":"Paragraph","name":"1611","text":"Or some others said,","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_17":{"id":"f9f2b8bed628_17","__typename":"Paragraph","name":"572f","text":"Metaball is an isosurface in 3D space (or isoline in 2D space).","type":"BQ","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_18":{"id":"f9f2b8bed628_18","__typename":"Paragraph","name":"d5e2","text":"Sometimes, we all find something hard to be explained by just words, don’t we? But I believe you have seen it at least once in the animations, games or motion graphics, cause it’s been around for a long time and fairly popular effects in computer graphics.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_19":{"id":"f9f2b8bed628_19","__typename":"Paragraph","name":"1615","text":"Maybe the most similar example you can find in the real life would be a Mercury.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":72,"end":79,"type":"A","href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMercury_(element)","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":72,"end":80,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_20":{"id":"f9f2b8bed628_20","__typename":"Paragraph","name":"fb3e","text":"image from Wikipedia","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*wu8DgWHEqIccvsME6I6BCg.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":11,"end":20,"type":"A","href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMercury_(element)","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_21":{"id":"f9f2b8bed628_21","__typename":"Paragraph","name":"e5e2","text":"They act like Mercury when more than 2 metaballs are close enough as you can see in the video below. Also this is the demo I’ll break it down in this post.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_22":{"id":"f9f2b8bed628_22","__typename":"Paragraph","name":"7a05","text":"","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"hasDropCap":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:f429a3b5b59f8a4dea72e204f60581d5"}},"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_23":{"id":"f9f2b8bed628_23","__typename":"Paragraph","name":"baea","text":"Process","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_24":{"id":"f9f2b8bed628_24","__typename":"Paragraph","name":"8e9d","text":"1. Break it down the example","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_25":{"id":"f9f2b8bed628_25","__typename":"Paragraph","name":"82cb","text":"a. Setup rays","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":13,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":13,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_26":{"id":"f9f2b8bed628_26","__typename":"Paragraph","name":"c738","text":"black dot : ray origin \u002F red dots : pixels on image plane \u002F red line : ray \u002F blue dot : center of image plane","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*RI0lrBK_dwXc4EjYgJBv8Q.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_27":{"id":"f9f2b8bed628_27","__typename":"Paragraph","name":"b27a","text":"Since ray marching needs to cast rays from camera to each pixel, we need to know Ray Origin which means where your camera at and Ray Direction which means direction toward each pixels on image plane from the ray origin. We’ll get to details by examining Inigo’s example.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":81,"end":91,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":129,"end":142,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":81,"end":91,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":129,"end":142,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_28":{"id":"f9f2b8bed628_28","__typename":"Paragraph","name":"14b8","text":"Here is the part where the ray direction is setup in Inigo’s example :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_29":{"id":"f9f2b8bed628_29","__typename":"Paragraph","name":"2f41","text":"*Note that I took out some codes irrelevant to calculating ray direction.","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_30":{"id":"f9f2b8bed628_30","__typename":"Paragraph","name":"680b","text":"\u002F\u002F move camera  \nfloat an = 0.5*time;\nvec3 ro = vec3(5.0*sin(an),2.5*cos(0.4*an),5.0*cos(an));\nvec3 ta = vec3(0.0,0.0,0.0);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":17,"end":123,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_31":{"id":"f9f2b8bed628_31","__typename":"Paragraph","name":"cc8f","text":"\u002F\u002F image plane  \nvec2 p = -1.0 + 2.0 * fragCoord.xy \u002F iResolution.xy;\np.x *= iResolution.x\u002FiResolution.y;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":17,"end":105,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_32":{"id":"f9f2b8bed628_32","__typename":"Paragraph","name":"add4","text":"\u002F\u002F camera matrix\nvec3 ww = normalize( ta - ro );\nvec3 uu = normalize( cross(ww,vec3(0.0,1.0,0.0) ) );\nvec3 vv = normalize( cross(uu,ww));","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":17,"end":137,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_33":{"id":"f9f2b8bed628_33","__typename":"Paragraph","name":"2199","text":"\u002F\u002F create view ray\nvec3 rd = normalize( p.x*uu + p.y*vv + 2.0*ww );","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":19,"end":67,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_34":{"id":"f9f2b8bed628_34","__typename":"Paragraph","name":"34b0","text":"Now we’ll break it down from part to part :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_35":{"id":"f9f2b8bed628_35","__typename":"Paragraph","name":"9650","text":"\u002F\u002F move camera in world space \nfloat angle = 0.5*time;\nvec3 ray_origin = vec3(\n    5.0 * sin(angle), \n    2.5 * cos(0.4 * angle), \n    5.0 * cos(angle));","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":31,"end":153,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_36":{"id":"f9f2b8bed628_36","__typename":"Paragraph","name":"9faa","text":"\u002F\u002F this will be used for calculating lookat matrix below \nvec3 lookat_target = vec3(0.0, 0.0, 0.0);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":58,"end":99,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_37":{"id":"f9f2b8bed628_37","__typename":"Paragraph","name":"1c5e","text":"Note that it’s not actually a camera but just a point","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*ZbIyslOjApoPr8f8nLT9JQ.gif"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_38":{"id":"f9f2b8bed628_38","__typename":"Paragraph","name":"f77a","text":"Set the ray_origin (the camera) in world space. At the world root (0, 0, 0), it will be circling around Y axis along with going up and down. \nThe lookat_target will be used later.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":8,"end":18,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":146,"end":159,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_39":{"id":"f9f2b8bed628_39","__typename":"Paragraph","name":"27ef","text":"\u002F\u002F image plane construction (-1 ~ 1)\nvec2 pixel = -1.0 + 2.0 * fragCoord.xy \u002F iResolution.xy;\npixel.x *= iResolution.x\u002FiResolution.y;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":37,"end":133,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_40":{"id":"f9f2b8bed628_40","__typename":"Paragraph","name":"2c38","text":"Then we construct the image plane with pixel coordinates fragCoord.xy which ranges from left bottom (0. 0) to right top(window.width, window.height).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":57,"end":69,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_41":{"id":"f9f2b8bed628_41","__typename":"Paragraph","name":"9e5a","text":"","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"__ref":"ImageMetadata:1*Co8SE9mtiBhaqlz1XnixPg.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_42":{"id":"f9f2b8bed628_42","__typename":"Paragraph","name":"6268","text":"Since the each pixel’s position needs to be in world space coordinates, we scale the down to 2 units width and height and offset the origin to the center.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_43":{"id":"f9f2b8bed628_43","__typename":"Paragraph","name":"bb99","text":"Now we get a directional vector from the camera toward lookat_target which we defined above by subtracting ray_origin from the lookat_target and normalize it. We can assume this directional vector as the forward vector of our camera. With this forward vector, we can get left and up vectors by cross product with perpendicular vectors. Within these 3 axis, we can construct the lookat rotation matrix to the camera. We use this to align the image plane looking toward the ray origin by translating each pixel by multiplying this matrix. The code is following :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":55,"end":68,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":107,"end":117,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":127,"end":140,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_44":{"id":"f9f2b8bed628_44","__typename":"Paragraph","name":"ce6f","text":"\u002F\u002F camera lookat rotation matrix toward lookat_target\nvec3 world_up = vec3(0.0, 1.0, 0.0);\nvec3 cam_forward = normalize( lookat_target - ray_origin );\nvec3 cam_left = normalize( cross(cam_forward, world_up) );\nvec3 cam_up = normalize( cross(cam_left, cam_forward));","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":54,"end":265,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_45":{"id":"f9f2b8bed628_45","__typename":"Paragraph","name":"675d","text":"axis on the center : visualizes the orientation of lookat matrix","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*dprycJE2PbefSLPMfVCfAQ.gif"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_46":{"id":"f9f2b8bed628_46","__typename":"Paragraph","name":"b50c","text":"Since image plane needs to belong in camera’s matrix in order to construct the field of view, following code does that :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_47":{"id":"f9f2b8bed628_47","__typename":"Paragraph","name":"151f","text":"\u002F\u002F original code\nvec3 ray_direction = normalize( pixel.x*cam_left + pixel.y*cam_up + 2.0*cam_forward );","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":17,"end":103,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_48":{"id":"f9f2b8bed628_48","__typename":"Paragraph","name":"54d3","text":"breakdown -------\u003E","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_49":{"id":"f9f2b8bed628_49","__typename":"Paragraph","name":"5a4f","text":"#1\nfloat focal_length = 2.0\nvec3 image_plane = vec3(pixel, focal_length)","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":3,"end":72,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_50":{"id":"f9f2b8bed628_50","__typename":"Paragraph","name":"4178","text":"#2\nimage_plane = vec3(\n             image_plane.x * cam_left +\n             image_plane.y * cam_up + \n             image_plane.z * cam_forward)","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":3,"end":143,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_51":{"id":"f9f2b8bed628_51","__typename":"Paragraph","name":"e0fb","text":"#3\nimage_plane = ray_origin + image_plane","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":3,"end":41,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_52":{"id":"f9f2b8bed628_52","__typename":"Paragraph","name":"759b","text":"#4\nvec3 ray_direction = normalize(image_plane - ray_origin)","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":3,"end":59,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_53":{"id":"f9f2b8bed628_53","__typename":"Paragraph","name":"cc62","text":"This part needed a bit more breakdown. I wrote the process in the code above, I’ll explain step by step.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_54":{"id":"f9f2b8bed628_54","__typename":"Paragraph","name":"1854","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*nATAjgaSwKb7CIlmgTUh3Q.gif"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_55":{"id":"f9f2b8bed628_55","__typename":"Paragraph","name":"ce70","text":"#1 : By giving Z value to the image plane, now the image plane is place in the world space, 2 units far away (0, 0, 2) from the root (0, 0, 0) along Z axis.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_56":{"id":"f9f2b8bed628_56","__typename":"Paragraph","name":"0dd7","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*qaYLrC-felH945HvL2tjjg.gif"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_57":{"id":"f9f2b8bed628_57","__typename":"Paragraph","name":"4f42","text":"#2 : By multiply the lookat rotation matrix to each pixel’s position in the image plane, now the plane is always facing toward the ray origin.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_58":{"id":"f9f2b8bed628_58","__typename":"Paragraph","name":"c083","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*y28HAg6Foz5oNYC-Z5D5xw.gif"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_59":{"id":"f9f2b8bed628_59","__typename":"Paragraph","name":"7a07","text":"#3 : By adding position of the ray origin, now it moves along with the ray origin while it is facing toward the ray origin 2 units far away. we can assume this is a world position of pixels on the image plane.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_60":{"id":"f9f2b8bed628_60","__typename":"Paragraph","name":"de02","text":"#4 : Since image_plane = ray_origin + image_plane, we can confirm that normalize(pixels_in_world_space — ray_origin) is identical with the original code normalize( pixel.x*cam_left + pixel.y*cam_up + 2.0*cam_forward )","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":11,"end":49,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":71,"end":116,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":153,"end":217,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_61":{"id":"f9f2b8bed628_61","__typename":"Paragraph","name":"f51e","text":"b. March rays","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":13,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":13,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_62":{"id":"f9f2b8bed628_62","__typename":"Paragraph","name":"e580","text":"\u002F\u002F A small number that you want to use to decide if the ray is close enough to surface.\nconst float precis = 0.01;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":88,"end":114,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_63":{"id":"f9f2b8bed628_63","__typename":"Paragraph","name":"ab14","text":"\u002F\u002F ro - ray_origin\n\u002F\u002F rd - ray_direction\nvec2 intersect( in vec3 ro, in vec3 rd )\n{","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":41,"end":83,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_64":{"id":"f9f2b8bed628_64","__typename":"Paragraph","name":"ba99","text":"    \u002F\u002F Maximum distance - if the ray go further than this, we'll assume there's nothing\n    float maxd = 10.0;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":92,"end":110,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_65":{"id":"f9f2b8bed628_65","__typename":"Paragraph","name":"31fa","text":"    \u002F\u002F Marching step size from the distance field - the closest distance between the current ray position and surface    \n    float h = precis * 2.0;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":117,"end":149,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_66":{"id":"f9f2b8bed628_66","__typename":"Paragraph","name":"dd18","text":"    \u002F\u002F Total travel distance of the ray - the distance between ray origin and surface\n    float t = 0.0;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":90,"end":104,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_67":{"id":"f9f2b8bed628_67","__typename":"Paragraph","name":"04d1","text":"    \u002F\u002F This is a bit mysterious to me.. based on the code it only tells whether the ray is out of the max or not. Maybe there's other usages in specific case but not in this example?\n    float m = 1.0;\n    \n    \u002F\u002F How many steps of marching - the more you iterate, the more precision you will have. But also the more computation cost.   \n    for( int i = 0; i \u003C 75; i++ )\n    {\n        \u002F\u002F When the ray is close enough to the surface or the total travel distance is bigger than maximum distance then break the loop\n        if( h \u003C precis || t \u003E maxd ) break;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":187,"end":211,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":335,"end":386,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":522,"end":557,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_68":{"id":"f9f2b8bed628_68","__typename":"Paragraph","name":"d44e","text":"        \u002F\u002F Update the total travel distance with the updated marching distance from previous loop\n        t += h;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":106,"end":113,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_69":{"id":"f9f2b8bed628_69","__typename":"Paragraph","name":"d0da","text":"        \u002F\u002F Update the marching distance from the distance field \n        \u002F\u002F ro + rd * t - current position of your ray \n        \u002F\u002F map(ray) - return the closest distance between the ray and the the scene\n        h = map( ro + rd * t );\n    }","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":212,"end":241,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_70":{"id":"f9f2b8bed628_70","__typename":"Paragraph","name":"fd18","text":"\u002F\u002F update m if the ray travels further than the maximum distance. This value will be used to decide whether we render background or metaball in this example \n    if( t \u003E maxd ) \n        m = -1.0;\n       \n    return vec2( t, m );\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":162,"end":230,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_71":{"id":"f9f2b8bed628_71","__typename":"Paragraph","name":"4cef","text":"This function marches ray a number of iterations to find a point close enough to the surface of the scene. I think the code explains itself so I just leave comments in the code above to briefly explain the details.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_72":{"id":"f9f2b8bed628_72","__typename":"Paragraph","name":"191c","text":"c. Distance Field","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":17,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":17,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_73":{"id":"f9f2b8bed628_73","__typename":"Paragraph","name":"e08d","text":"As I briefly mentioned above, distance field gives you the closest distance between your current ray’s position and the scene. In this example, we only render the metabll so the distance filed function is equivalent with distance function of metaball as you see in the code below, so we move on to the distance function of metaball.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_74":{"id":"f9f2b8bed628_74","__typename":"Paragraph","name":"7b66","text":"\u002F\u002F Distance Field function. it's also called Distance Map or Distance Transform \nfloat map( in vec3 p )\n{\n    return sdMetaBalls( p );\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":81,"end":136,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_75":{"id":"f9f2b8bed628_75","__typename":"Paragraph","name":"1d3c","text":"*If you curious to see how to construct a distance field with various distance functions, I recommend to read Modeling with Distance Functions by Inigo Quilez.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":110,"end":142,"type":"A","href":"http:\u002F\u002Fwww.iquilezles.org\u002Fwww\u002Farticles\u002Fdistfunctions\u002Fdistfunctions.htm","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":110,"end":142,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_76":{"id":"f9f2b8bed628_76","__typename":"Paragraph","name":"025a","text":"d. Render Metaball","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":18,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":18,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_77":{"id":"f9f2b8bed628_77","__typename":"Paragraph","name":"e41c","text":"Following is the distance function of metaball in this example :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_78":{"id":"f9f2b8bed628_78","__typename":"Paragraph","name":"6982","text":"vec4 blobs[numballs];","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_79":{"id":"f9f2b8bed628_79","__typename":"Paragraph","name":"6f53","text":"float sdMetaBalls( vec3 pos )\n{\n    float m = 0.0;\n    float p = 0.0;\n    float dmin = 1e20;\n  \n    float h = 1.0; \u002F\u002F track Lipschitz constant\n \n    for( int i=0; i\u003Cnumballs; i++ )\n    {\n        \u002F\u002F bounding sphere for ball\n        float db = length( blobs[i].xyz - pos );\n        if( db \u003C blobs[i].w )\n        {\n            float x = db\u002Fblobs[i].w;\n            p += 1.0 - x*x*x*(x*(x*6.0-15.0)+10.0);\n            m += 1.0;\n            h = max( h, 0.5333*blobs[i].w );\n         }\n         else \u002F\u002F bouncing sphere distance\n         {\n            dmin = min( dmin, db - blobs[i].w );\n         }\n     }\n     float d = dmin + 0.1;\n \n     if( m\u003E0.5 )\n     {\n         float th = 0.2;\n         d = h*(th-p);\n     }\n \n     return d;\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_80":{"id":"f9f2b8bed628_80","__typename":"Paragraph","name":"61db","text":"*I should mention that the metaball part break down is based on my quick research while I was writing this post, so I had to rely on the assumption on many parts. So please kindly understand and please do not hesitate to point them out for me.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_81":{"id":"f9f2b8bed628_81","__typename":"Paragraph","name":"c59d","text":"So… let me take a deep breath... and here we go.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_82":{"id":"f9f2b8bed628_82","__typename":"Paragraph","name":"1efb","text":"We can divide this metaball function into 2 big part :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_83":{"id":"f9f2b8bed628_83","__typename":"Paragraph","name":"a3cc","text":"Bounding sphere","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_84":{"id":"f9f2b8bed628_84","__typename":"Paragraph","name":"1490","text":"Metaball field","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_85":{"id":"f9f2b8bed628_85","__typename":"Paragraph","name":"7e47","text":"d-1. Bounding sphere","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":20,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":20,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_86":{"id":"f9f2b8bed628_86","__typename":"Paragraph","name":"6af1","text":"For the performance reason, we ignore the calculation for metaball field until the ray hits any of bounding sphere in the group of blobs. The radius of bounding spheres are defined by each blob’s radius blobs[i].w","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":203,"end":213,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_87":{"id":"f9f2b8bed628_87","__typename":"Paragraph","name":"f434","text":"\u002F\u002F minimum distance between current ray and closest blob's surface. start with the big enough number. \nfloat dmin = 1e20;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":103,"end":121,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_88":{"id":"f9f2b8bed628_88","__typename":"Paragraph","name":"faca","text":"for( int i=0; i\u003Cnumballs; i++ )\n{\n    \u002F\u002F distance between current ray and current blob\n    float db = length( blobs[i].xyz - pos );","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":33,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":91,"end":131,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_89":{"id":"f9f2b8bed628_89","__typename":"Paragraph","name":"a3a2","text":"    \u002F\u002F if the distance is shorter than current blob's radius\n    if( db \u003C blobs[i].w )\n    {\n        \u002F\u002F the ray is in the blob \n        \u002F\u002F do metaball field calculation\n    }\n    else\n    {\n        \u002F\u002F the ray is still out of current blob's boundary\n        \u002F\u002F update dmin with the closest distance between current ray and the surface of blobs\n        dmin = min( dmin, db - blobs[i].w );\n    }\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":65,"end":101,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":173,"end":189,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":351,"end":395,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":342,"end":351,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_90":{"id":"f9f2b8bed628_90","__typename":"Paragraph","name":"9227","text":"\u002F\u002F add just big enough to push the ray into the blob when the ray hit the bounding sphere. \nfloat d = dmin + 0.1; ","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":92,"end":114,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_91":{"id":"f9f2b8bed628_91","__typename":"Paragraph","name":"ce88","text":"\u002F\u002F return the updated distance for the next marching step  \nreturn d;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":60,"end":69,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_92":{"id":"f9f2b8bed628_92","__typename":"Paragraph","name":"084a","text":"Let me give more detail on the reason for adding 0.1 to the closest distance. For the simplicity and better understanding, let’s assume we only have 2 blobs in 2D space. See the image below :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_93":{"id":"f9f2b8bed628_93","__typename":"Paragraph","name":"97e5","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*dGYbmE7mq5cGq0E9OUV10A.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_94":{"id":"f9f2b8bed628_94","__typename":"Paragraph","name":"f971","text":"Let’s say the ray is not almost close to the surface of Blob P1. It will most likely get closer to next iteration, maybe it might get smaller than precision = 0.01value in the ray marching function. That means, the ray marching function will stop the ray and will return current distance which is the closest distance between ray and bounding sphere (not a metaball). We only need bounding spheres as a entry point for the ray into the metaball field (let’s just say inside of the blob) so we add up just enough number to fool the marching function and let the ray jump into the bounding sphere. If we zoom into the image :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":61,"end":63,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":147,"end":163,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_95":{"id":"f9f2b8bed628_95","__typename":"Paragraph","name":"7a11","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*lL2SmCG7xFDrfVA7TC-eyg.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_96":{"id":"f9f2b8bed628_96","__typename":"Paragraph","name":"0da8","text":"The darker grey curve is the edge of bounding sphere, the red dot is the current ray, the blue line is the closest distance between the ray and surface, the green line is also the closest distance applied to ray direction, and the red line is the little push d = dmin + 0.1 to let the next ray go into the bounding sphere and to prevent terminating ray marching function’s iteration. Again, without a little push, the ray marching function will just return the closest distance to bounding sphere. Note that, as soon as we jump into the bounding sphere then we don’t need this small push anymore. I’ll point it out again in next part.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":259,"end":273,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":4,"end":21,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":58,"end":65,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":90,"end":99,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":157,"end":167,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":231,"end":239,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":259,"end":273,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_97":{"id":"f9f2b8bed628_97","__typename":"Paragraph","name":"e725","text":"So, we’re in the blob. Let’s metaball them.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_98":{"id":"f9f2b8bed628_98","__typename":"Paragraph","name":"6edf","text":"d-2. Metaball field","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":19,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":19,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_99":{"id":"f9f2b8bed628_99","__typename":"Paragraph","name":"795e","text":"float m = 0.0;\nfloat p = 0.0;\nfloat dmin = 1e20;\n  \nfloat h = 1.0; \u002F\u002F track Lipschitz constant\n \nfor( int i=0; i\u003Cnumballs; i++ )\n{\n    \u002F\u002F bounding sphere for ball\n    float db = length( blobs[i].xyz - pos );\n    if( db \u003C blobs[i].w )\n    {\n        float x = db\u002Fblobs[i].w;\n        p += 1.0 - x*x*x*(x*(x*6.0-15.0)+10.0);\n        m += 1.0;\n        h = max( h, 0.5333*blobs[i].w );\n    }\n    else \u002F\u002F bouncing sphere distance\n    {\n        dmin = min( dmin, db - blobs[i].w );\n    }\n}\nfloat d = dmin + 0.1;\n \nif( m\u003E0.5 )\n{\n    float th = 0.2;\n    d = h*(th-p);\n}\n \nreturn d;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":29,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":52,"end":94,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":97,"end":130,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":167,"end":385,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":480,"end":481,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":506,"end":559,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":562,"end":571,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":30,"end":48,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":386,"end":479,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":482,"end":503,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_100":{"id":"f9f2b8bed628_100","__typename":"Paragraph","name":"5bb8","text":"Note that the italic lines will not be used from this point anymore because we’re inside of the bounding sphere. Like I mentioned, the little push is not used anymore as it is overwritten by this line :d = h * (th — p).","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":202,"end":218,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":218,"end":219,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_101":{"id":"f9f2b8bed628_101","__typename":"Paragraph","name":"e4e9","text":"Before I directly explain the code, let’s start with the case when the ray is inside only one blob :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_102":{"id":"f9f2b8bed628_102","__typename":"Paragraph","name":"ca8a","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*_V5oUV1A1AP43xexEA3HiQ.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_103":{"id":"f9f2b8bed628_103","__typename":"Paragraph","name":"0939","text":"For the simplicity, I set the direction of ray aligned to the center of blob’s center so we don’t need to re-align the distance with ray’s direction.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_104":{"id":"f9f2b8bed628_104","__typename":"Paragraph","name":"7c15","text":"Since we’re in the blob, we know db is less than blob’s radius so we can normalize it by x = db\u002Fblobs[i].w. By doing this, we can describe current distance between ray and blob’s center in relative scale 0–1. So let’s say if rays are in the middle between the center and surface of each blob then we can say they are 0.5 unit far away from the each blob’s center in each blob’s coordinates :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":89,"end":106,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":89,"end":108,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_105":{"id":"f9f2b8bed628_105","__typename":"Paragraph","name":"5777","text":"X = DISTANCE_BETWEEN_RAY_AND_BLOB_CENTER \u002F BLOB_RADIUS","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*XRJGjWFRNg9u7BslAg8dpg.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_106":{"id":"f9f2b8bed628_106","__typename":"Paragraph","name":"36c7","text":"In graph form :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_107":{"id":"f9f2b8bed628_107","__typename":"Paragraph","name":"beaf","text":"X = DISTANCE_BETWEEN_RAY_AND_BLOB_CENTER \u002F BLOB_RADIUS","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*0iGi4wE4-9eHWSeFCxmRyw.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_108":{"id":"f9f2b8bed628_108","__typename":"Paragraph","name":"1061","text":"By using this normalized distance, we’ll calculate metaball’s falloff by using this inverted polynomial equation :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_109":{"id":"f9f2b8bed628_109","__typename":"Paragraph","name":"0b29","text":"p += 1.0 - x*x*x*(x*(x*6.0-15.0)+10.0);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":39,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_110":{"id":"f9f2b8bed628_110","__typename":"Paragraph","name":"d932","text":"Note that we invert it because we need to march ray into the blob not the opposite so the distance should be measured from the surface :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_111":{"id":"f9f2b8bed628_111","__typename":"Paragraph","name":"1bd6","text":"P = 1. — X*X*X*(X*(X*6.0–15.0)+10.0)","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*H5Artpg28_pZlrDy8DrfaA.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_112":{"id":"f9f2b8bed628_112","__typename":"Paragraph","name":"1e6e","text":"Now the direction is from surface to center. Even though it’s a same scale, it’s gradient is smoothed by the equation. You can see in the graph :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_113":{"id":"f9f2b8bed628_113","__typename":"Paragraph","name":"d4c6","text":"X = DISTANCE_BETWEEN_RAY_AND_BLOB_CENTER \u002F BLOB_RADIUS","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*anDzTYnSSvfunwQ_Qqsc9A.png"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_114":{"id":"f9f2b8bed628_114","__typename":"Paragraph","name":"493f","text":"So now we got a smooth curve for metaball’s falloff. Now, we need to decide metaballs’ volume with threshold and weight with following codes :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_115":{"id":"f9f2b8bed628_115","__typename":"Paragraph","name":"4c30","text":"if( m\u003E0.5 )\n{\n    float th = 0.2;\n    d = h*(th-p);\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":13,"end":52,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_116":{"id":"f9f2b8bed628_116","__typename":"Paragraph","name":"90ce","text":"The h is the weight for metaball’s falloff and it also scales normalized distance back to world coordinates and it’s decided in the following code :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":4,"end":5,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_117":{"id":"f9f2b8bed628_117","__typename":"Paragraph","name":"8ad9","text":"h = max( h, 0.5333*blobs[i].w );","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":32,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_118":{"id":"f9f2b8bed628_118","__typename":"Paragraph","name":"c518","text":"To be honest, I don’t still fully understand why it has to be multiplied with the number. Without multiplying it, I saw some artifacts on metaball’s surface. My best guess at this moment is that it’s for calibrating the metaball’s falloff from the polynomial equation, based on his comment in the original code. I’ll follow up this as soon as I have better understanding. I leave his his original comment for the reference.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_119":{"id":"f9f2b8bed628_119","__typename":"Paragraph","name":"1dd6","text":"The quintic polynomial p(x) = 6x^5–15x^4 + 10x^3 has zero first and second derivatives in its corners. The maxium slope p’’(x)=0 happens in the middle x=1\u002F2, and its value is p’(1\u002F2) = 15\u002F8. Therefore the minimum distance to a metaball (in metaball canonical coordinates) is at least 8\u002F15 = 0.533333","type":"BQ","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_120":{"id":"f9f2b8bed628_120","__typename":"Paragraph","name":"0f32","text":"Back to deciding metaball’s volume. As we can see in the code, if the falloff is bigger than threshold th = 0.2, the distance becomes negative. It means the ray is inside of the metaball volume and also the ray marching function will return current travel distance since the distance becomes less than precision = 0.01.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":103,"end":111,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":302,"end":318,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":111,"end":113,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_121":{"id":"f9f2b8bed628_121","__typename":"Paragraph","name":"5bc7","text":"If we apply this into the case if the ray is in the intersection of 2 blobs’ bounding sphere, the total p value is a sum of p1 and p2 :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_122":{"id":"f9f2b8bed628_122","__typename":"Paragraph","name":"9c63","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*yFQIExatzVr9c4YTk5OSlg.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_123":{"id":"f9f2b8bed628_123","__typename":"Paragraph","name":"028f","text":"In 3D space, the distance map of the metaballs from this process looks like :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_124":{"id":"f9f2b8bed628_124","__typename":"Paragraph","name":"0cee","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*dUEPb8Lp1zzDt_HnrXw-oQ.gif"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_125":{"id":"f9f2b8bed628_125","__typename":"Paragraph","name":"f7a2","text":"e. Surface geometry and normal","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":30,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":30,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_126":{"id":"f9f2b8bed628_126","__typename":"Paragraph","name":"8a27","text":"Since we know the distance from ray origin and the scene surface, we can construct the virtual geometry surface based on those information by :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_127":{"id":"f9f2b8bed628_127","__typename":"Paragraph","name":"fa13","text":"surface_geometry = ray_origin + distance_field * ray_direction","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":62,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_128":{"id":"f9f2b8bed628_128","__typename":"Paragraph","name":"fa97","text":"Now we need the surface normal in order to apply lighting techniques. With polygons, we can compute surface normal by interpolating the vertex normals of triangle but we don’t have triangles, but only know the position(surface_geometry) of the surface from the current ray. So we need to estimate the surface normal by taking the gradient of 2 points, one just behind and the other front of current ray. We sample these 2 points with a very smaller step size and get direction from behind to front then the direction will be almost perpendicular to the position, we can assume this as surface normal. In code :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":219,"end":235,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_129":{"id":"f9f2b8bed628_129","__typename":"Paragraph","name":"3236","text":"vec3 epsilon = vec3(precision,0.0,0.0);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_130":{"id":"f9f2b8bed628_130","__typename":"Paragraph","name":"00d3","text":"vec3 surface_normal = normalize( vec3(\n    map(pos+epsilon.xyy) — map(pos-epsilon.xyy),\n    map(pos+epsilon.yxy) — map(pos-epsilon.yxy),\n    map(pos+epsilon.yyx) — map(pos-epsilon.yyx) ) \n);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_131":{"id":"f9f2b8bed628_131","__typename":"Paragraph","name":"3a34","text":"However in this example, we have for loop in metaball’s distance function to iterate blobs’ array, it’s a bit inefficient because we need to run the loop 6 more times. So Inigo uses analytic approach by using polynomial :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_132":{"id":"f9f2b8bed628_132","__typename":"Paragraph","name":"742a","text":"vec3 nor = vec3( 0.0, 0.0001, 0.0 );\n \nfor( int i=0; i\u003Cnumballs; i++ )\n{\n    float db = length( blobs[i].xyz — pos );\n    float x = clamp( db\u002Fblobs[i].w, 0.0, 1.0 );\n    float p = x*x*(30.0*x*x — 60.0*x + 30.0);\n    nor += normalize( pos — blobs[i].xyz ) * p \u002F blobs[i].w;\n}\n \nreturn normalize( nor );","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_133":{"id":"f9f2b8bed628_133","__typename":"Paragraph","name":"be60","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*9jIYH7yECWnLfEtaVVS-rw.jpeg"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_134":{"id":"f9f2b8bed628_134","__typename":"Paragraph","name":"95ba","text":"My best guess at this moment, metaballs’ spherical surface normal can be calculated with normalize( pos — blobs[i].xyz ). This polynomial would be used mostly for the falloff. I’ll follow up this as soon as I have a better understanding after more research as well.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":89,"end":120,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_135":{"id":"f9f2b8bed628_135","__typename":"Paragraph","name":"6eb7","text":"2. Implementing in Unity3D","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_136":{"id":"f9f2b8bed628_136","__typename":"Paragraph","name":"1ce3","text":"2–1. Implementing in Unity3D — Compute blobs’ attributes","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_137":{"id":"f9f2b8bed628_137","__typename":"Paragraph","name":"808c","text":"Based on the example, in order to ray-march the metaball in fragment shader, the requirements are values of attributes for each blob such as position and radius before it starts rendering in fragment shader. \nSo I decided to use compute shader to calculate them and export them into textures, and then pass them to fragment shader.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_138":{"id":"f9f2b8bed628_138","__typename":"Paragraph","name":"0b26","text":"a. Render Texture setup\nI use pairs of 2 render textures in order to write\u002Fread blobs’ attributes. Dimension of the textures decides the number of blobs (texture.width * texture.height) for the simplicity. Following is my render texture setup.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":23,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":24,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_139":{"id":"f9f2b8bed628_139","__typename":"Paragraph","name":"cab4","text":"RenderTexture create_cs_out_texture(int _w, int _h)\n{\n    RenderTexture _out = new RenderTexture(_w, _h, 24);\n    _out.format = RenderTextureFormat.ARGBFloat; \n    _out.filterMode = FilterMode.Point;\n    _out.wrapMode = TextureWrapMode.Clamp;\n    _out.enableRandomWrite = true;\n    _out.Create();","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_140":{"id":"f9f2b8bed628_140","__typename":"Paragraph","name":"0e7e","text":"return _out;\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_141":{"id":"f9f2b8bed628_141","__typename":"Paragraph","name":"948b","text":"for (int i = 0; i \u003C 2; i++)\n{\n    m_cs_out_pos_and_life[i] = create_cs_out_texture(tex_w, tex_h);\n    m_cs_out_vel_and_scale[i] = create_cs_out_texture(tex_w, tex_h);\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_142":{"id":"f9f2b8bed628_142","__typename":"Paragraph","name":"cbb6","text":"num_particles = tex_w * tex_h;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_143":{"id":"f9f2b8bed628_143","__typename":"Paragraph","name":"64aa","text":"Note that :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_144":{"id":"f9f2b8bed628_144","__typename":"Paragraph","name":"51cf","text":"Why pairs? \n- I design them like a force based particle system, so all attributes are updated and related based on their previous values.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":10,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":14,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_145":{"id":"f9f2b8bed628_145","__typename":"Paragraph","name":"5d5f","text":"\u002F\u002F pass the render textures to compute shade updated previous loop\ncs.SetTexture(kernel_id, \"out_pos_and_life\", tex_a[cur_frame^1]);\ncs.SetTexture(kernel_id, \"out_vel_and_scale\", tex_b[cur_frame^1]);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_146":{"id":"f9f2b8bed628_146","__typename":"Paragraph","name":"8b6a","text":"\u002F\u002F update current render textures         \ncs.Dispatch(kernel_id, num_cs_threadGroup, num_cs_threadGroup, 1);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_147":{"id":"f9f2b8bed628_147","__typename":"Paragraph","name":"a83b","text":"\u002F\u002F swap index between 0-1\ncur_frame ^= 1;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_148":{"id":"f9f2b8bed628_148","__typename":"Paragraph","name":"6381","text":"32 bit float for ARGB channels texture format \n- I need 8 channels (2 x ARGB) in order to write blob’s position(float3), lifespan(float), velocity(float3), and scale(float) values in higher precision","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":45,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":46,"end":49,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":46,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_149":{"id":"f9f2b8bed628_149","__typename":"Paragraph","name":"2d36","text":"Point filter \n- No filter interpolation so that I read correct values as I wrote.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":12,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":16,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_150":{"id":"f9f2b8bed628_150","__typename":"Paragraph","name":"fc40","text":"EnableRandomWrite\n- In order to allow compute shader to write into arbitrary locations of textures — Unity3D compute shader documentation","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":101,"end":137,"type":"A","href":"https:\u002F\u002Fdocs.unity3d.com\u002FManual\u002FComputeShaders.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":18,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":19,"end":20,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":17,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_151":{"id":"f9f2b8bed628_151","__typename":"Paragraph","name":"676f","text":"b. Compute Shader setup\nCompute shader has 2 kernels, one is for setup and the other is for update. As I have mentioned above, compute shader calculates blobs’ attributes and writes into 2 render textures.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":23,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":24,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_152":{"id":"f9f2b8bed628_152","__typename":"Paragraph","name":"d459","text":"out_pos_and_life[global_id.xy] = float4(m_pos, m_life);\nout_vel_and_scale[global_id.xy] = float4(m_vel, m_scale);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_153":{"id":"f9f2b8bed628_153","__typename":"Paragraph","name":"ca6f","text":"The basic rules of blobs’ attributes are following :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_154":{"id":"f9f2b8bed628_154","__typename":"Paragraph","name":"5916","text":"blobs’ attributes are initiated based on 3d simplex noise gradient with different seed. I use Noise Shader Library for Unity by Keijiro Takahashi. Following is the functions that I use for setup.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":94,"end":145,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Fkeijiro\u002FNoiseShader","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_155":{"id":"f9f2b8bed628_155","__typename":"Paragraph","name":"cea2","text":"float4 reset_pos_and_life(in float3 _seed) \n{\n    float4 _data = snoise_grad(_seed * 5678.9012);\n    float3 pos = _data.xyz;\n    float life = abs(_data.w * 3. + 1.);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_156":{"id":"f9f2b8bed628_156","__typename":"Paragraph","name":"0ea3","text":"return float4(pos, life);\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_157":{"id":"f9f2b8bed628_157","__typename":"Paragraph","name":"c450","text":"float4 reset_vel_and_scale(in float3 _seed)\n{\n    float4 _data = snoise_grad(_seed * 1234.5678);\n    float3 vel = _data.xyz * 2.;\n    float scale = length((vel * .1 + .9) * .9);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_158":{"id":"f9f2b8bed628_158","__typename":"Paragraph","name":"0748","text":"return float4(vel, scale);\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_159":{"id":"f9f2b8bed628_159","__typename":"Paragraph","name":"ad07","text":"[numthreads(8, 8, 1)]\nvoid cs_init_buffers(uint3 id : SV_DispatchThreadID)\n{\n    float4 seed = reset_pos_and_life(float3(id));\n    out_pos_and_life[id.xy] = seed;\n    out_vel_and_scale[id.xy] = reset_vel_and_scale(seed.xyz);\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_160":{"id":"f9f2b8bed628_160","__typename":"Paragraph","name":"db68","text":"These functions are used for re-initiation when blob died by calling following function. Note that the seed(_pos) is updated after reset_pos_and_life(_pos) is called.","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":108,"end":112,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":131,"end":155,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":108,"end":112,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":131,"end":155,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_161":{"id":"f9f2b8bed628_161","__typename":"Paragraph","name":"d8c1","text":"void revive(inout float3 _pos, inout float _life, inout float3 _vel, inout float _scale)\n{\n    float4 _data = reset_pos_and_life(_pos);\n    _pos = _data.xyz; \u002F\u002F\u003C- seed is updated\n    _life = _data.w;\n \n    _data = reset_vel_and_scale(_pos);\n    _vel = _data.xyz;\n    _scale = _data.w;\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":110,"end":128,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":158,"end":178,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":214,"end":233,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_162":{"id":"f9f2b8bed628_162","__typename":"Paragraph","name":"0fa7","text":"After the setup, blobs’ attributes are updated in update kernel. The rules are basically :\n. Fetch the previous values of attributes from the previous textures which I mentioned above in render texture setup. \n. Velocity and life are easing-out(fast-in to slow-out) in every loop by divided by value less than 1\n. Scale is updated with jello-ish bouncing motion and after the life goes below than 1 then it starts decreasing to disappear \n. Position is updated by adding velocity to itself after the velocity is updated\n. Blobs stay in certain size of cube in order to emphasize the metaball effects by letting them touching each others\n. When they died, they are revived by calling the function I have mentioned above","type":"ULI","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":91,"end":92,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":210,"end":211,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":312,"end":313,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":439,"end":440,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":520,"end":521,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":637,"end":638,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_163":{"id":"f9f2b8bed628_163","__typename":"Paragraph","name":"5416","text":"[numthreads(8, 8, 1)]\nvoid cs_update_buffers(uint3 global_id : SV_DispatchThreadID, uint3 local_id : SV_GroupThreadID)\n{ \n    \u002F\u002F unpack data to vars\n    float4 _data = u_p_pos_and_life.Load(int3(global_id.xy, 0));\n    float3 m_pos = _data.xyz;\n    float m_life = _data.w;\n    _data = u_p_vel_and_scale.Load(int3(global_id.xy, 0));\n    float3 m_vel = _data.xyz;\n    float m_scale = _data.w;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_164":{"id":"f9f2b8bed628_164","__typename":"Paragraph","name":"c285","text":"\u002F\u002F update events\n    if (m_life \u003C .001) \n       revive(m_pos, m_life, m_vel, m_scale);\n    stay_in_cube(m_pos, m_scale, m_vel);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_165":{"id":"f9f2b8bed628_165","__typename":"Paragraph","name":"c207","text":"\u002F\u002F update data \n    clamp_vel(m_vel);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_166":{"id":"f9f2b8bed628_166","__typename":"Paragraph","name":"703d","text":"m_vel *= .96;\n    m_life *= .96;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_167":{"id":"f9f2b8bed628_167","__typename":"Paragraph","name":"1408","text":"float _rad = u_time_delta * u_time * 3.1459\u002F180.;\n    m_scale += 0.06 * sin((_rad + m_life) * 30.) \u002F sqrt((_rad + m_life)) * (1. - sqrt((_rad + m_life)));\n    m_scale *= min(m_life * 15., 1.);\n    m_scale = max(m_scale, 0.);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_168":{"id":"f9f2b8bed628_168","__typename":"Paragraph","name":"04a2","text":"m_pos += m_vel * u_time_delta;\n \n    \u002F\u002F out data\n    out_pos_and_life[global_id.xy] = float4(m_pos, m_life);\n    out_vel_and_scale[global_id.xy] = float4(m_vel, m_scale);\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_169":{"id":"f9f2b8bed628_169","__typename":"Paragraph","name":"489f","text":"c. Debug Blobs’ attributes with instance mesh\nSo now I have got the values of blobs’ attributes, in order to see if they works as I intended before I start ray marching with them, I renders it with instancing mesh.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":45,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":45,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_170":{"id":"f9f2b8bed628_170","__typename":"Paragraph","name":"ea71","text":"okay","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*5PB-G7j7RCN1NFCGxEMOwQ.gif"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_171":{"id":"f9f2b8bed628_171","__typename":"Paragraph","name":"3259","text":"I use DrawMeshInstancedIndirect to render instance mesh with custom shader and the render textures I just updated. Basically, I followed Unity’s documentation to setup .cs and shader, but in this documentation, it uses Compute Buffer instead of Render Texture which I’m using. So note that looking up the values with InstanceID is slightly different. See the comparison below :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":145,"end":158,"type":"A","href":"https:\u002F\u002Fdocs.unity3d.com\u002FScriptReference\u002FGraphics.DrawMeshInstancedIndirect.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":219,"end":233,"type":"A","href":"https:\u002F\u002Fdocs.unity3d.com\u002FScriptReference\u002FComputeBuffer.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":6,"end":32,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":168,"end":171,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_172":{"id":"f9f2b8bed628_172","__typename":"Paragraph","name":"7290","text":"\u002F\u002F in documentation\nStructuredBuffer\u003Cfloat4\u003E buf;\nfloat4 data = buf[unity_InstanceID];","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_173":{"id":"f9f2b8bed628_173","__typename":"Paragraph","name":"12b7","text":"-----------\u003E","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_174":{"id":"f9f2b8bed628_174","__typename":"Paragraph","name":"a72b","text":"\u002F\u002F my case \nTexture2D tex;\nfloat tex_w;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_175":{"id":"f9f2b8bed628_175","__typename":"Paragraph","name":"639c","text":"\u002F\u002F since the number of instance are same with tex.w * tex.h\nint3 _coords = int3(\n    unity_InstanceID % (int)tex_w,\n    (int)((float)unity_InstanceID \u002F tex_w),\n    0);\n);\nfloat4 data = tex.Load(_coords)","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_176":{"id":"f9f2b8bed628_176","__typename":"Paragraph","name":"4935","text":"2–2. Implementing in Unity3D — Render metaball in fragment shader","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_177":{"id":"f9f2b8bed628_177","__typename":"Paragraph","name":"2dab","text":"a. Setup .cs script for ray marching","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":36,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":36,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_178":{"id":"f9f2b8bed628_178","__typename":"Paragraph","name":"70ea","text":"Unity3D provides pre-defined functions for you to access specific stage of event. Since ray marching is fragment shader based, I chose to implement it on OnRenderImage which is the last stage of screen rendering. Structure of the function is following :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":17,"end":38,"type":"A","href":"https:\u002F\u002Fdocs.unity3d.com\u002FManual\u002FExecutionOrder.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":154,"end":167,"type":"A","href":"https:\u002F\u002Fdocs.unity3d.com\u002FScriptReference\u002FMonoBehaviour.OnRenderImage.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":154,"end":168,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_179":{"id":"f9f2b8bed628_179","__typename":"Paragraph","name":"438a","text":"void OnRenderImage(RenderTexture _src, RenderTexture _dst)\n{ \n    * pass the updated textures form compute shaders and other uniforms","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_180":{"id":"f9f2b8bed628_180","__typename":"Paragraph","name":"317b","text":"    Graphics.Blit(_src, _dst, raymarching_material);\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_181":{"id":"f9f2b8bed628_181","__typename":"Paragraph","name":"3175","text":"The function gives you a render texture (_src), a frame buffer which contains rendering image of the scene as a texture. This will be passed to the material as a built-in uniform sampler2D _MainTex when you run Graphics.Blit and then process the ray marching shader attached on the material to output processed image into a render texture given by the function(_dst), which is the final frame buffer that will be rendered on the screen.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":41,"end":45,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":211,"end":224,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":361,"end":365,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":220,"end":224,"type":"A","href":"https:\u002F\u002Fdocs.unity3d.com\u002FScriptReference\u002FGraphics.Blit.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":40,"end":48,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":189,"end":198,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":220,"end":225,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":361,"end":368,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":376,"end":377,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_182":{"id":"f9f2b8bed628_182","__typename":"Paragraph","name":"5874","text":"*Note that this .cs script needs to be attached to the camera you render.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_183":{"id":"f9f2b8bed628_183","__typename":"Paragraph","name":"3e01","text":"b. Setup shader for ray marching\nMove on to the ray marching. I use custom Image Effect Shader which gives you a template for you to start straight to write fragment shader code for Blit.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":75,"end":94,"type":"A","href":"https:\u002F\u002Fdocs.unity3d.com\u002F550\u002FDocumentation\u002FManual\u002FWritingImageEffects.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":33,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":33,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":75,"end":95,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_184":{"id":"f9f2b8bed628_184","__typename":"Paragraph","name":"c3f9","text":"Basically, I just translated the code from Shadertoy(GLSL) to Unity3D(HLSL) so the basic structure is same but in slightly different syntax. So I’ll not explain entire codes but only couple things which differently implemented.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_185":{"id":"f9f2b8bed628_185","__typename":"Paragraph","name":"5aa4","text":"b-1. Setup rays \nRemeber how complex it was to setup rays in the example? Fortunately, it’s a lot simpler in Unity3D cause it provides tons of useful predefined functions and variables for you. Following is how I setup the rays :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":17,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":17,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_186":{"id":"f9f2b8bed628_186","__typename":"Paragraph","name":"9dbc","text":"\u002F\u002F Setup rays","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_187":{"id":"f9f2b8bed628_187","__typename":"Paragraph","name":"fcfa","text":"\u002F\u002F Image plane in NDC space - UNITY_NEAR_CLIP_VALUE will give you the near plane value based on the platform you are working on. ex, Direct3D-like platforms use 0.0 while OpenGL-like platforms use –1.0.\n\u002F\u002F https:\u002F\u002Fdocs.unity3d.com\u002FManual\u002FSL-BuiltinMacros.html\nfloat4 m_pixels = float4(_uv * 2. - 1., UNITY_NEAR_CLIP_VALUE, 1);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":260,"end":326,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_188":{"id":"f9f2b8bed628_188","__typename":"Paragraph","name":"e4b1","text":"\u002F\u002F to view space\nm_pixels = mul(unity_CameraInvProjection, m_pixels);\n\u002F\u002F Perspective division\nm_pixels.xyz \u002F= m_pixels.w;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":17,"end":70,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":94,"end":121,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_189":{"id":"f9f2b8bed628_189","__typename":"Paragraph","name":"4cf9","text":"\u002F\u002F to world space","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_190":{"id":"f9f2b8bed628_190","__typename":"Paragraph","name":"7f59","text":"\u002F\u002F you can get the inversed view matrix on .cs  \n\u002F\u002F cam.cameraToWorldMatrix\nm_pixels = mul(u_inv_view, m_pixels);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":76,"end":113,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_191":{"id":"f9f2b8bed628_191","__typename":"Paragraph","name":"a51d","text":"\u002F\u002F camera position in world space\nfloat3 m_rayOrigin = _WorldSpaceCameraPos;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":34,"end":76,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_192":{"id":"f9f2b8bed628_192","__typename":"Paragraph","name":"de2d","text":"\u002F\u002F compute ray direction\nfloat3 m_rayDir = normalize(m_pixels.xyz - m_rayOrigin);","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":25,"end":81,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_193":{"id":"f9f2b8bed628_193","__typename":"Paragraph","name":"dddf","text":"It’s slightly different than how we did in the example. In the example, we manually define camera’s behaviors such as filed of view and transform matrix. However, in Unity3D, we can use properties of camera object provided by the engine so we just need to undo the Matrix Transformation in opposite order.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":265,"end":286,"type":"A","href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FTransformation_matrix","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":265,"end":286,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_194":{"id":"f9f2b8bed628_194","__typename":"Paragraph","name":"2743","text":"As you can see, I use some predefined variables provided by the engine, UNITY_NEAR_CLIP_VALUE, unity_CameraInvProjection, and_WorldSpaceCameraPos. You can find more information via their official documention for shader","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":72,"end":93,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":95,"end":120,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":125,"end":145,"type":"CODE","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":187,"end":218,"type":"A","href":"https:\u002F\u002Fdocs.unity3d.com\u002FManual\u002FSL-ShaderPrograms.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":187,"end":218,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_195":{"id":"f9f2b8bed628_195","__typename":"Paragraph","name":"6425","text":"instance mesh cubes and ray marching spheres","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*_rlBAcZA8V44MH7tSLAeTw.gif"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_196":{"id":"f9f2b8bed628_196","__typename":"Paragraph","name":"4d01","text":"To see if I set the ray correctly, I render ray marching spheres on top of instance cubes. We can see it’s aligned.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_197":{"id":"f9f2b8bed628_197","__typename":"Paragraph","name":"a99f","text":"Since ray marching is happening after the mesh rendering, it overwrites the pixels on top of the frame buffer like you see above. However, it’s possible to composite the ray marching object with real mesh by using depth buffer. I haven’t tried it by myself yet in this project but you can see how it’s done in this blog post Raymarching Distance Fields: Concepts and Implementation in Unity by Adrian Biagioli.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":325,"end":390,"type":"A","href":"http:\u002F\u002Fflafla2.github.io\u002F2016\u002F10\u002F01\u002Fraymarching.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":325,"end":390,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_198":{"id":"f9f2b8bed628_198","__typename":"Paragraph","name":"d50d","text":"b-2. Ray marching metaball","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":26,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":26,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_199":{"id":"f9f2b8bed628_199","__typename":"Paragraph","name":"6bcd","text":"The distance function is same with the example but only I fetch the blob’s attributes from the texture :","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_200":{"id":"f9f2b8bed628_200","__typename":"Paragraph","name":"b665","text":"for (int i = 0; i \u003C 8; i++)\n{\n     for (int j = 0; j \u003C 8; j++)\n     {\n         int3 _texel_coords = int3(i, j, 0);\n         float3 blob_pos = u_tex_pos_life.Load(_texel_coords).xyz;\n         float blob_scale = u_tex_vel_scale.Load(_texel_coords).w;","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":79,"end":248,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_201":{"id":"f9f2b8bed628_201","__typename":"Paragraph","name":"a3d2","text":"         \u002F\u002F bounding sphere for ball\n         float db = length(blob_pos - _point);\n         if (db \u003C blob_scale)\n         {\n             float x = db \u002F blob_scale;\n             p += 1.0 - x * x*x*(x*(x*6.0 - 15.0) + 10.0);\n             is_in_sphere = 1.0;\n             h = max(h, 0.5333 * blob_scale);\n         }\n         else \n         { \n             dmin = min(dmin, db - blob_scale);\n         }\n     }\n}","type":"PRE","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_202":{"id":"f9f2b8bed628_202","__typename":"Paragraph","name":"6fbe","text":"b-3. Shading and Lighting","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":25,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":25,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_203":{"id":"f9f2b8bed628_203","__typename":"Paragraph","name":"e1df","text":"I borrow a lighting equation from Inigo’s another shadertoy sketch Angles. For blobs’ color and illumination is defined by blobs’ direction and speed. I decided to follow up shading and lighting in ray marching in another post cause this post has got already too long. In case if you are curious, I’ve attached project source in this post.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":67,"end":73,"type":"A","href":"https:\u002F\u002Fwww.shadertoy.com\u002Fview\u002FlssGRM","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":67,"end":75,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_204":{"id":"f9f2b8bed628_204","__typename":"Paragraph","name":"1287","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:1*buTc_yqWin57a1E3S1FWvg.gif"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_205":{"id":"f9f2b8bed628_205","__typename":"Paragraph","name":"90c5","text":"Resources","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_206":{"id":"f9f2b8bed628_206","__typename":"Paragraph","name":"5455","text":"Project Source","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_207":{"id":"f9f2b8bed628_207","__typename":"Paragraph","name":"4c48","text":"Github","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":6,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Favseoul\u002FUnity3D_RayMarching_MetaBall","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_208":{"id":"f9f2b8bed628_208","__typename":"Paragraph","name":"9f8d","text":"References","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_209":{"id":"f9f2b8bed628_209","__typename":"Paragraph","name":"d44f","text":"Ray marching metaball and surface Shading\n- Raymarching metaball — Inigo Quilez’s raymarching metaball\n- Raymarching surface rendering — Inigo Quilez’s Angels","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":67,"end":102,"type":"A","href":"https:\u002F\u002Fwww.shadertoy.com\u002Fview\u002Fld2GRz","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":137,"end":158,"type":"A","href":"https:\u002F\u002Fwww.shadertoy.com\u002Fview\u002FlssGRM","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":42,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":43,"end":44,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":44,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_210":{"id":"f9f2b8bed628_210","__typename":"Paragraph","name":"3fc3","text":"Ray marching\n- Raymarching Distance Field by Inigo Quilez\n- nvscene 2008 — Rendering Worlds With Two Triangles by Inigo Quilez\n- Ray Marching Distance Field by Simen Haugo\n- Distance Transform Wikipedia \n- Volumetric Rendering: Raymarching by Allan Zucconi\n- Raymarching Distance Fields: Concepts and Implementation in Unity by Adrian Biagioli\n- Ray Marching and Signed Distance Functions by Jamie Wong","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":15,"end":41,"type":"A","href":"http:\u002F\u002Fiquilezles.org\u002Fwww\u002Farticles\u002Fraymarchingdf\u002Fraymarchingdf.htm","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":60,"end":110,"type":"A","href":"http:\u002F\u002Fiquilezles.org\u002Fwww\u002Fmaterial\u002Fnvscene2008\u002Fnvscene2008.htm","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":129,"end":156,"type":"A","href":"http:\u002F\u002F9bitscience.blogspot.com\u002F2013\u002F07\u002Fraymarching-distance-fields_14.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":174,"end":192,"type":"A","href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FDistance_transform","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":206,"end":256,"type":"A","href":"https:\u002F\u002Fwww.alanzucconi.com\u002F2016\u002F07\u002F01\u002Fvolumetric-rendering\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":259,"end":343,"type":"A","href":"http:\u002F\u002Fflafla2.github.io\u002F2016\u002F10\u002F01\u002Fraymarching.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":346,"end":388,"type":"A","href":"http:\u002F\u002Fjamie-wong.com\u002F2016\u002F07\u002F15\u002Fray-marching-signed-distance-functions\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":13,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":14,"end":15,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":205,"end":206,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":402,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_211":{"id":"f9f2b8bed628_211","__typename":"Paragraph","name":"e70d","text":"Metaball\n- Metaballs (also known as: Blobs) By Ryan Geiss\n- Metaball Wikipedia","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":11,"end":43,"type":"A","href":"http:\u002F\u002Fwww.geisswerks.com\u002Fryan\u002FBLOBS\u002Fblobs.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":60,"end":68,"type":"A","href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMetaballs","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":9,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":78,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_212":{"id":"f9f2b8bed628_212","__typename":"Paragraph","name":"082f","text":"Compute Shader\n- Unity Compute Shader — Part 1 by Claire Blackshaw\n- Unity Compute Shader — Part 2 by Claire Blackshaw","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":17,"end":66,"type":"A","href":"https:\u002F\u002Fwww.youtube.com\u002Fwatch?time_continue=1&amp;v=qDk-WIOYUSY","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":69,"end":118,"type":"A","href":"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=4AVc2YkOGtA&amp;t=1085s","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":15,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":16,"end":17,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":118,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_213":{"id":"f9f2b8bed628_213","__typename":"Paragraph","name":"da72","text":"Matrix Transformation \u002F Camera Frustum \u002F Ray Casting\n- Ray-Tracing: Generating Camera Rays by Scratchapixel 2.0\n- Computing the Pixel Coordinates of a 3D Point by Scratchapixel 2.0\n- The Perspective and Orthographic Projection Matrix by Scratchapixel 2.0\n- Viewing Frustum Wikipedia\n- OpenGL Transformation by Song Ho Ahn\n- OpenGL Projection Matrix by Song Ho Ahn\n- Homogeneous Coordinates by Song Ho Ahn\n- OpenGL Lookat to Axis by Song Ho Ahn","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":55,"end":90,"type":"A","href":"http:\u002F\u002Fwww.scratchapixel.com\u002Flessons\u002F3d-basic-rendering\u002Fray-tracing-generating-camera-rays\u002Fgenerating-camera-rays?http:\u002F\u002Fwww.scratchapixel.com\u002Flessons\u002F3d-basic-rendering\u002Fcomputing-pixel-coordinates-of-3d-point?","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":114,"end":159,"type":"A","href":"http:\u002F\u002Fwww.scratchapixel.com\u002Flessons\u002F3d-basic-rendering\u002Fcomputing-pixel-coordinates-of-3d-point\u002Fmathematics-computing-2d-coordinates-of-3d-points","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":183,"end":233,"type":"A","href":"http:\u002F\u002Fwww.scratchapixel.com\u002Flessons\u002F3d-basic-rendering\u002Fperspective-and-orthographic-projection-matrix\u002Fbuilding-basic-perspective-projection-matrix","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":257,"end":272,"type":"A","href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FViewing_frustum","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":285,"end":306,"type":"A","href":"http:\u002F\u002Fwww.songho.ca\u002Fopengl\u002Fgl_transform.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":324,"end":348,"type":"A","href":"http:\u002F\u002Fwww.songho.ca\u002Fopengl\u002Fgl_projectionmatrix.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":366,"end":389,"type":"A","href":"http:\u002F\u002Fwww.songho.ca\u002Fmath\u002Fhomogeneous\u002Fhomogeneous.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":407,"end":420,"type":"A","href":"http:\u002F\u002Fwww.songho.ca\u002Fopengl\u002Fgl_lookattoaxes.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":53,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":54,"end":55,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":443,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:f9f2b8bed628_214":{"id":"f9f2b8bed628_214","__typename":"Paragraph","name":"df6d","text":"Development Environment","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:f9f2b8bed628_215":{"id":"f9f2b8bed628_215","__typename":"Paragraph","name":"6685","text":"Windows 10 \u002F GeForce GTX 970\nUnity3D 2017.4.0f1","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"ImageMetadata:1*WQOLdESkFEZjrctM--OB0Q.jpeg":{"id":"1*WQOLdESkFEZjrctM--OB0Q.jpeg","__typename":"ImageMetadata","originalHeight":572,"originalWidth":1055,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*TkrFrNV-ypCyQHjvC4DAwQ.gif":{"id":"1*TkrFrNV-ypCyQHjvC4DAwQ.gif","__typename":"ImageMetadata","originalHeight":269,"originalWidth":320,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*ZQ8s0iMuwHXJveRJs25cyw.jpeg":{"id":"1*ZQ8s0iMuwHXJveRJs25cyw.jpeg","__typename":"ImageMetadata","originalHeight":475,"originalWidth":1031,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*IutMFnBtdU4nAAvsZApmdw.jpeg":{"id":"1*IutMFnBtdU4nAAvsZApmdw.jpeg","__typename":"ImageMetadata","originalHeight":288,"originalWidth":512,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*wu8DgWHEqIccvsME6I6BCg.jpeg":{"id":"1*wu8DgWHEqIccvsME6I6BCg.jpeg","__typename":"ImageMetadata","originalHeight":477,"originalWidth":440,"focusPercentX":null,"focusPercentY":null,"alt":null},"MediaResource:f429a3b5b59f8a4dea72e204f60581d5":{"id":"f429a3b5b59f8a4dea72e204f60581d5","__typename":"MediaResource","iframeSrc":"https:\u002F\u002Fcdn.embedly.com\u002Fwidgets\u002Fmedia.html?src=https%3A%2F%2Fplayer.vimeo.com%2Fvideo%2F264375572&amp;dntp=1&amp;src_secure=1&amp;url=https%3A%2F%2Fvimeo.com%2F264375572&amp;image=https%3A%2F%2Fi.vimeocdn.com%2Fvideo%2F694140079_1280.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=vimeo","iframeHeight":1080,"iframeWidth":1920,"title":"12 Apr 2018 Test - Raymarching Metaball in Unity3D"},"ImageMetadata:1*RI0lrBK_dwXc4EjYgJBv8Q.jpeg":{"id":"1*RI0lrBK_dwXc4EjYgJBv8Q.jpeg","__typename":"ImageMetadata","originalHeight":304,"originalWidth":332,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*ZbIyslOjApoPr8f8nLT9JQ.gif":{"id":"1*ZbIyslOjApoPr8f8nLT9JQ.gif","__typename":"ImageMetadata","originalHeight":312,"originalWidth":480,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*Co8SE9mtiBhaqlz1XnixPg.jpeg":{"id":"1*Co8SE9mtiBhaqlz1XnixPg.jpeg","__typename":"ImageMetadata","originalHeight":1087,"originalWidth":3932,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*dprycJE2PbefSLPMfVCfAQ.gif":{"id":"1*dprycJE2PbefSLPMfVCfAQ.gif","__typename":"ImageMetadata","originalHeight":312,"originalWidth":480,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*nATAjgaSwKb7CIlmgTUh3Q.gif":{"id":"1*nATAjgaSwKb7CIlmgTUh3Q.gif","__typename":"ImageMetadata","originalHeight":312,"originalWidth":480,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*qaYLrC-felH945HvL2tjjg.gif":{"id":"1*qaYLrC-felH945HvL2tjjg.gif","__typename":"ImageMetadata","originalHeight":313,"originalWidth":480,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*y28HAg6Foz5oNYC-Z5D5xw.gif":{"id":"1*y28HAg6Foz5oNYC-Z5D5xw.gif","__typename":"ImageMetadata","originalHeight":312,"originalWidth":480,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*dGYbmE7mq5cGq0E9OUV10A.jpeg":{"id":"1*dGYbmE7mq5cGq0E9OUV10A.jpeg","__typename":"ImageMetadata","originalHeight":2482,"originalWidth":4322,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*lL2SmCG7xFDrfVA7TC-eyg.jpeg":{"id":"1*lL2SmCG7xFDrfVA7TC-eyg.jpeg","__typename":"ImageMetadata","originalHeight":736,"originalWidth":1281,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*_V5oUV1A1AP43xexEA3HiQ.jpeg":{"id":"1*_V5oUV1A1AP43xexEA3HiQ.jpeg","__typename":"ImageMetadata","originalHeight":2482,"originalWidth":4322,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*XRJGjWFRNg9u7BslAg8dpg.jpeg":{"id":"1*XRJGjWFRNg9u7BslAg8dpg.jpeg","__typename":"ImageMetadata","originalHeight":2482,"originalWidth":4322,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*0iGi4wE4-9eHWSeFCxmRyw.png":{"id":"1*0iGi4wE4-9eHWSeFCxmRyw.png","__typename":"ImageMetadata","originalHeight":738,"originalWidth":1242,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*H5Artpg28_pZlrDy8DrfaA.jpeg":{"id":"1*H5Artpg28_pZlrDy8DrfaA.jpeg","__typename":"ImageMetadata","originalHeight":2482,"originalWidth":4322,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*anDzTYnSSvfunwQ_Qqsc9A.png":{"id":"1*anDzTYnSSvfunwQ_Qqsc9A.png","__typename":"ImageMetadata","originalHeight":742,"originalWidth":1246,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*yFQIExatzVr9c4YTk5OSlg.jpeg":{"id":"1*yFQIExatzVr9c4YTk5OSlg.jpeg","__typename":"ImageMetadata","originalHeight":2482,"originalWidth":4322,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*dUEPb8Lp1zzDt_HnrXw-oQ.gif":{"id":"1*dUEPb8Lp1zzDt_HnrXw-oQ.gif","__typename":"ImageMetadata","originalHeight":393,"originalWidth":480,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*9jIYH7yECWnLfEtaVVS-rw.jpeg":{"id":"1*9jIYH7yECWnLfEtaVVS-rw.jpeg","__typename":"ImageMetadata","originalHeight":352,"originalWidth":614,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*5PB-G7j7RCN1NFCGxEMOwQ.gif":{"id":"1*5PB-G7j7RCN1NFCGxEMOwQ.gif","__typename":"ImageMetadata","originalHeight":167,"originalWidth":320,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*_rlBAcZA8V44MH7tSLAeTw.gif":{"id":"1*_rlBAcZA8V44MH7tSLAeTw.gif","__typename":"ImageMetadata","originalHeight":412,"originalWidth":480,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:1*buTc_yqWin57a1E3S1FWvg.gif":{"id":"1*buTc_yqWin57a1E3S1FWvg.gif","__typename":"ImageMetadata","originalHeight":180,"originalWidth":320,"focusPercentX":null,"focusPercentY":null,"alt":null},"Tag:unity3d":{"id":"unity3d","__typename":"Tag","displayTitle":"Unity3d"},"Tag:unity":{"id":"unity","__typename":"Tag","displayTitle":"Unity"},"Tag:metaball":{"id":"metaball","__typename":"Tag","displayTitle":"Metaball"},"Tag:raymarching":{"id":"raymarching","__typename":"Tag","displayTitle":"Raymarching"},"Tag:shadertoy":{"id":"shadertoy","__typename":"Tag","displayTitle":"Shadertoy"},"ImageMetadata:1*w0v5qbzp92cqtnFzBGBR8w.jpeg":{"id":"1*w0v5qbzp92cqtnFzBGBR8w.jpeg","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"Collection:5dde2ca9e90a":{"id":"5dde2ca9e90a","__typename":"Collection","name":"Storius Magazine","slug":"storiusmag","domain":null},"User:2bab752ae985":{"id":"2bab752ae985","__typename":"User","name":"Travis Daub","username":"tcd004_48855","bio":"","isFollowing":null,"imageId":"0*YnQYqyZB-aAu9op5.jpg","mediumMemberAt":0,"hasDomain":false},"Post:6c85372cc342":{"id":"6c85372cc342","__typename":"Post","title":"Capture the Story in 3D, Tell It in Augmented Reality","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fstoriusmag\u002Fcapture-the-story-in-3d-tell-the-story-in-augmented-reality-6c85372cc342","previewImage":{"__ref":"ImageMetadata:1*w0v5qbzp92cqtnFzBGBR8w.jpeg"},"isPublished":true,"firstPublishedAt":1561770886412,"readingTime":12.395283018867925,"statusForCollection":"APPROVED","isLocked":true,"isShortform":false,"visibility":"LOCKED","collection":{"__ref":"Collection:5dde2ca9e90a"},"creator":{"__ref":"User:2bab752ae985"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*XB6C0avmtMnIf4ueAo_0CQ.gif":{"id":"1*XB6C0avmtMnIf4ueAo_0CQ.gif","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"Collection:9f8056cde1b3":{"id":"9f8056cde1b3","__typename":"Collection","name":"dotcrossdot","slug":"dotcrossdot","domain":null},"User:e4e460d4d87":{"id":"e4e460d4d87","__typename":"User","name":"Johan Svensson","username":"johansvensson_48308","bio":"Hi all!","isFollowing":null,"imageId":"1*zwfVMNne5PlrZT3DXZVOpQ.jpeg","mediumMemberAt":0,"hasDomain":false},"Post:53624a3684d3":{"id":"53624a3684d3","__typename":"Post","title":"Raymarching: Simulating a Black Hole","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fdotcrossdot\u002Fraymarching-simulating-a-black-hole-53624a3684d3","previewImage":{"__ref":"ImageMetadata:1*XB6C0avmtMnIf4ueAo_0CQ.gif"},"isPublished":true,"firstPublishedAt":1557817580344,"readingTime":4.240880503144654,"statusForCollection":"APPROVED","isLocked":true,"isShortform":false,"visibility":"LOCKED","collection":{"__ref":"Collection:9f8056cde1b3"},"creator":{"__ref":"User:e4e460d4d87"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*XnHzLrB2S17DUeetCPElXg.png":{"id":"1*XnHzLrB2S17DUeetCPElXg.png","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"Collection:336d898217ee":{"id":"336d898217ee","__typename":"Collection","name":"freeCodeCamp.org","slug":"free-code-camp","domain":null},"User:52610f7af036":{"id":"52610f7af036","__typename":"User","name":"Berrak Nil","username":"berraknil","bio":"Creative coder, musicologist turned programmer, audio generalist, interested in anything and everything. https:\u002F\u002Fberraknil.github.io\u002F","isFollowing":null,"imageId":"1*2leK_SV-3yCjgbuNlNXG5g@2x.jpeg","mediumMemberAt":0,"hasDomain":false},"Post:52dd56e54876":{"id":"52dd56e54876","__typename":"Post","title":"Bang on A (Virtual) Can: A Primer on A-Frame Audio","mediumUrl":"https:\u002F\u002Fmedium.com\u002Ffree-code-camp\u002Fa-primer-on-a-frame-audio-52dd56e54876","previewImage":{"__ref":"ImageMetadata:1*XnHzLrB2S17DUeetCPElXg.png"},"isPublished":true,"firstPublishedAt":1541615659472,"readingTime":9.608490566037737,"statusForCollection":"APPROVED","isLocked":false,"isShortform":false,"visibility":"PUBLIC","collection":{"__ref":"Collection:336d898217ee"},"creator":{"__ref":"User:52610f7af036"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*VNZLQTe3kRXit4g7p_XxQA.jpeg":{"id":"1*VNZLQTe3kRXit4g7p_XxQA.jpeg","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"User:9af58bb92f4c":{"id":"9af58bb92f4c","__typename":"User","name":"Hakan Karlidag","username":"axaq","bio":"Technical Director in Waste | Emerging Technologies","isFollowing":null,"imageId":"2*Ah6bXriZAcAhYcW8P9OPVw.png","mediumMemberAt":0,"hasDomain":false},"Post:df4caa6069d3":{"id":"df4caa6069d3","__typename":"Post","title":"The state of Immersive Web in 2019","mediumUrl":"https:\u002F\u002Fmedium.com\u002F@axaq\u002Fthe-state-of-immersive-web-in-2019-df4caa6069d3","previewImage":{"__ref":"ImageMetadata:1*VNZLQTe3kRXit4g7p_XxQA.jpeg"},"isPublished":true,"firstPublishedAt":1560725025827,"readingTime":12.577358490566038,"statusForCollection":null,"isLocked":true,"isShortform":false,"visibility":"LOCKED","collection":null,"creator":{"__ref":"User:9af58bb92f4c"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:0*khMkqPYjef1Qcg7g":{"id":"0*khMkqPYjef1Qcg7g","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"User:55f1938114f6":{"id":"55f1938114f6","__typename":"User","name":"Sai Krishna V. K","username":"saitec","bio":"Builder. Entrepreneur. Tech guy. scapic.com","isFollowing":null,"imageId":"1*6_i1_Kl1Rm__YDSy-4u7Qw.jpeg","mediumMemberAt":0,"hasDomain":false},"Post:4fa516ea2b36":{"id":"4fa516ea2b36","__typename":"Post","title":"Looking through the Jio Glass","mediumUrl":"https:\u002F\u002Fmedium.com\u002F@saitec\u002Flooking-through-the-jio-glass-4fa516ea2b36","previewImage":{"__ref":"ImageMetadata:0*khMkqPYjef1Qcg7g"},"isPublished":true,"firstPublishedAt":1594887394674,"readingTime":13.912264150943395,"statusForCollection":null,"isLocked":false,"isShortform":false,"visibility":"PUBLIC","collection":null,"creator":{"__ref":"User:55f1938114f6"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*EhYai7dBTJieTH-6FQzggQ.jpeg":{"id":"1*EhYai7dBTJieTH-6FQzggQ.jpeg","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"Collection:e37adbc4987a":{"id":"e37adbc4987a","__typename":"Collection","name":"Lucas Rizzotto's Blog","slug":"futurepi","domain":null},"User:f4bc8f4ab54c":{"id":"f4bc8f4ab54c","__typename":"User","name":"Lucas Rizzotto","username":"lucasrizzotto","bio":"","isFollowing":null,"imageId":"1*8wK7yLH5yHH6Pvp5_0mJ3A.jpeg","mediumMemberAt":0,"hasDomain":false},"Post:bcbf5b0e643a":{"id":"bcbf5b0e643a","__typename":"Post","title":"Magic Leap One In-Depth Review","mediumUrl":"https:\u002F\u002Fmedium.com\u002Ffuturepi\u002Fmagic-leap-one-in-depth-review-bcbf5b0e643a","previewImage":{"__ref":"ImageMetadata:1*EhYai7dBTJieTH-6FQzggQ.jpeg"},"isPublished":true,"firstPublishedAt":1534435225387,"readingTime":11.304716981132074,"statusForCollection":"APPROVED","isLocked":false,"isShortform":false,"visibility":"PUBLIC","collection":{"__ref":"Collection:e37adbc4987a"},"creator":{"__ref":"User:f4bc8f4ab54c"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*Iu7_DRv1Pr_9dHfkr22ZVw.png":{"id":"1*Iu7_DRv1Pr_9dHfkr22ZVw.png","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"User:96158823d51c":{"id":"96158823d51c","__typename":"User","name":"Namratha Subramanya","username":"namrathasubramanya","bio":"Graduate student at SDSU | Tech-geek","isFollowing":null,"imageId":"1*izcGczzwFqoEM7IJIFfq4A.jpeg","mediumMemberAt":0,"hasDomain":false},"Post:b7de33ba088":{"id":"b7de33ba088","__typename":"Post","title":"Build a Multiplayer Browser-based VR Game with A-Frame, PubNub, and WebVR","mediumUrl":"https:\u002F\u002Fmedium.com\u002Ffree-code-camp\u002Fbuild-a-multiplayer-browser-based-vr-game-with-a-frame-pubnub-and-webvr-b7de33ba088","previewImage":{"__ref":"ImageMetadata:1*Iu7_DRv1Pr_9dHfkr22ZVw.png"},"isPublished":true,"firstPublishedAt":1535403001202,"readingTime":6.175786163522013,"statusForCollection":"APPROVED","isLocked":false,"isShortform":false,"visibility":"PUBLIC","collection":{"__ref":"Collection:336d898217ee"},"creator":{"__ref":"User:96158823d51c"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"ImageMetadata:1*ZmrIRsXV1eApqUj1p2nbtA.jpeg":{"id":"1*ZmrIRsXV1eApqUj1p2nbtA.jpeg","__typename":"ImageMetadata","focusPercentX":null,"focusPercentY":null},"Collection:c05b2b7abd6d":{"id":"c05b2b7abd6d","__typename":"Collection","name":"Sony Reconsidered","slug":"sony-reconsidered","domain":"sonyreconsidered.com"},"User:fb1d4e5eb08f":{"id":"fb1d4e5eb08f","__typename":"User","name":"Sohrab Osati","username":"sohrabosati","bio":"Former Apple (current consultant), Editor-in-Chief @ Sony Reconsidered, and social media\u002Fmarketing @ Bebi Tech. tl;dr: I love ☕️ &amp; 📱.","isFollowing":null,"imageId":"1*_h6bRGOhcw5Nah3tNz0OKA@2x.jpeg","mediumMemberAt":0,"hasDomain":false},"Post:89b7b3e82d23":{"id":"89b7b3e82d23","__typename":"Post","title":"Sony CEO Kenichiro Yoshida talks VR","mediumUrl":"https:\u002F\u002Fsonyreconsidered.com\u002Fsony-ceo-kenichiro-yoshida-talks-vr-89b7b3e82d23","previewImage":{"__ref":"ImageMetadata:1*ZmrIRsXV1eApqUj1p2nbtA.jpeg"},"isPublished":true,"firstPublishedAt":1536864672279,"readingTime":3.2899371069182393,"statusForCollection":"APPROVED","isLocked":false,"isShortform":false,"visibility":"PUBLIC","collection":{"__ref":"Collection:c05b2b7abd6d"},"creator":{"__ref":"User:fb1d4e5eb08f"},"previewContent":{"__typename":"PreviewContent","isFullContent":false}},"Post:fc6f83766c5d":{"id":"fc6f83766c5d","__typename":"Post","canonicalUrl":"","collection":null,"content({\"postMeteringOptions\":{}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"validatedShareKey":"","bodyModel":{"__typename":"RichText","paragraphs":[{"__ref":"Paragraph:f9f2b8bed628_0"},{"__ref":"Paragraph:f9f2b8bed628_1"},{"__ref":"Paragraph:f9f2b8bed628_2"},{"__ref":"Paragraph:f9f2b8bed628_3"},{"__ref":"Paragraph:f9f2b8bed628_4"},{"__ref":"Paragraph:f9f2b8bed628_5"},{"__ref":"Paragraph:f9f2b8bed628_6"},{"__ref":"Paragraph:f9f2b8bed628_7"},{"__ref":"Paragraph:f9f2b8bed628_8"},{"__ref":"Paragraph:f9f2b8bed628_9"},{"__ref":"Paragraph:f9f2b8bed628_10"},{"__ref":"Paragraph:f9f2b8bed628_11"},{"__ref":"Paragraph:f9f2b8bed628_12"},{"__ref":"Paragraph:f9f2b8bed628_13"},{"__ref":"Paragraph:f9f2b8bed628_14"},{"__ref":"Paragraph:f9f2b8bed628_15"},{"__ref":"Paragraph:f9f2b8bed628_16"},{"__ref":"Paragraph:f9f2b8bed628_17"},{"__ref":"Paragraph:f9f2b8bed628_18"},{"__ref":"Paragraph:f9f2b8bed628_19"},{"__ref":"Paragraph:f9f2b8bed628_20"},{"__ref":"Paragraph:f9f2b8bed628_21"},{"__ref":"Paragraph:f9f2b8bed628_22"},{"__ref":"Paragraph:f9f2b8bed628_23"},{"__ref":"Paragraph:f9f2b8bed628_24"},{"__ref":"Paragraph:f9f2b8bed628_25"},{"__ref":"Paragraph:f9f2b8bed628_26"},{"__ref":"Paragraph:f9f2b8bed628_27"},{"__ref":"Paragraph:f9f2b8bed628_28"},{"__ref":"Paragraph:f9f2b8bed628_29"},{"__ref":"Paragraph:f9f2b8bed628_30"},{"__ref":"Paragraph:f9f2b8bed628_31"},{"__ref":"Paragraph:f9f2b8bed628_32"},{"__ref":"Paragraph:f9f2b8bed628_33"},{"__ref":"Paragraph:f9f2b8bed628_34"},{"__ref":"Paragraph:f9f2b8bed628_35"},{"__ref":"Paragraph:f9f2b8bed628_36"},{"__ref":"Paragraph:f9f2b8bed628_37"},{"__ref":"Paragraph:f9f2b8bed628_38"},{"__ref":"Paragraph:f9f2b8bed628_39"},{"__ref":"Paragraph:f9f2b8bed628_40"},{"__ref":"Paragraph:f9f2b8bed628_41"},{"__ref":"Paragraph:f9f2b8bed628_42"},{"__ref":"Paragraph:f9f2b8bed628_43"},{"__ref":"Paragraph:f9f2b8bed628_44"},{"__ref":"Paragraph:f9f2b8bed628_45"},{"__ref":"Paragraph:f9f2b8bed628_46"},{"__ref":"Paragraph:f9f2b8bed628_47"},{"__ref":"Paragraph:f9f2b8bed628_48"},{"__ref":"Paragraph:f9f2b8bed628_49"},{"__ref":"Paragraph:f9f2b8bed628_50"},{"__ref":"Paragraph:f9f2b8bed628_51"},{"__ref":"Paragraph:f9f2b8bed628_52"},{"__ref":"Paragraph:f9f2b8bed628_53"},{"__ref":"Paragraph:f9f2b8bed628_54"},{"__ref":"Paragraph:f9f2b8bed628_55"},{"__ref":"Paragraph:f9f2b8bed628_56"},{"__ref":"Paragraph:f9f2b8bed628_57"},{"__ref":"Paragraph:f9f2b8bed628_58"},{"__ref":"Paragraph:f9f2b8bed628_59"},{"__ref":"Paragraph:f9f2b8bed628_60"},{"__ref":"Paragraph:f9f2b8bed628_61"},{"__ref":"Paragraph:f9f2b8bed628_62"},{"__ref":"Paragraph:f9f2b8bed628_63"},{"__ref":"Paragraph:f9f2b8bed628_64"},{"__ref":"Paragraph:f9f2b8bed628_65"},{"__ref":"Paragraph:f9f2b8bed628_66"},{"__ref":"Paragraph:f9f2b8bed628_67"},{"__ref":"Paragraph:f9f2b8bed628_68"},{"__ref":"Paragraph:f9f2b8bed628_69"},{"__ref":"Paragraph:f9f2b8bed628_70"},{"__ref":"Paragraph:f9f2b8bed628_71"},{"__ref":"Paragraph:f9f2b8bed628_72"},{"__ref":"Paragraph:f9f2b8bed628_73"},{"__ref":"Paragraph:f9f2b8bed628_74"},{"__ref":"Paragraph:f9f2b8bed628_75"},{"__ref":"Paragraph:f9f2b8bed628_76"},{"__ref":"Paragraph:f9f2b8bed628_77"},{"__ref":"Paragraph:f9f2b8bed628_78"},{"__ref":"Paragraph:f9f2b8bed628_79"},{"__ref":"Paragraph:f9f2b8bed628_80"},{"__ref":"Paragraph:f9f2b8bed628_81"},{"__ref":"Paragraph:f9f2b8bed628_82"},{"__ref":"Paragraph:f9f2b8bed628_83"},{"__ref":"Paragraph:f9f2b8bed628_84"},{"__ref":"Paragraph:f9f2b8bed628_85"},{"__ref":"Paragraph:f9f2b8bed628_86"},{"__ref":"Paragraph:f9f2b8bed628_87"},{"__ref":"Paragraph:f9f2b8bed628_88"},{"__ref":"Paragraph:f9f2b8bed628_89"},{"__ref":"Paragraph:f9f2b8bed628_90"},{"__ref":"Paragraph:f9f2b8bed628_91"},{"__ref":"Paragraph:f9f2b8bed628_92"},{"__ref":"Paragraph:f9f2b8bed628_93"},{"__ref":"Paragraph:f9f2b8bed628_94"},{"__ref":"Paragraph:f9f2b8bed628_95"},{"__ref":"Paragraph:f9f2b8bed628_96"},{"__ref":"Paragraph:f9f2b8bed628_97"},{"__ref":"Paragraph:f9f2b8bed628_98"},{"__ref":"Paragraph:f9f2b8bed628_99"},{"__ref":"Paragraph:f9f2b8bed628_100"},{"__ref":"Paragraph:f9f2b8bed628_101"},{"__ref":"Paragraph:f9f2b8bed628_102"},{"__ref":"Paragraph:f9f2b8bed628_103"},{"__ref":"Paragraph:f9f2b8bed628_104"},{"__ref":"Paragraph:f9f2b8bed628_105"},{"__ref":"Paragraph:f9f2b8bed628_106"},{"__ref":"Paragraph:f9f2b8bed628_107"},{"__ref":"Paragraph:f9f2b8bed628_108"},{"__ref":"Paragraph:f9f2b8bed628_109"},{"__ref":"Paragraph:f9f2b8bed628_110"},{"__ref":"Paragraph:f9f2b8bed628_111"},{"__ref":"Paragraph:f9f2b8bed628_112"},{"__ref":"Paragraph:f9f2b8bed628_113"},{"__ref":"Paragraph:f9f2b8bed628_114"},{"__ref":"Paragraph:f9f2b8bed628_115"},{"__ref":"Paragraph:f9f2b8bed628_116"},{"__ref":"Paragraph:f9f2b8bed628_117"},{"__ref":"Paragraph:f9f2b8bed628_118"},{"__ref":"Paragraph:f9f2b8bed628_119"},{"__ref":"Paragraph:f9f2b8bed628_120"},{"__ref":"Paragraph:f9f2b8bed628_121"},{"__ref":"Paragraph:f9f2b8bed628_122"},{"__ref":"Paragraph:f9f2b8bed628_123"},{"__ref":"Paragraph:f9f2b8bed628_124"},{"__ref":"Paragraph:f9f2b8bed628_125"},{"__ref":"Paragraph:f9f2b8bed628_126"},{"__ref":"Paragraph:f9f2b8bed628_127"},{"__ref":"Paragraph:f9f2b8bed628_128"},{"__ref":"Paragraph:f9f2b8bed628_129"},{"__ref":"Paragraph:f9f2b8bed628_130"},{"__ref":"Paragraph:f9f2b8bed628_131"},{"__ref":"Paragraph:f9f2b8bed628_132"},{"__ref":"Paragraph:f9f2b8bed628_133"},{"__ref":"Paragraph:f9f2b8bed628_134"},{"__ref":"Paragraph:f9f2b8bed628_135"},{"__ref":"Paragraph:f9f2b8bed628_136"},{"__ref":"Paragraph:f9f2b8bed628_137"},{"__ref":"Paragraph:f9f2b8bed628_138"},{"__ref":"Paragraph:f9f2b8bed628_139"},{"__ref":"Paragraph:f9f2b8bed628_140"},{"__ref":"Paragraph:f9f2b8bed628_141"},{"__ref":"Paragraph:f9f2b8bed628_142"},{"__ref":"Paragraph:f9f2b8bed628_143"},{"__ref":"Paragraph:f9f2b8bed628_144"},{"__ref":"Paragraph:f9f2b8bed628_145"},{"__ref":"Paragraph:f9f2b8bed628_146"},{"__ref":"Paragraph:f9f2b8bed628_147"},{"__ref":"Paragraph:f9f2b8bed628_148"},{"__ref":"Paragraph:f9f2b8bed628_149"},{"__ref":"Paragraph:f9f2b8bed628_150"},{"__ref":"Paragraph:f9f2b8bed628_151"},{"__ref":"Paragraph:f9f2b8bed628_152"},{"__ref":"Paragraph:f9f2b8bed628_153"},{"__ref":"Paragraph:f9f2b8bed628_154"},{"__ref":"Paragraph:f9f2b8bed628_155"},{"__ref":"Paragraph:f9f2b8bed628_156"},{"__ref":"Paragraph:f9f2b8bed628_157"},{"__ref":"Paragraph:f9f2b8bed628_158"},{"__ref":"Paragraph:f9f2b8bed628_159"},{"__ref":"Paragraph:f9f2b8bed628_160"},{"__ref":"Paragraph:f9f2b8bed628_161"},{"__ref":"Paragraph:f9f2b8bed628_162"},{"__ref":"Paragraph:f9f2b8bed628_163"},{"__ref":"Paragraph:f9f2b8bed628_164"},{"__ref":"Paragraph:f9f2b8bed628_165"},{"__ref":"Paragraph:f9f2b8bed628_166"},{"__ref":"Paragraph:f9f2b8bed628_167"},{"__ref":"Paragraph:f9f2b8bed628_168"},{"__ref":"Paragraph:f9f2b8bed628_169"},{"__ref":"Paragraph:f9f2b8bed628_170"},{"__ref":"Paragraph:f9f2b8bed628_171"},{"__ref":"Paragraph:f9f2b8bed628_172"},{"__ref":"Paragraph:f9f2b8bed628_173"},{"__ref":"Paragraph:f9f2b8bed628_174"},{"__ref":"Paragraph:f9f2b8bed628_175"},{"__ref":"Paragraph:f9f2b8bed628_176"},{"__ref":"Paragraph:f9f2b8bed628_177"},{"__ref":"Paragraph:f9f2b8bed628_178"},{"__ref":"Paragraph:f9f2b8bed628_179"},{"__ref":"Paragraph:f9f2b8bed628_180"},{"__ref":"Paragraph:f9f2b8bed628_181"},{"__ref":"Paragraph:f9f2b8bed628_182"},{"__ref":"Paragraph:f9f2b8bed628_183"},{"__ref":"Paragraph:f9f2b8bed628_184"},{"__ref":"Paragraph:f9f2b8bed628_185"},{"__ref":"Paragraph:f9f2b8bed628_186"},{"__ref":"Paragraph:f9f2b8bed628_187"},{"__ref":"Paragraph:f9f2b8bed628_188"},{"__ref":"Paragraph:f9f2b8bed628_189"},{"__ref":"Paragraph:f9f2b8bed628_190"},{"__ref":"Paragraph:f9f2b8bed628_191"},{"__ref":"Paragraph:f9f2b8bed628_192"},{"__ref":"Paragraph:f9f2b8bed628_193"},{"__ref":"Paragraph:f9f2b8bed628_194"},{"__ref":"Paragraph:f9f2b8bed628_195"},{"__ref":"Paragraph:f9f2b8bed628_196"},{"__ref":"Paragraph:f9f2b8bed628_197"},{"__ref":"Paragraph:f9f2b8bed628_198"},{"__ref":"Paragraph:f9f2b8bed628_199"},{"__ref":"Paragraph:f9f2b8bed628_200"},{"__ref":"Paragraph:f9f2b8bed628_201"},{"__ref":"Paragraph:f9f2b8bed628_202"},{"__ref":"Paragraph:f9f2b8bed628_203"},{"__ref":"Paragraph:f9f2b8bed628_204"},{"__ref":"Paragraph:f9f2b8bed628_205"},{"__ref":"Paragraph:f9f2b8bed628_206"},{"__ref":"Paragraph:f9f2b8bed628_207"},{"__ref":"Paragraph:f9f2b8bed628_208"},{"__ref":"Paragraph:f9f2b8bed628_209"},{"__ref":"Paragraph:f9f2b8bed628_210"},{"__ref":"Paragraph:f9f2b8bed628_211"},{"__ref":"Paragraph:f9f2b8bed628_212"},{"__ref":"Paragraph:f9f2b8bed628_213"},{"__ref":"Paragraph:f9f2b8bed628_214"},{"__ref":"Paragraph:f9f2b8bed628_215"}],"sections":[{"__typename":"Section","name":"2230","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"7c9a","startIndex":23,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"81fc","startIndex":205,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}]}},"creator":{"__ref":"User:ae7da3fab1cb"},"customStyleSheet":null,"firstPublishedAt":1525695062973,"isLocked":false,"isPublished":true,"isShortform":false,"layerCake":0,"primaryTopic":null,"title":"Ray Marching Metaball in Unity3D","mediumUrl":"https:\u002F\u002Fmedium.com\u002F@avseoul\u002Fray-marching-metaball-in-unity3d-fc6f83766c5d","isLimitedState":false,"visibility":"PUBLIC","license":"ALL_RIGHTS_RESERVED","allowResponses":true,"newsletterId":"","sequence":null,"tags":[{"__ref":"Tag:unity3d"},{"__ref":"Tag:unity"},{"__ref":"Tag:metaball"},{"__ref":"Tag:raymarching"},{"__ref":"Tag:shadertoy"}],"topics":[],"viewerClapCount":0,"showSubscribeToProfilePromo":false,"showSubscribeToCollectionNewsletterV3Promo":false,"inResponseToPostResult":null,"isNewsletter":false,"socialTitle":"","socialDek":"","metaDescription":"","latestPublishedAt":1545668486981,"readingTime":20.9811320754717,"previewContent":{"__typename":"PreviewContent","subtitle":"Introduction"},"previewImage":{"__ref":"ImageMetadata:1*WQOLdESkFEZjrctM--OB0Q.jpeg"},"creatorPartnerProgramEnrollmentStatus":"PERMISSION_DENIED","clapCount":406,"lockedSource":"LOCKED_POST_SOURCE_NONE","isSuspended":false,"pendingCollection":null,"statusForCollection":null,"pinnedAt":0,"pinnedByCreatorAt":0,"curationEligibleAt":0,"shareKey":null,"responsesCount":3,"internalLinks({\"paging\":{\"limit\":8}})":{"__typename":"InternalLinksConnection","items":[{"__ref":"Post:6c85372cc342"},{"__ref":"Post:53624a3684d3"},{"__ref":"Post:52dd56e54876"},{"__ref":"Post:df4caa6069d3"},{"__ref":"Post:4fa516ea2b36"},{"__ref":"Post:bcbf5b0e643a"},{"__ref":"Post:b7de33ba088"},{"__ref":"Post:89b7b3e82d23"}]},"collaborators":[],"translationSourcePost":null,"inResponseToMediaResource":null,"isDistributionAlertDismissed":false,"audioVersionUrl":"","seoTitle":"","updatedAt":1545668486981,"shortformType":"SHORTFORM_TYPE_LINK","structuredData":"","seoDescription":"","postResponses":{"__typename":"PostResponses","count":3},"latestPublishedVersion":"f9f2b8bed628","isPublishToEmail":false,"readingList":"READING_LIST_NONE","voterCount":56,"recommenders":[]}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.c7b8c894.js"></script><script src="https://cdn-client.medium.com/lite/static/js/9121.f611c967.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.a2651300.js"></script><script src="https://cdn-client.medium.com/lite/static/js/5573.159bf40f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/instrumentation.6c7d3023.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.b50ddc2d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1826.f1c2fa77.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4464.c01c0ad8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8342.6aa0b45e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1148.bd3f861a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5064.af376ed2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9274.d44d5b08.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2846.8be21ffb.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7966.2bb3ebd7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7993.94bd472b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6839.59bfb996.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5967.beb9209d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8751.a204e2b8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2054.a25382db.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8127.78068192.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7131.405e9f6e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2532.d782afd5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5279.1d272c52.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9978.f67bbc2b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3721.8755b287.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2514.754d3e0a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2602.c7baa923.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6585.9732ed29.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1838.23d1e77b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9889.321bf349.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3981.88ac0bd8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/Post.de9e5e5f.chunk.js"></script><script>window.main();</script><script src="//d1z2jf7jlzjs58.cloudfront.net/keys/medium.com/p.js" async="" id="parsely-cf"></script><script src="https://accounts.google.com/gsi/client" async=""></script><iframe src="https://a16180790160.cdn.optimizely.com/client_storage/a16180790160.html" hidden="" tabindex="-1" title="Optimizely Internal Frame" height="0" width="0" style="display: none;"></iframe></body></html>